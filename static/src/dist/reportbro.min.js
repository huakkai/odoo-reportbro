/*!
 * Copyright (C) 2017 jobsta
 * 
 * This file is part of ReportBro, a library to generate PDF and Excel reports.
 * Demos can be found at https://www.reportbro.com.
 * 
 * ReportBro is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * ReportBro is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * 
 */
(function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=145)})([function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(101),o=a(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),o.default(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()},function(e,t){"use strict";function r(e){e.on("keyup",function(){var e=this.value.reverse().replace(/[^0-9\-]|\-(?=.)/g,"").reverse();this.value!=e&&(this.value=e)})}function a(e){e.on("keyup",function(){var e=this.value.replace(/[^0-9]/g,"");this.value!=e&&(this.value=e)})}function n(e){e.on("keyup",function(){var e=this.value.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),t=this.className,r=t.indexOf("decimalPlaces");if(-1!=r){r+=13;var a,n=t.indexOf(" ",r);a=-1!=n?parseInt(t.substring(r,n),10):parseInt(t.substr(r),10),isNaN(a)||(r=e.indexOf("."),-1==r&&(r=e.indexOf(",")),-1!=r&&e.length-1-r>a&&(e=e.substring(0,r+a+1)))}this.value!=e&&(this.value=e)})}function o(e,t,r){var a=parseFloat(e.replace(",","."));return isNaN(a)?""+t:t>a?""+t:a>r?""+r:e}function i(e){if(""===e)return 0;var t=parseInt(e,10);return isNaN(t)?0:t}function l(e,t){var r=Math.ceil(e/t)*t;return t>>1>=r-e?r:r-t}function d(e,t){return Math.floor(e/t)*t}function s(e,t){return Math.ceil(e/t)*t}function u(e,t,r){for(var a=e;a.indexOf(t)!==-1;)a=a.replace(t,r);return a}function p(e,t,r){var a={showInitial:!1,preferredFormat:"hex",containerClassName:"rbroColorContainer",replacerClassName:"rbroColorPicker",showPalette:!0,showButtons:!1,showSelectionPalette:!1,palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],change:function(){e.spectrum("hide")},show:function(){e.parent().addClass("rbroActive")},hide:function(){e.parent().removeClass("rbroActive")}};$.extend(a,r||{}),e.spectrum(a),e.show(),e.focus(function(){e.parent().addClass("rbroActive")}),e.blur(function(){e.parent().removeClass("rbroActive")})}function b(e,t){if(document.selection){e.focus();var r=document.selection.createRange();r.text=t,e.focus()}else if(e.selectionStart||e.selectionStart===0){var a=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,a)+t+e.value.substring(n,e.value.length),e.focus(),e.selectionStart=a+t.length,e.selectionEnd=a+t.length,e.scrollTop=o}else e.value+=t,e.focus()}function c(e,t){var r=e.split("/");return r.length>=2&&r[0]==t?r[1]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.setInputInteger=r,t.setInputPositiveInteger=a,t.setInputDecimal=n,t.checkInputDecimal=o,t.convertInputToNumber=i,t.roundValueToInterval=l,t.roundValueToLowerInterval=d,t.roundValueToUpperInterval=s,t.replaceAll=u,t.initColorPicker=p,t.insertAtCaret=b,t.getDataTransferType=c,String.prototype.reverse=function(){return this.split("").reverse().join("")}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(11),s=a(d),u=function(){function e(t,r,a,n,i,l){o.default(this,e),this.objId=t,this.tagId=r,this.field=a,this.value=n,this.type=i,this.rb=l;var d=l.getDataObject(t);this.oldValue=d.getValue(a),this.firstExecution=!0,this.select=!0}return l.default(e,[{key:"getName",value:function(){return"Set value"}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(t){var r=this.rb.getDataObject(this.objId),a=this.rb.getDetailData(),n=null!==a&&a.getId()===this.objId,o="#"+this.tagId;r.setValue(this.field,t,o,n),this.field==="name"?($("#rbro_menu_item_name"+this.objId).text(t),$("#rbro_menu_item_name"+this.objId).attr("title",t),this.rb.notifyEvent(r,s.default.operation.rename)):this.rb.notifyEvent(r,s.default.operation.change,this.field),n&&(this.type===e.type.text||this.type===e.type.select?$(o).val(t):this.type===e.type.filename?($(o).text(t),""===t?$("#"+this.tagId+"_container").addClass("rbroHidden"):$("#"+this.tagId+"_container").removeClass("rbroHidden")):this.type===e.type.checkbox?$(o).prop("checked",t):this.type===e.type.button?t?$(o).addClass("rbroButtonActive"):$(o).removeClass("rbroButtonActive"):this.type===e.type.buttonGroup?($(o).find("button").removeClass("rbroButtonActive"),$(o).find('button[value="'+t+'"]').addClass("rbroButtonActive")):this.type===e.type.color&&$(o).spectrum("set",t))}},{key:"disableSelect",value:function(){this.select=!1}},{key:"allowReplace",value:function(t){return this.type===e.type.text&&this.objId===t.objId&&this.tagId===t.tagId&&this.field===t.field}}]),e}();t.default=u,u.type={text:"text",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(32),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(15);n(c);var _=r(56),m=n(_),h=r(3),f=n(h),v=r(2),g=a(v),y=function(){function e(t,r,a,n,o){u.default(this,e),this.rb=o,this.id=r,this.name=t,this.panelItem=null,this.x="0",this.y="0",this.width=""+a,this.height=""+n,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return b.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=g.convertInputToNumber(this.x),this.yVal=g.convertInputToNumber(this.y),this.widthVal=g.convertInputToNumber(this.width),this.heightVal=g.convertInputToNumber(this.height)}},{key:"setup",value:function(){var e=this.getContainer();if(null!==e){var t=e.getSize();this.xVal+this.widthVal>t.width&&(this.xVal=t.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>t.height&&(this.yVal=t.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.handleClick(t,!0)}).mousedown(function(t){e.handleClick(t,!1)})}},{key:"handleClick",value:function(t,r){this.rb.isSelectedObject(this.id)?(t.shiftKey?this.rb.deselectObject(this.id):this.rb.getDocument().startDrag(t.originalEvent.pageX,t.originalEvent.pageY,this.containerId,this.linkedContainerId,this.getElementType(),e.dragType.element),t.stopPropagation()):(r||!this.isContainerSelected())&&(this.rb.selectObject(this.id,!t.shiftKey),t.stopPropagation())}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getContainerSize",value:function(){var e=this.getContainer();return null!==e?e.getSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var e=this.getContainer();null!==e&&e.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var e=this.getContainer();return null!==e?e.isSelected():!1}},{key:"appendContainerChildren",value:function(t){if(this.linkedContainerId!==null&&this.panelItem!==null){var r=this.panelItem.getChildren(),a=!0,n=!1,o=void 0;try{for(var i,l=d.default(r);!(a=(i=l.next()).done);a=!0){var s=i.value;s.getData()instanceof e&&(t.push(s.getData()),s.getData().appendContainerChildren(t))}}catch(u){n=!0,o=u}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}}},{key:"checkBounds",value:function(t,r,a,n,o,i){if(t+a>o.width&&(t=o.width-a),0>t&&(t=0),t+a>o.width&&(a=o.width-t),r+n>o.height&&(r=o.height-n),0>r&&(r=0),r+n>o.height&&(n=o.height-r),t!==this.xVal&&this.getXTagId()!==""){var l=new f.default(this.id,this.getXTagId(),"x",""+t,f.default.type.text,this.rb);l.disableSelect(),i.addCommand(l)}if(r!==this.yVal&&this.getYTagId()!==""){var s=new f.default(this.id,this.getYTagId(),"y",""+r,f.default.type.text,this.rb);s.disableSelect(),i.addCommand(s)}if(a!==this.widthVal&&this.getWidthTagId()!==""){var u=new f.default(this.id,this.getWidthTagId(),"width",""+a,f.default.type.text,this.rb);u.disableSelect(),i.addCommand(u)}if(n!==this.heightVal&&this.getHeightTagId()!==""){var p=new f.default(this.id,this.getHeightTagId(),"height",""+n,f.default.type.text,this.rb);p.disableSelect(),i.addCommand(p)}var b=this.getLinkedContainer();if(null!==b&&b.getPanelItem()!==null){var c={width:a,height:n},_=!0,m=!1,h=void 0;try{for(var v,g=d.default(b.getPanelItem().getChildren());!(_=(v=g.next()).done);_=!0){var y=v.value;if(y.getData()instanceof e){var w=y.getData();w.checkBounds(w.getValue("xVal"),w.getValue("yVal"),w.getValue("widthVal"),w.getValue("heightVal"),c,i)}}}catch(I){m=!0,h=I}finally{try{!_&&g.return&&g.return()}finally{if(m)throw h}}}}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){this[e]=t,"x"===e||"y"===e||"width"===e||"height"===e?(this[e+"Val"]=g.convertInputToNumber(t),this.updateDisplay()):"containerId"===e?this.el!==null&&(this.el.detach(),this.appendToContainer()):["styleId","bold","italic","underline","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)!==-1&&this.updateDisplay())}},{key:"getFields",value:function(){return[]}},{key:"getElementType",value:function(){return e.type.none}},{key:"setBorderAll",value:function(e,t){this[e+"borderAll"]=t}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(e){this.styleId==e&&this.updateStyle()}},{key:"updateDrag",value:function(t,r,a,n,o,i){var l=this.xVal,d=this.yVal,s=l+this.widthVal,u=d+this.heightVal,p=this.getMaxWidth(),b=20;if(a===e.dragType.element)l+=t,0!==o&&(l=g.roundValueToInterval(l,o)),s=l+this.widthVal,d+=r,0!==o&&(d=g.roundValueToInterval(d,o)),u=d+this.heightVal;else{var c=this.getContainerSize();(a===e.dragType.sizerNW||a===e.dragType.sizerN||a===e.dragType.sizerNE)&&(d+=r,0!==o&&(d=g.roundValueToInterval(d,o)),d>u-b?d=0!==o?g.roundValueToLowerInterval(u-b,o):u-b:0>d&&(d=0)),(a===e.dragType.sizerNE||a===e.dragType.sizerE||a===e.dragType.sizerSE)&&(s+=t,0!==o&&(s=g.roundValueToInterval(s,o)),l+b>s?s=0!==o?g.roundValueToUpperInterval(l+b,o):l+b:s>p&&(s=p)),(a===e.dragType.sizerSE||a===e.dragType.sizerS||a===e.dragType.sizerSW)&&(u+=r,0!==o&&(u=g.roundValueToInterval(u,o)),d+b>u?u=0!==o?g.roundValueToUpperInterval(d+b,o):d+b:u>c.height&&(u=c.height)),(a===e.dragType.sizerSW||a===e.dragType.sizerW||a===e.dragType.sizerNW)&&(l+=t,0!==o&&(l=g.roundValueToInterval(l,o)),l>s-b?l=0!==o?g.roundValueToLowerInterval(s-b,o):s-b:0>l&&(l=0))}var _=s-l,h=u-d;if(null!==i){var v=!1,y=this.getContainer(),w={width:0,height:0};if(null!==n&&n.getId()!==this.getContainerId()){if(v=!0,w=n.getSize(),null!==y){var I=n.getOffsetTo(y);l-=I.x,d-=I.y}}else w=y.getSize();if(!v||n.isElementAllowed(this.getElementType())){if(this.checkBounds(l,d,_,h,w,i),v){var $=new f.default(this.id,null,"containerId",n.getId(),f.default.type.internal,this.rb);i.addCommand($),$=new m.default(this.getPanelItem(),n.getPanelItem(),n.getPanelItem().getChildren().length,this.rb),i.addCommand($)}i.isEmpty()&&this.updateDisplay()}else this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}else this.updateDisplayInternal(l,d,_,h)}},{key:"select",value:function(){var t=this,r=this.getSizerContainerElement(),a=this.getSizers(),n=!0,o=!1,i=void 0;try{for(var l,s=function(){var a=l.value,n=a,o=$('<div class="rbroSizer rbroSizer'+a+'"></div>').mousedown(function(r){t.rb.getDocument().startDrag(r.pageX,r.pageY,t.containerId,t.linkedContainerId,t.getElementType(),e.dragType["sizer"+n]),r.stopPropagation()});r.append(o)},u=d.default(a);!(n=(l=u.next()).done);n=!0)s()}catch(p){o=!0,i=p}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}this.el.addClass("rbroSelected"),this.el.css("z-index","10"),this.selected=!0}},{key:"deselect",value:function(){var e=this.getSizerContainerElement();e.find(".rbroSizer").remove(),this.el.css("z-index",""),this.el.removeClass("rbroSelected"),this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"getXTagId",value:function(){return""}},{key:"getYTagId",value:function(){return""}},{key:"getWidthTagId",value:function(){return""}},{key:"getHeightTagId",value:function(){return""}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"getMaxWidth",value:function(){var e=this.getContainerSize();return e.width}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"addCommandsForChangedParameter",value:function(){}},{key:"addChildren",value:function(){}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var e={elementType:this.getElementType()},t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.getFields());!(t=(n=o.next()).done);t=!0){var i=n.value;e[i]=["x","y","width","height"].indexOf(i)===-1?this.getValue(i):this.getValue(i+"Val")}}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"toJSON",value:function(){return i.default(this.toJS())}}]),e}();t.default=y,y.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",band:"band",frame:"frame"},y.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8}},function(e,t,r){e.exports={"default":r(106),__esModule:!0}},function(e,t,r){e.exports={"default":r(111),__esModule:!0}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(103),o=a(n),i=r(100),l=a(i),d=r(64),s=a(d);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s.default(t)));e.prototype=l.default(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?o.default(e,t):e.__proto__=t)}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(64),o=a(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||("undefined"==typeof t?"undefined":o.default(t))!=="object"&&"function"!=typeof t?e:t}},function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(32),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(3),_=n(c),m=r(16),h=n(m),f=r(2),v=a(f),g=function(){function e(t,r){u.default(this,e),this.rootElement=t,this.rb=r,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.type=null,this.parameters=null,this.visible=!1}return b.default(e,[{key:"render",value:function(){var e=this;this.elWindow=$('<div class="rbroPopupWindow rbroHidden"></div>'),this.elContent=$('<div class="rbroPopupWindowContent"></div>').mouseup(function(e){e.stopPropagation()}),this.elWindow.append(this.elContent);var t=$('<div class="rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"></div>').click(function(){e.hide()});this.elWindow.append(t),$("body").append(this.elWindow)}},{key:"show",value:function(t,r,a,n,o){var i=this,l=$(window).width(),s=$(window).height();if(this.input=""!==a?$("#"+a):null,this.objId=r,this.type=o,this.elContent.empty(),$("#rbro_background_overlay").remove(),o===e.type.testData){var u=$("<div></div>"),p=$("<table></table>"),b=$("<tr></tr>"),c=$("<tbody></tbody>"),_=void 0;b.append("<th></th>"),this.parameters=t[0];var m=!0,h=!1,f=void 0;try{for(var g,y=d.default(this.parameters);!(m=(g=y.next()).done);m=!0){var w=g.value;b.append("<th>"+w.name+"</th>")}}catch(I){h=!0,f=I}finally{try{!m&&y.return&&y.return()}finally{if(h)throw f}}for(p.append($("<thead></thead>").append(b)),t.length===1&&this.addTestDataRow(c,this.parameters,null),_=1;_<t.length;_++)this.addTestDataRow(c,this.parameters,t[_]);p.append(c),u.append(p),u.append($('<div class="rbroButton rbroPopupWindowButton rBFullWidthButton">'+this.rb.getLabel("parameterAddTestData")+"</div>").click(function(){i.addTestDataRow(c,i.parameters,null)})),this.elContent.append(u);var x=Math.round(.8*l),C=Math.round(.8*s);this.elWindow.css({left:Math.round((l-x)/2)+"px",top:Math.round((s-C)/2)+$(window).scrollTop()+"px",width:x+"px",height:C+"px"}),$("body").append($('<div id="rbro_background_overlay" class="rbroBackgroundOverlay"></div>')),$("body").addClass("rbroFixedBackground")}else{var k=$("<ul></ul>").mousedown(function(e){e.preventDefault()}),D=!0,O=!1,P=void 0;try{for(var E,j=function(){var t=E.value,r=$("<li></li>");if(t.separator){var a="rbroPopupItemSeparator";t.separatorClass&&(a+=" "+t.separatorClass),r.attr("class",a)}else r.mousedown(function(r){if(o===e.type.pattern)i.input.val(t.name),i.input.trigger("input"),i.hide();else if(o===e.type.parameterSet){var a="${"+t.name+"}";i.input.val(a),i.input.trigger("input"),autosize.update(i.input),i.hide()}else if(o===e.type.parameterAppend){var n="${"+t.name+"}";v.insertAtCaret(i.input.get(0),n),autosize.update(i.input),i.input.trigger("input"),i.hide()}r.preventDefault()});r.append('<div class="rbroPopupItemHeader">'+t.name+"</div>"),t.description&&t.description!==""&&r.append('<div class="rbroPopupItemDescription">'+t.description+"</div>"),k.append(r)},S=d.default(t);!(D=(E=S.next()).done);D=!0)j()}catch(I){O=!0,P=I}finally{try{!D&&S.return&&S.return()}finally{if(O)throw P}}this.elContent.append(k);var V=this.input.offset(),T=V.top;s/2>T||300>T?T+=this.input.height():T-=300,this.elWindow.css({left:V.left+"px",top:T+"px",width:"400px",height:"300px"})}this.elWindow.removeClass("rbroHidden"),this.visible=!0}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===e.type.testData){var t=[],r=this.elContent.find("tbody").find("tr"),a=!0,n=!1,o=void 0;try{for(var l,s=d.default(r);!(a=(l=s.next()).done);a=!0){var u=l.value,p=$(u).find("input"),b={},c=0,m=!0,h=!1,f=void 0;try{for(var v,g=d.default(this.parameters);!(m=(v=g.next()).done);m=!0){var y=v.value,w=p.eq(c);b[y.name]=w.val().trim(),c++}}catch(I){h=!0,f=I}finally{try{!m&&g.return&&g.return()}finally{if(h)throw f}}t.push(b)}}catch(I){n=!0,o=I}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}var x=this.rb.getDataObject(this.objId),C=i.default(t);if(null!==x&&x.getValue("testData")!==C){var k=new _.default(this.objId,"rbro_parameter_test_data","testData",C,_.default.type.text,this.rb);this.rb.executeCommand(k)}$("#rbro_background_overlay").remove()}this.elWindow.addClass("rbroHidden"),this.elContent.empty(),$("body").removeClass("rbroFixedBackground"),this.visible=!1}}},{key:"addTestDataRow",value:function(e,t,r){var a=this,n=$("<tr></tr>");n.append($("<th></th>").append($('<div class="rbroButton rbroDeleteButton rbroIcon-cancel"></div>').click(function(e){$(e.target).parent().parent().remove()})));var o=!0,i=!1,l=void 0;try{for(var s,u=(function(){var e=s.value,t="";null!==r&&e.name in r&&(t=r[e.name]);var o=$('<input type="text" value="'+t+'">').focus(function(){o.parent().addClass("rbroHasFocus")}).blur(function(){o.parent().removeClass("rbroHasFocus")});e.type===h.default.type.number?v.setInputDecimal(o):e.type===h.default.type.date&&o.attr("placeholder",a.rb.getLabel("parameterTestDataDatePattern")),n.append($("<td></td>").append(o))}),p=d.default(t);!(o=(s=p.next()).done);o=!0)u()}catch(b){i=!0,l=b}finally{try{!o&&p.return&&p.return()}finally{if(i)throw l}}e.append(n)}}]),e}();t.default=g,g.type={parameterSet:0,parameterAppend:1,pattern:2,testData:3}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(){o.default(this,e)}return l.default(e,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}}]),e}();t.default=d,d.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(24),s=a(d),u=r(83),p=a(u),b=r(84),c=a(b),_=r(20),m=a(_),h=r(56),f=a(h),v=r(3),g=a(v),y=r(28),w=a(y),I=r(16),x=a(I),C=r(38),k=a(C),D=r(4),O=a(D),P=r(15);a(P);var E=function(){function e(t,r,a,n,i,l){var d=this;o.default(this,e),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},$.extend(this.properties,i),this.panelName=t,this.panelCategory=r;var u=null!==n?n.getName():"";this.id=null!==n?n.getId():i.id,this.parent=a,this.data=n,this.rb=l,this.children=[],this.dragEnterCount=0,this.element=$("<li></li>"),this.properties.visible||this.element.addClass("rbroHidden");var b=$('<div id="rbro_menu_item'+this.id+'" class="rbroMenuItem"></div>');this.properties.draggable&&(b.attr("draggable","true"),b.on("dragstart",function(e){e.originalEvent.dataTransfer.setData("text/plain",""),e.originalEvent.dataTransfer.effectAllowed="move",d.rb.startBrowserDrag("panelItem",d.panelCategory,null,d.id),e.stopPropagation()})),b.on("dragover",function(e){d.rb.isBrowserDragActive("panelItem")&&d.rb.getBrowserDragCategory()===d.panelCategory&&d.rb.getBrowserDragId()!==d.id&&(e.preventDefault(),e.stopPropagation())}).on("dragenter",function(e){d.rb.isBrowserDragActive("panelItem")&&d.rb.getBrowserDragCategory()===d.panelCategory&&d.rb.getBrowserDragId()!==d.id&&(b.addClass("rbroMenuItemDragOver"),d.dragEnterCount++,e.preventDefault())}).on("dragleave",function(){d.rb.isBrowserDragActive("panelItem")&&d.rb.getBrowserDragCategory()===d.panelCategory&&d.rb.getBrowserDragId()!==d.id&&(d.dragEnterCount--,d.dragEnterCount===0&&b.removeClass("rbroMenuItemDragOver"))}).on("drop",function(e){if(d.rb.isBrowserDragActive("panelItem")&&d.rb.getBrowserDragCategory()===d.panelCategory&&d.rb.getBrowserDragId()!==d.id){d.dragEnterCount--,b.removeClass("rbroMenuItemDragOver");var t=d.rb.getBrowserDragId(),r=d.rb.getDataObject(t);if(null!==r){var a=d.getSiblingPosition(),n=d;if(d.getParent()!==null&&(n=d.getParent(),a++),n!==r.getPanelItem().getParent()||a!==r.getPanelItem().getSiblingPosition()){var o=!1,i=new m.default("Move panel item",d.rb);if(r instanceof x.default)(r.getValue("type")!==x.default.type.array&&r.getValue("type")!==x.default.type.map||n===d.rb.getMainPanel().getParametersItem())&&(o=!0);else if(r instanceof O.default){var l=null;if(n.getData()instanceof w.default)l=n.getData();else{var s=n.getData();s instanceof O.default&&(l=s.getLinkedContainer(),null===l&&(l=s.getContainer()))}if(null!==l&&(o=l.isElementAllowed(r.getElementType()),o&&r.getValue("containerId")!==l.getId())){r.checkBounds(r.getValue("xVal"),r.getValue("yVal"),r.getValue("widthVal"),r.getValue("heightVal"),l.getSize(),i);var u=new g.default(r.getId(),null,"containerId",l.getId(),g.default.type.internal,d.rb);i.addCommand(u)}}else o=!0;if(o){var p=new f.default(r.getPanelItem(),n,a,d.rb);i.addCommand(p),d.rb.executeCommand(i)}}}return e.preventDefault(),!1}});var _=$('<div class="rbroMenuItemText"><span id="rbro_menu_item_name'+this.id+'">'+u+"</span></div>");this.properties.showAdd&&b.append($('<span id="rbro_menu_item_add'+this.id+'" class="rbroButton rbroRoundButton rbroIcon-plus"></span>').click(function(e){if("parameter"===t){var r=new p.default(!0,{},d.rb.getUniqueId(),d.getId(),-1,d.rb);d.rb.executeCommand(r)}else if("style"===t){var a=new c.default(!0,{},d.rb.getUniqueId(),d.getId(),-1,d.rb);d.rb.executeCommand(a)}else if("band"===t){var n=d.rb.getDataObject(d.getId());if(null!==n){var o=null;if(n instanceof k.default){var i=n.getLinkedContainer();null!==i&&(o={containerId:i.getId()})}else o={containerId:d.getId()};if(null!==o){var l=new s.default(!0,O.default.type.band,o,d.rb.getUniqueId(),d.getId(),-1,d.rb);d.rb.executeCommand(l)}}}var u=d.children[d.children.length-1];d.rb.selectObject(u.getId(),!0),e.stopPropagation()})),this.properties.showDelete&&b.append($('<div class="rbroButton rbroDeleteButton rbroIcon-cancel"></div>').click(function(){var e=d.getData().toJS(),r=d.getSiblingPosition(),a=null;"parameter"===t?a=new p.default(!1,e,d.getId(),d.parent.getId(),r,d.rb):"style"===t?a=new c.default(!1,e,d.getId(),d.parent.getId(),r,d.rb):(t===O.default.type.text||t===O.default.type.image||t===O.default.type.line||t===O.default.type.table||t===O.default.type.pageBreak||t===O.default.type.frame||t===O.default.type.band)&&(a=new s.default(!1,t,e,d.getId(),d.parent.getId(),r,d.rb)),null!==a&&d.rb.executeCommand(a)})),b.click(function(){if(!d.properties.hasDetails||$("#rbro_menu_item"+d.id).hasClass("rbroMenuItemActive")){var e=$("#rbro_menu_item_children"+d.id);e.length>0&&(b.toggleClass("rbroMenuItemOpen"),e.toggleClass("rbroHidden"))}d.properties.hasDetails&&d.rb.selectObject(d.id,!0)}),this.properties.hasChildren&&(b.addClass("rbroMenuItemNoChildren rbroMenuItemOpen"),_.prepend('<div id="rbro_menu_item_children_toggle'+this.id+'" class="rbroMenuArrow rbroIcon-arrow-right"></div>'),this.element.append($('<ul id="rbro_menu_item_children'+this.id+'"></ul>'))),b.prepend(_),this.element.prepend(b)}return l.default(e,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.removeClass("rbroHidden")}},{key:"hide",value:function(){this.element.addClass("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e;var t=null!==e?e.getName():"";$("#rbro_menu_item_name"+this.id).text(t)}},{key:"setActive",value:function(){$(".rbroMenuItem").removeClass("rbroMenuItemActive"),$("#rbro_menu_item"+this.id).addClass("rbroMenuItemActive"),this.properties.hasDetails&&this.rb.setDetailPanel(this.panelName,this.data)}},{key:"openParentItems",value:function(){for(var e=this.getParent();null!==e;)e.open(),e=e.getParent()}},{key:"open",value:function(){var e=$("#rbro_menu_item_children"+this.getId());e.length>0&&($("#rbro_menu_item"+this.getId()).addClass("rbroMenuItemOpen"),e.removeClass("rbroHidden"))}},{key:"close",value:function(){var e=$("#rbro_menu_item_children"+this.getId());e.length>0&&($("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemOpen"),e.addClass("rbroHidden"))}},{key:"appendChild",value:function(e){this.children.length===0&&$("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemNoChildren"),this.children.push(e),$("#rbro_menu_item_children"+this.getId()).append(e.getElement())}},{key:"insertChild",value:function(e,t){this.children.length===0&&$("#rbro_menu_item"+this.getId()).removeClass("rbroMenuItemNoChildren"),-1!==e?this.children.splice(e,0,t):this.children.push(t);var r=$("#rbro_menu_item_children"+this.getId()+" > li");-1!==e&&e<r.length?r.eq(e).before(t.getElement()):$("#rbro_menu_item_children"+this.getId()).append(t.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"removeChild",value:function(e){this.removeChildInternal(e,!0)}},{key:"removeChildInternal",value:function(e,t){for(var r=0;r<this.children.length;r++)if(e.getId()===this.children[r].getId()){this.children.splice(r,1),t&&e.getElement().remove(),this.children.length===0&&$("#rbro_menu_item"+this.getId()).addClass("rbroMenuItemNoChildren");break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null)for(var e=this.getParent().getChildren(),t=0;t<e.length;t++)if(e[t]===this)return t;return 0}},{key:"moveTo",value:function(e){this.element.detach(),this.parent.removeChildInternal(this,!1),this.parent=e,e.appendChild(this)}},{key:"moveToPosition",value:function(e,t){this.element.detach(),this.parent.removeChildInternal(this,!1),this.parent=e,e.insertChild(t,this)}},{key:"clear",value:function(){$("#rbro_menu_item_children"+this.id).empty(),this.children=[]}}]),e}();t.default=E},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(6),o=a(n),i=r(102),l=a(i);t.default=function d(e,t,r){null===e&&(e=Function.prototype);var a=l.default(e,t);if(void 0===a){var n=o.default(e);return null===n?void 0:d(n,t,r)}if("value"in a)return a.value;var i=a.get;return void 0===i?void 0:i.call(r)}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=function(){function e(t,r,a){l.default(this,e),this.rb=a,this.id=t,this.name=a.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.horizontalAlignment=e.alignment.left,this.verticalAlignment=e.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=e.font.courier,this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.setInitialData(r)
}return s.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t])}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(t,r,a,n){this[t]=r,t.indexOf("border")!==-1&&e.setBorderValue(this,t,"",r,a,n)}},{key:"setBorderAll",value:function(e,t){this[e+"borderAll"]=t}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,i=o.default(this.getFields());!(t=(n=i.next()).done);t=!0){var l=n.value;e[l]=this.getValue(l)}}catch(d){r=!0,a=d}finally{try{!t&&i.return&&i.return()}finally{if(r)throw a}}return e}}],[{key:"setBorderValue",value:function(e,t,r,a,n,o){t===r+"borderAll"?(e.borderLeft=e.borderTop=e.borderRight=e.borderBottom=a,o&&(a?$(n).parent().find("button").addClass("rbroButtonActive"):$(n).parent().find("button").removeClass("rbroButtonActive"))):(t===r+"borderLeft"||t===r+"borderTop"||t===r+"borderRight"||t===r+"borderBottom")&&(e.getValue(r+"borderLeft")&&e.getValue(r+"borderTop")&&e.getValue(r+"borderRight")&&e.getValue(r+"borderBottom")?(e.setBorderAll(r,!0),o&&$(n).parent().find('button[value="'+r+'borderAll"]').addClass("rbroButtonActive")):(e.setBorderAll(r,!1),o&&$(n).parent().find('button[value="'+r+'borderAll"]').removeClass("rbroButtonActive")))}}]),e}();t.default=u,u.font={courier:"courier",helvetica:"helvetica",timesRoman:"times_roman"},u.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o),l=r(1),d=n(l),s=r(24),u=n(s),p=r(37);n(p);var b=r(4),c=n(b),_=r(2),m=a(_),h=function(){function e(t,r,a){i.default(this,e),this.rootElement=t,this.rb=a,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.gridVisible=r,this.gridSize=10,this.pdfPreviewExists=!1,this.dragging=!1,this.dragElementType=null,this.dragType=c.default.dragType.none,this.dragContainerId=null,this.dragLinkedContainerId=null,this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0}return d.default(e,[{key:"render",value:function(){var t=this,r=$("#rbro_document_panel").mousedown(function(){t.rb.isDocElementSelected()&&t.rb.deselectAll()}),a=$('<div id="rbro_document_tabs" class="rbroDocumentTabs"></div>').mousedown(function(e){e.stopPropagation()});a.append($('<div id="rbro_document_tab_pdf_layout" class="rbroDocumentTab rbroButton rbroTabButton">\n               '+this.rb.getLabel("documentTabPdfLayout")+"</div>").click(function(){t.setDocumentTab(e.tab.pdfLayout)}));var n=$('<div id="rbro_document_tab_pdf_preview" class="rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview \n                '+(this.rb.getProperty("enableSpreadsheet")?"rbroXlsxDownload":"")+'">\n                '+this.rb.getLabel("documentTabPdfPreview")+"</div>").click(function(){t.setDocumentTab(e.tab.pdfPreview)});this.rb.getProperty("enableSpreadsheet")&&n.append($('<span class="rbroIcon-xlsx rbroXlsxDownlaodButton" title="'+this.rb.getLabel("documentTabXlsxDownload")+'"></span>').click(function(){t.rb.downloadSpreadsheet()})),n.append($('<span class="rbroIcon-cancel" title="'+this.rb.getLabel("documentTabClose")+'"></span>').click(function(){t.closePdfPreviewTab()})),a.append(n),r.append(a);var o=$('<div id="rbro_document_pdf" class="rbroDocument rbroDragTarget rbroHidden"></div>'),i=this.rb.getDocumentProperties();this.elDocContent=$('<div id="rbro_document_content"\n            class="rbroDocumentContent '+(this.gridVisible?"rbroDocumentGrid":"")+'"></div>'),this.elHeader=$('<div id="rbro_header" class="rbroDocumentBand rbroElementContainer"\n            style="top: 0px; left: 0px;"></div>'),this.elHeader.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandHeader")+"</div>")),this.elDocContent.append(this.elHeader),this.elContent=$('<div id="rbro_content" class="rbroDocumentBand rbroElementContainer"></div>'),this.elContent.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandContent")+"</div>")),this.elDocContent.append(this.elContent),this.elFooter=$('<div id="rbro_footer" class="rbroDocumentBand rbroElementContainer"\n            style="bottom: 0px; left 0px;"></div>'),this.elFooter.append($('<div class="rbroDocumentBandDescription">'+this.rb.getLabel("bandFooter")+"</div>")),this.elDocContent.append(this.elFooter),o.append(this.elDocContent),this.initializeEventHandlers(),o.append('<div id="rbro_divider_margin_left" class="rbroDivider rbroDividerMarginLeft"></div>'),o.append('<div id="rbro_divider_margin_top" class="rbroDivider rbroDividerMarginTop"></div>'),o.append('<div id="rbro_divider_margin_right" class="rbroDivider rbroDividerMarginRight"></div>'),o.append('<div id="rbro_divider_margin_bottom" class="rbroDivider rbroDividerMarginBottom"></div>'),o.append('<div id="rbro_divider_header" class="rbroDivider rbroDividerHeader"></div>'),o.append('<div id="rbro_divider_footer" class="rbroDivider rbroDividerFooter"></div>'),r.append(o),r.append($('<div id="rbro_document_pdf_preview" class="rbroDocumentPreview"></div>'));var l=i.getPageSize();this.updatePageSize(l.width,l.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(e.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var e=this;$("#rbro_document_panel").mousemove(function(t){if(e.dragging){if(e.dragType===c.default.dragType.element){var r=e.getContainer(t.originalEvent.pageX,t.originalEvent.pageY,e.dragElementType),a=null;null!==r&&(a=r.getId(),a===e.dragLinkedContainerId&&(r=r.getParent(),a=null!==r?r.getId():null)),a!==e.dragCurrentContainerId&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),null!==r&&a!==e.dragContainerId&&r.dragOver()),e.dragCurrentContainerId=a}e.dragCurrentX=t.originalEvent.pageX,e.dragCurrentY=t.originalEvent.pageY,e.dragSnapToGrid=!t.ctrlKey,e.rb.updateSelectionDrag(t.originalEvent.pageX-e.dragStartX,t.originalEvent.pageY-e.dragStartY,e.dragType,null,e.dragSnapToGrid,!1)}}),this.elDocContent.on("dragover",function(t){if(e.rb.isBrowserDragActive("docElement")){var r=e.getContainer(t.originalEvent.pageX,t.originalEvent.pageY,e.dragElementType),a=null!==r?r.getId():null;a!==e.dragContainerId&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),null!==r&&r.dragOver(),e.dragContainerId=a),t.preventDefault(),t.stopPropagation()}}).on("dragenter",function(t){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount++,t.preventDefault())}).on("dragleave",function(){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount--,e.dragEnterCount===0&&($(".rbroElementContainer").removeClass("rbroElementDragOver"),e.dragContainerId=null))}).on("drop",function(t){if(e.rb.isBrowserDragActive("docElement")){$(".rbroElementContainer").removeClass("rbroElementDragOver"),e.rb.getDocumentProperties();for(var r=e.getContainer(t.originalEvent.pageX,t.originalEvent.pageY,e.dragElementType);null!==r&&!r.isElementAllowed(e.dragElementType);)r=r.getParent();if(null!==r&&r.isElementAllowed(e.dragElementType)){var a=e.elDocContent.offset(),n=t.originalEvent.pageX-a.left,o=t.originalEvent.pageY-a.top,i=r.getOffset();if(n-=i.x,o-=i.y,!t.ctrlKey&&e.rb.getDocument().isGridVisible()){var l=e.rb.getDocument().getGridSize();n=m.roundValueToInterval(n,l),o=m.roundValueToInterval(o,l)}var d={x:""+n,y:""+o,containerId:r.getId()},s=new u.default(!0,e.dragElementType,d,e.rb.getUniqueId(),r.getId(),-1,e.rb);e.rb.executeCommand(s)}return t.preventDefault(),!1}})}},{key:"updatePageSize",value:function(e,t){$("#rbro_document_pdf").css({width:this.rb.toPixel(e),height:this.rb.toPixel(t)})}},{key:"updatePageMargins",value:function(){var e=this.rb.getDocumentProperties(),t=this.rb.toPixel(m.convertInputToNumber(e.getValue("marginLeft"))-1),r=this.rb.toPixel(m.convertInputToNumber(e.getValue("marginTop"))-1),a=m.convertInputToNumber(e.getValue("marginRight")),n=m.convertInputToNumber(e.getValue("marginBottom")),o=this.rb.toPixel(a),i=this.rb.toPixel(n);$("#rbro_divider_margin_left").css("left",t),$("#rbro_divider_margin_top").css("top",r),0!==a?$("#rbro_divider_margin_right").css("right",o).show():$("#rbro_divider_margin_right").hide(),0!==n?$("#rbro_divider_margin_bottom").css("bottom",i).show():$("#rbro_divider_margin_bottom").hide(),this.elDocContent.css({left:t,top:r,right:o,bottom:i})}},{key:"updateHeader",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("header")){var t=this.rb.toPixel(e.getValue("headerSize"));this.elHeader.css("height",t),this.elHeader.show(),$("#rbro_divider_header").css("top",this.rb.toPixel(m.convertInputToNumber(e.getValue("marginTop"))+m.convertInputToNumber(e.getValue("headerSize"))-1)),$("#rbro_divider_header").show(),this.elContent.css("top",t)}else this.elHeader.hide(),$("#rbro_divider_header").hide(),this.elContent.css("top",this.rb.toPixel(0))}},{key:"updateFooter",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("footer")){var t=this.rb.toPixel(e.getValue("footerSize"));this.elFooter.css("height",t),this.elFooter.show(),$("#rbro_divider_footer").css("bottom",this.rb.toPixel(m.convertInputToNumber(e.getValue("marginBottom"))+m.convertInputToNumber(e.getValue("footerSize")))),$("#rbro_divider_footer").show(),this.elContent.css("bottom",t)}else this.elFooter.hide(),$("#rbro_divider_footer").hide(),this.elContent.css("bottom",this.rb.toPixel(0))}},{key:"setDocumentTab",value:function(t){$("#rbro_document_tabs .rbroDocumentTab").removeClass("rbroActive"),t===e.tab.pdfLayout?($("#rbro_document_tab_pdf_layout").addClass("rbroActive"),$("#rbro_document_pdf").removeClass("rbroHidden"),$("#rbro_document_pdf_preview").css("z-index",""),$(".rbroElementButtons .rbroMenuButton").removeClass("rbroDisabled").prop("draggable",!0),$(".rbroActionButtons .rbroActionButton").prop("disabled",!1)):this.pdfPreviewExists&&t===e.tab.pdfPreview&&($("#rbro_document_tab_pdf_preview").addClass("rbroActive"),$("#rbro_document_pdf").addClass("rbroHidden"),$("#rbro_document_pdf_preview").css("z-index","1"),$(".rbroElementButtons .rbroMenuButton").addClass("rbroDisabled").prop("draggable",!1),$(".rbroActionButtons .rbroActionButton").prop("disabled",!0))}},{key:"openPdfPreviewTab",value:function(t){var r='<object data="'+t+'" type="application/pdf" width="100%" height="100%"></object>';this.pdfPreviewExists=!0,$("#rbro_document_pdf_preview").empty(),$("#rbro_document_pdf_preview").append(r),this.setDocumentTab(e.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,$("#rbro_document_pdf_preview").empty(),this.setDocumentTab(e.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var e=1;this.pdfPreviewExists?($("#rbro_document_tab_pdf_preview").removeClass("rbroHidden"),e++):$("#rbro_document_tab_pdf_preview").addClass("rbroHidden"),e>1?($("#rbro_document_tabs").show(),$("#rbro_document_panel").addClass("rbroHasTabs")):($("#rbro_document_tabs").hide(),$("#rbro_document_panel").removeClass("rbroHasTabs"))}},{key:"getContainer",value:function(e,t,r){var a=this.elDocContent.offset();return this.rb.getContainer(e-a.left,t-a.top,r)}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.addClass("rbroDocumentGrid"):this.elDocContent.removeClass("rbroDocumentGrid")}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.height()}},{key:"getElement",value:function(t){return t===e.band.header?this.elHeader:t===e.band.content?this.elContent:t===e.band.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(e,t,r,a,n,o){this.dragging=!0,this.dragStartX=this.dragCurrentX=e,this.dragStartY=this.dragCurrentY=t,this.dragElementType=n,this.dragType=o,this.dragContainerId=r,this.dragLinkedContainerId=a,this.dragCurrentContainerId=null,this.dragSnapToGrid=!1}},{key:"stopDrag",value:function(){var e=this.dragCurrentX-this.dragStartX,t=this.dragCurrentY-this.dragStartY;if(0!==e||0!==t){var r=null;this.dragType===c.default.dragType.element&&(r=this.rb.getDataObject(this.dragCurrentContainerId)),this.rb.updateSelectionDrag(e,t,this.dragType,r,this.dragSnapToGrid,!0)}else this.rb.updateSelectionDrag(0,0,this.dragType,null,this.dragSnapToGrid,!1);this.dragging=!1,this.dragType=c.default.dragType.none,this.dragContainerId=this.dragCurrentContainerId=null,$(".rbroElementContainer").removeClass("rbroElementDragOver")}},{key:"startBrowserDrag",value:function(e){this.dragEnterCount=0,this.dragContainerId=null,this.dragLinkedContainerId=null,this.dragElementType=e}}]),e}();t.default=h,h.band={none:-1,header:1,content:2,footer:3},h.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(32),i=n(o),l=r(5),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(11),_=n(c),m=r(3),h=n(m),f=r(12),v=n(f),g=r(2),y=a(g),w=function(){function e(t,r,a){u.default(this,e),this.rb=a,this.id=t,this.name=a.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=e.type.string,this.arrayItemType=e.type.string,this.eval=!a.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.children=[],this.editable=a.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(r)}return b.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);"showOnlyNameType"in e&&e.showOnlyNameType&&(this.editable=!1)}},{key:"setup",value:function(){if(this.type===e.type.array||this.type===e.type.map){var t=!0,r=!1,a=void 0;try{for(var n,o=d.default(this.children);!(t=(n=o.next()).done);t=!0){var i=n.value,l=new e(i.id||this.rb.getUniqueId(),i,this.rb);this.rb.addParameter(l);var s=new v.default("parameter","",this.panelItem,l,{hasChildren:!0,showAdd:this.editable,showDelete:this.editable,draggable:!0},this.rb);l.setPanelItem(s),this.panelItem.appendChild(s),l.setup(),this.rb.notifyEvent(l,_.default.operation.add)}}catch(u){r=!0,a=u}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var t=this.id;if(this.type===e.type.array||this.type===e.type.map){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.children);!(r=(o=i.next()).done);r=!0){var l=o.value;l.id>t&&(t=l.id)}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}return t}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(t,r,a,n){this[t]=r,"type"===t&&(n&&r===e.type.date?$("#rbro_parameter_test_data").attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):$("#rbro_parameter_test_data").attr("placeholder",""))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof e?this.panelItem.getParent().getData():null}},{key:"getFullName",value:function(e,t){null===t&&(t=this.getName());var r=this.getParent();return null!==r?(null===e&&(e=r.getName()),e+"."+t):t}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.expression.indexOf(e)!==-1){var a=new h.default(this.id,"rbro_parameter_expression","expression",y.replaceAll(this.expression,e,t),h.default.type.text,this.rb);r.addCommand(a)}var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.getChildren());!(n=(l=s.next()).done);n=!0){var u=l.value;u.addCommandsForChangedParameter(e,t,r)}}catch(p){o=!0,i=p}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}},{key:"addUpdateTestDataCmdForChangedParameter",value:function(t,r,a){if(this.type===e.type.array){var n=[];try{var o=JSON.parse(this.testData);if(Array.isArray(o)){var l=!0,s=!1,u=void 0;try{for(var p,b=d.default(o);!(l=(p=b.next()).done);l=!0){var c=p.value,_={};for(var m in c)c.hasOwnProperty(m)&&(m===t?_[r]=c[m]:_[m]=c[m]);n.push(_)}}catch(f){s=!0,u=f}finally{try{!l&&b.return&&b.return()}finally{if(s)throw u}}}var v=i.default(n);if(this.testData!==v){var g=new h.default(this.id,"rbro_parameter_test_data","testData",v,h.default.type.text,this.rb);a.addCommand(g)}}catch(y){}}}},{key:"toJS",value:function(){var t={},r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.getFields());!(r=(o=i.next()).done);r=!0){var l=o.value;t[l]=this.getValue(l)}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}if(this.type===e.type.array||this.type===e.type.map){var u=[],p=!0,b=!1,c=void 0;try{for(var _,m=d.default(this.panelItem.getChildren());!(p=(_=m.next()).done);p=!0){var h=_.value;u.push(h.getData().toJS())}}catch(s){b=!0,c=s}finally{try{!p&&m.return&&m.return()}finally{if(b)throw c}}t.children=u}return t}},{key:"getChildren",value:function(){var t=[];if(this.type===e.type.array||this.type===e.type.map){var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.panelItem.getChildren());!(r=(o=i.next()).done);r=!0){var l=o.value;t.push(l.getData())}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}return t}},{key:"appendParameterItems",value:function(t,r){if(this.type===e.type.map){var a=[];if(Array.isArray(r)){var n=!0,o=!1,i=void 0;try{for(var l,s=d.default(this.getChildren());!(n=(l=s.next()).done);n=!0){var u=l.value;r.indexOf(u.type)!==-1&&a.push(u)}}catch(p){o=!0,i=p}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}else a=this.getChildren();a.length>0&&t.push({separator:!0,separatorClass:"rbroParameterGroup",name:this.name});var b=!0,c=!1,_=void 0;try{for(var m,h=d.default(a);!(b=(m=h.next()).done);b=!0){var f=m.value;t.push({name:this.name+"."+f.getName(),description:""})}}catch(p){c=!0,_=p}finally{try{!b&&h.return&&h.return()}finally{if(c)throw _}}}else this.type!==e.type.array?Array.isArray(r)&&r.indexOf(this.type)===-1||t.push({name:this.name,description:""}):Array.isArray(r)&&r.indexOf(this.type)!==-1&&t.push({name:this.name,description:""})}},{key:"appendFieldParameterItems",value:function(t,r){if(this.type===e.type.array){var a=!0,n=!1,o=void 0;try{for(var i,l=d.default(this.panelItem.getChildren());!(a=(i=l.next()).done);a=!0){var s=i.value,u=s.getData();r&&u.getValue("type")!==r||t.push({name:this.name+"."+u.getName(),description:""})}}catch(p){n=!0,o=p}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}}}},{key:"getTestDataRows",value:function(){if(this.type!==e.type.array&&this.type!==e.type.simpleArray)return null;var t={};if(this.type===e.type.simpleArray)t.data=!0;else{var r=!0,a=!1,n=void 0;try{for(var o,i=d.default(this.getChildren());!(r=(o=i.next()).done);r=!0){var l=o.value;t[l.getName()]=!0}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}var u=[];try{var p=JSON.parse(this.testData);if(Array.isArray(p)){var b=!0,c=!1,_=void 0;try{for(var m,h=d.default(p);!(b=(m=h.next()).done);b=!0){var f=m.value,v={},g=!1;for(var y in f)y in t&&(g=!0,v[y]=f[y]);g&&u.push(v)}}catch(s){c=!0,_=s}finally{try{!b&&h.return&&h.return()}finally{if(c)throw _}}}}catch(w){}return u}}]),e}();t.default=w,w.type={none:"none",string:"string",number:"number","boolean":"boolean",date:"date",image:"image",array:"array",simpleArray:"simpleArray",map:"map",sum:"sum",average:"average"}},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,t,r){var a=r(121),n=r(43);e.exports=function(e){return a(n(e))}},function(e,t,r){var a=r(51)("wks"),n=r(36),o=r(17).Symbol,i="function"==typeof o,l=e.exports=function(e){return a[e]||(a[e]=i&&o[e]||(i?o:n)("Symbol."+e))};l.store=a},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(3),s=a(d),u=function(){function e(t,r){o.default(this,e),this.name,this.rb=r,this.commands=[]}return l.default(e,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){for(var e=0;e<this.commands.length;e++)this.commands[e].do()}},{key:"undo",value:function(){for(var e=this.commands.length-1;e>=0;e--)this.commands[e].undo()}},{key:"addCommand",value:function(e){this.commands.length>0&&e instanceof s.default&&e.disableSelect(),this.commands.push(e)}},{key:"isEmpty",value:function(){return this.commands.length==0}}]),e}();t.default=u},function(e,t,r){e.exports=!r(29)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e,t,r){var a=r(25),n=r(67),o=r(53),i=Object.defineProperty;t.f=r(21)?Object.defineProperty:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return i(e,t,r)}catch(l){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(11),s=a(d),u=r(38),p=a(u),b=r(58),c=a(b),_=r(4),m=a(_),h=r(59),f=a(h),v=r(60),g=a(v),y=r(61),w=a(y),I=r(62),$=a(I),x=r(39),C=a(x),k=r(41),D=a(k),O=r(12),P=a(O),E=function(){function e(t,r,a,n,i,l,d){o.default(this,e),this.add=t,this.elementType=r,this.initialData=a,this.parentId=i,this.position=l,this.rb=d,this.id=n,this.firstExecution=!0}return l.default(e,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=void 0,r={draggable:!0};this.elementType===m.default.type.text?t=new D.default(this.id,this.initialData,this.rb):this.elementType===m.default.type.line?t=new w.default(this.id,this.initialData,this.rb):this.elementType===m.default.type.image?t=new g.default(this.id,this.initialData,this.rb):this.elementType===m.default.type.pageBreak?t=new $.default(this.id,this.initialData,this.rb):this.elementType===m.default.type.table?(t=new C.default(this.id,this.initialData,this.rb),r.hasChildren=!0):this.elementType===m.default.type.frame?(t=new f.default(this.id,this.initialData,this.rb),r.hasChildren=!0):this.elementType===m.default.type.band?(t=new p.default(this.id,this.initialData,this.rb),r.hasChildren=!0,r.showAdd=!0):this.elementType===m.default.type.barCode&&(t=new c.default(this.id,this.initialData,this.rb)),this.rb.addDocElement(t);var a=new P.default(this.elementType,"",e.getPanelItem(),t,r,this.rb);a.openParentItems(),t.setPanelItem(a),e.getPanelItem().insertChild(this.position,a),t.setup(),this.rb.notifyEvent(t,s.default.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=t.toJS())}}},{key:"deleteElement",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.rb.notifyEvent(e,s.default.operation.remove),this.rb.deleteDocElement(e))}}]),e}();t.default=E},function(e,t,r){var a=r(30);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var a=r(17),n=r(9),o=r(65),i=r(27),l="prototype",d=function(e,t,r){var s,u,p,b=e&d.F,c=e&d.G,_=e&d.S,m=e&d.P,h=e&d.B,f=e&d.W,v=c?n:n[t]||(n[t]={}),g=v[l],y=c?a:_?a[t]:(a[t]||{})[l];c&&(r=t);for(s in r)u=!b&&y&&y[s]!==void 0,u&&s in v||(p=u?y[s]:r[s],v[s]=c&&typeof y[s]!="function"?r[s]:h&&u?o(p,a):f&&y[s]==p?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,a)}return e.apply(this,arguments)};return t[l]=e[l],t}(p):m&&"function"==typeof p?o(Function.call,p):p,m&&((v.virtual||(v.virtual={}))[s]=p,e&d.R&&g&&!g[s]&&i(g,s,p)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t,r){var a=r(23),n=r(35);e.exports=r(21)?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(t,r,a){o.default(this,e),this.rb=a,this.id=t,this.panelItem=null,this.name=r,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return l.default(e,[{key:"init",value:function(e){this.owner=e,this.el=e.getElement(),this.elContent=e.getContentElement(),this.panelItem=e.getPanelItem(),this.parent=e.getContainer(),this.level=0;for(var t=this.parent;null!==t;)this.level++,t=t.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(e){this.elContent!==null&&this.elContent.append(e)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"isSelected",value:function(){return this.owner!==null&&this.rb.isSelectedObject(this.owner.getId())?!0:!1}},{key:"isElementAllowed",value:function(){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.addClass("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(e){if(null!==e&&e!=this){var t=this.getOffset(),r=e.getOffset();return{x:t.x-r.x,y:t.y-r.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(e,t){var r=this.getOffset(),a=this.getSize();return e-=r.x,t-=r.y,e>=0&&t>=0&&e<a.width&&t<a.height?!0:!1}},{key:"clearErrors",value:function(){}}]),e}();t.default=d},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(3),b=n(p),c=r(14),_=n(c),m=r(4),h=n(m),f=r(2),v=a(f),g=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var t=this,r=$('<div id="rbro_style_panel" class="rbroHidden"></div>'),a=$('<div class="rbroFormRow"></div>');a.append('<label for="rbro_style_name">'+this.rb.getLabel("styleName")+":</label>");var n=$('<div class="rbroFormField"></div>'),o=$('<input id="rbro_style_name">').change(function(){if(t.rb.getDataObject(t.selectedObjId)!==null)if(o.val().trim()!==""){var e=new b.default(t.selectedObjId,"rbro_style_name","name",o.val(),b.default.type.text,t.rb);t.rb.executeCommand(e)}else o.val(style.getName())});n.append(o),a.append(n),r.append(a),e.renderStyle(r,"style_","",h.default.type.none,this,this.rb),$("#rbro_detail_panel").append(r)}},{key:"show",value:function(e){$("#rbro_style_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_style_panel").addClass("rbroHidden")}},{key:"updateData",value:function(t){null!==t?($("#rbro_style_name").prop("disabled",!1),this.selectedObjId=t.getId()):$("#rbro_style_name").prop("disabled",!0),e.updateStyleData(t,"style_","",h.default.type.none),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_style_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_style_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0)n.value}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}],[{key:"renderPaddingControls",value:function(e,t,r,a,n){var o=$('<div class="rbroFormRow"></div>');o.append('<label for="rbro_'+t+'padding">'+n.getLabel("stylePadding")+":</label>");var i=$('<div class="rbroFormField rbroSmallInput"></div>'),l=$('<div class="rbroColumnCenter"></div>'),d=$('<input id="rbro_'+t+'padding_top" placeholder="'+n.getLabel("orientationTop")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_top",r+"paddingTop",d.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(d),l.append(d),i.append(l);var s=$('<div class="rbroSplit"></div>'),u=$('<input id="rbro_'+t+'padding_left" placeholder="'+n.getLabel("orientationLeft")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_left",r+"paddingLeft",u.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(u),s.append(u);var p=$('<input id="rbro_'+t+'padding_right" placeholder="'+n.getLabel("orientationRight")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_right",r+"paddingRight",p.val(),b.default.type.text,n);n.executeCommand(e)}});v.setInputPositiveInteger(p),s.append(p),i.append(s);var c=$('<div class="rbroColumnCenter"></div>'),_=$('<input id="rbro_'+t+'padding_bottom" placeholder="'+n.getLabel("orientationBottom")+'">').on("input",function(){if(n.getDataObject(a.getSelectedObjId())!==null){var e=new b.default(a.getSelectedObjId(),"rbro_"+t+"padding_bottom",r+"paddingBottom",_.val(),b.default.type.text,n);n.executeCommand(e)
}});v.setInputPositiveInteger(_),c.append(_),i.append(c),o.append(i),e.append(o)}},{key:"renderStyle",value:function(t,r,a,n,o,l){var d=void 0,s=void 0;if(n===h.default.type.none||n===h.default.type.text){d=$('<div class="rbroFormRow"></div>'),d.append("<label>"+l.getLabel("styleTextStyle")+":</label>"),s=$('<div class="rbroFormField"></div>');var u=$('<div id="rbro_'+r+'textstyle"></div>'),p=$('<button id="rbro_'+r+'bold" name="style_bold" class="rbroButton rbroActionButton rbroIcon-bold" type="button"\n                    title="'+l.getLabel("styleBold")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"bold",a+"bold",!p.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(p);var c=$('<button id="rbro_'+r+'italic"\n                    class="rbroButton rbroActionButton rbroIcon-italic" type="button"\n                    title="'+l.getLabel("styleItalic")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"italic",a+"italic",!c.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(c);var m=$('<button id="rbro_'+r+'underline"\n                    class="rbroButton rbroActionButton rbroIcon-underline" type="button"\n                    title="'+l.getLabel("styleunderline")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"underline",a+"underline",!m.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});u.append(m),s.append(u),d.append(s),t.append(d)}d=$('<div class="rbroFormRow"></div>'),d.append("<label>"+l.getLabel("styleAlignment")+":</label>"),s=$('<div class="rbroFormField"></div>');var f=$('<div id="rbro_'+r+'halignment"></div>'),g=$('<button id="rbro_'+r+'halignment_left"\n                class="rbroButton rbroActionButton rbroIcon-text-align-left" type="button" value="left"\n                title="'+l.getLabel("styleHAlignmentLeft")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.left,b.default.type.buttonGroup,l);l.executeCommand(e)}});f.append(g);var y=$('<button id="rbro_'+r+'halignment_center"\n                class="rbroButton rbroActionButton rbroIcon-text-align-center" type="button" value="center"\n                title="'+l.getLabel("styleHAlignmentCenter")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.center,b.default.type.buttonGroup,l);l.executeCommand(e)}});f.append(y);var w=$('<button id="rbro_'+r+'halignment_right"\n                class="rbroButton rbroActionButton rbroIcon-text-align-right" type="button" value="right"\n                title="'+l.getLabel("styleHAlignmentRight")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.right,b.default.type.buttonGroup,l);l.executeCommand(e)}});if(f.append(w),n===h.default.type.none||n===h.default.type.text){var I=$('<button id="rbro_'+r+'halignment_justify"\n                    class="rbroButton rbroActionButton rbroIcon-text-align-justify" type="button" value="justify"\n                    title="'+l.getLabel("styleHAlignmentJustify")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"halignment",a+"horizontalAlignment",_.default.alignment.justify,b.default.type.buttonGroup,l);l.executeCommand(e)}});f.append(I)}s.append(f);var x=$('<div id="rbro_'+r+'valignment"></div>'),C=$('<button id="rbro_'+r+'valignment_top"\n                class="rbroButton rbroActionButton rbroIcon-align-top" type="button" value="top"\n                title="'+l.getLabel("styleVAlignmentTop")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"valignment",a+"verticalAlignment",_.default.alignment.top,b.default.type.buttonGroup,l);l.executeCommand(e)}});x.append(C);var k=$('<button id="rbro_'+r+'valignment_middle"\n                class="rbroButton rbroActionButton rbroIcon-align-middle" type="button" value="middle"\n                title="'+l.getLabel("styleVAlignmentMiddle")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"valignment",a+"verticalAlignment",_.default.alignment.middle,b.default.type.buttonGroup,l);l.executeCommand(e)}});x.append(k);var D=$('<button id="rbro_'+r+'valignment_bottom"\n                class="rbroButton rbroActionButton rbroIcon-align-bottom" type="button" value="bottom"\n                title="'+l.getLabel("styleVAlignmentBottom")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"valignment",a+"verticalAlignment",_.default.alignment.bottom,b.default.type.buttonGroup,l);l.executeCommand(e)}});if(x.append(D),s.append(x),d.append(s),t.append(d),n===h.default.type.none||n===h.default.type.text){d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'text_color">'+l.getLabel("styleTextColor")+":</label>"),s=$('<div class="rbroFormField"></div>');var O=$('<div class="rbroColorPickerContainer"></div>'),P=$('<input id="rbro_'+r+'text_color">').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"text_color",a+"textColor",P.val(),b.default.type.color,l);l.executeCommand(e)}});O.append(P),s.append(O),d.append(s),t.append(d),v.initColorPicker(P,l)}d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'background_color">'+l.getLabel("styleBackgroundColor")+":</label>"),s=$('<div class="rbroFormField"></div>');var E=$('<div class="rbroColorPickerContainer"></div>'),j=$('<input id="rbro_'+r+'background_color">').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"background_color",a+"backgroundColor",j.val(),b.default.type.color,l);l.executeCommand(e)}});if(E.append(j),s.append(E),d.append(s),t.append(d),v.initColorPicker(j,l,{allowEmpty:!0}),n===h.default.type.none||n===h.default.type.text){d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'font">'+l.getLabel("styleFont")+":</label>"),s=$('<div class="rbroFormField rbroSplit rbroSelectFont"></div>');var S='<select id="rbro_'+r+'font">',V=!0,T=!1,F=void 0;try{for(var B,A=i.default(l.getFonts());!(V=(B=A.next()).done);V=!0){var L=B.value;S+='<option value="'+L.value+'">'+L.name+"</option>"}}catch(M){T=!0,F=M}finally{try{!V&&A.return&&A.return()}finally{if(T)throw F}}S+="</select>";var R=$(S).change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"font",a+"font",R.val(),b.default.type.select,l);l.executeCommand(e)}});s.append(R);for(var H='<select id="rbro_'+r+'font_size">',z=[8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],N=0;N<z.length;N++){var W=z[N];H+='<option value="'+W+'">'+W+"</option>"}H+="</select>";var J=$(H).change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"font_size",a+"fontSize",J.val(),b.default.type.select,l);l.executeCommand(e)}});s.append(J),s.append("<span>"+l.getLabel("styleFontSizeUnit")+"</span>"),d.append(s),t.append(d),d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'line_spacing">'+l.getLabel("styleLineSpacing")+":</label>"),s=$('<div class="rbroFormField"></div>');var U=$('<select id="rbro_'+r+'line_spacing">\n                    <option value="1">1</option>\n                    <option value="1.5">1.5</option>\n                    <option value="2">2</option>\n                </select>').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"line_spacing",a+"lineSpacing",U.val(),b.default.type.select,l);l.executeCommand(e)}});s.append(U),d.append(s),t.append(d);var Y=$('<div id="rbro_'+r+'border_div"></div>');d=$('<div class="rbroFormRow"></div>'),d.append("<label>"+l.getLabel("styleBorder")+":</label>"),s=$('<div class="rbroFormField"></div>');var G=$('<div id="rbro_'+r+'border"></div>'),X=$('<button id="rbro_'+r+'border_all" class="rbroButton rbroActionButton rbroIcon-border-all"\n                    type="button" value="'+a+'borderAll"\n                    title="'+l.getLabel("styleBorderAll")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_all",a+"borderAll",!X.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});G.append(X);var K=$('<button id="rbro_'+r+'border_left" class="rbroButton rbroActionButton rbroIcon-border-left"\n                    type="button" value="'+a+'borderLeft"\n                    title="'+l.getLabel("orientationLeft")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_left",a+"borderLeft",!K.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});G.append(K);var q=$('<button id="rbro_'+r+'border_top" class="rbroButton rbroActionButton rbroIcon-border-top"\n                    type="button" value="'+a+'borderTop"\n                    title="'+l.getLabel("orientationTop")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_top",a+"borderTop",!q.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});G.append(q);var Q=$('<button id="rbro_'+r+'border_right" class="rbroButton rbroActionButton rbroIcon-border-right"\n                    type="button" value="'+a+'borderRight"\n                    title="'+l.getLabel("orientationRight")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_right",a+"borderRight",!Q.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});G.append(Q);var Z=$('<button id="rbro_'+r+'border_bottom" class="rbroButton rbroActionButton rbroIcon-border-bottom"\n                    type="button" value="'+a+'borderBottom"\n                    title="'+l.getLabel("orientationBottom")+'"></button>').click(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_bottom",a+"borderBottom",!Z.hasClass("rbroButtonActive"),b.default.type.button,l);l.executeCommand(e)}});G.append(Z),s.append(G),d.append(s),Y.append(d),d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'border_color">'+l.getLabel("styleBorderColor")+":</label>"),s=$('<div class="rbroFormField"></div>');var et=$('<div class="rbroColorPickerContainer"></div>'),tt=$('<input id="rbro_'+r+'border_color">').change(function(){if(l.getDataObject(o.getSelectedObjId())!==null){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_color",a+"borderColor",tt.val(),b.default.type.color,l);l.executeCommand(e)}});et.append(tt),s.append(et),d.append(s),Y.append(d),v.initColorPicker(tt,l),d=$('<div class="rbroFormRow"></div>'),d.append('<label for="rbro_'+r+'border_width">'+l.getLabel("styleBorderWidth")+":</label>"),s=$('<div class="rbroFormField"></div>');var rt=$('<input id="rbro_'+r+'border_width">').on("input",function(){if(l.getDataObject(o.getSelectedObjId())!==null)if(rt.val().trim()!==""){var e=new b.default(o.getSelectedObjId(),"rbro_"+r+"border_width",a+"borderWidth",rt.val(),b.default.type.text,l);l.executeCommand(e)}else rt.val(l.getDetailData().getValue("borderWidth"))});s.append(rt),d.append(s),Y.append(d),v.setInputPositiveInteger(rt),t.append(Y),e.renderPaddingControls(t,r,a,o,l)}}},{key:"updateStyleData",value:function(e,t,r,a){if(null!==e){$("#rbro_"+t+"halignment_left").prop("disabled",!1),$("#rbro_"+t+"halignment_center").prop("disabled",!1),$("#rbro_"+t+"halignment_right").prop("disabled",!1),$("#rbro_"+t+"valignment_top").prop("disabled",!1),$("#rbro_"+t+"valignment_middle").prop("disabled",!1),$("#rbro_"+t+"valignment_bottom").prop("disabled",!1),$("#rbro_"+t+"background_color").spectrum("enable"),$("#rbro_"+t+"border_all").prop("disabled",!1),$("#rbro_"+t+"border_left").prop("disabled",!1),$("#rbro_"+t+"border_top").prop("disabled",!1),$("#rbro_"+t+"border_right").prop("disabled",!1),$("#rbro_"+t+"border_bottom").prop("disabled",!1),$("#rbro_"+t+"border_color").spectrum("enable"),$("#rbro_"+t+"border_width").prop("disabled",!1),a===h.default.type.none&&$("#rbro_"+t+"name").prop("disabled",!1),(a===h.default.type.none||a===h.default.type.text)&&($("#rbro_"+t+"bold").prop("disabled",!1),$("#rbro_"+t+"italic").prop("disabled",!1),$("#rbro_"+t+"underline").prop("disabled",!1),$("#rbro_"+t+"halignment_justify").prop("disabled",!1),$("#rbro_"+t+"text_color").spectrum("enable"),$("#rbro_"+t+"font").prop("disabled",!1),$("#rbro_"+t+"font_size").prop("disabled",!1),$("#rbro_"+t+"line_spacing").prop("disabled",!1),$("#rbro_"+t+"padding_top").prop("disabled",!1),$("#rbro_"+t+"padding_left").prop("disabled",!1),$("#rbro_"+t+"padding_right").prop("disabled",!1),$("#rbro_"+t+"padding_bottom").prop("disabled",!1)),$("#rbro_"+t+"halignment_left").parent().find("button").removeClass("rbroButtonActive");var n=e.getValue(r+"horizontalAlignment");n===_.default.alignment.left?$("#rbro_"+t+"halignment_left").addClass("rbroButtonActive"):n===_.default.alignment.center?$("#rbro_"+t+"halignment_center").addClass("rbroButtonActive"):n===_.default.alignment.right?$("#rbro_"+t+"halignment_right").addClass("rbroButtonActive"):n===_.default.alignment.justify&&$("#rbro_"+t+"halignment_justify").addClass("rbroButtonActive"),$("#rbro_"+t+"valignment_top").parent().find("button").removeClass("rbroButtonActive");var o=e.getValue(r+"verticalAlignment");o==_.default.alignment.top?$("#rbro_"+t+"valignment_top").addClass("rbroButtonActive"):o===_.default.alignment.middle?$("#rbro_"+t+"valignment_middle").addClass("rbroButtonActive"):o===_.default.alignment.bottom&&$("#rbro_"+t+"valignment_bottom").addClass("rbroButtonActive"),(a===h.default.type.none||a===h.default.type.text||a===h.default.type.image)&&($("#rbro_"+t+"background_color").spectrum("set",e.getValue(r+"backgroundColor")),e.getValue(r+"borderAll")?$("#rbro_"+t+"border_all").addClass("rbroButtonActive"):$("#rbro_"+t+"border_all").removeClass("rbroButtonActive"),e.getValue(r+"borderLeft")?$("#rbro_"+t+"border_left").addClass("rbroButtonActive"):$("#rbro_"+t+"border_left").removeClass("rbroButtonActive"),e.getValue(r+"borderTop")?$("#rbro_"+t+"border_top").addClass("rbroButtonActive"):$("#rbro_"+t+"border_top").removeClass("rbroButtonActive"),e.getValue(r+"borderRight")?$("#rbro_"+t+"border_right").addClass("rbroButtonActive"):$("#rbro_"+t+"border_right").removeClass("rbroButtonActive"),e.getValue(r+"borderBottom")?$("#rbro_"+t+"border_bottom").addClass("rbroButtonActive"):$("#rbro_"+t+"border_bottom").removeClass("rbroButtonActive"),$("#rbro_"+t+"border_color").spectrum("set",e.getValue(r+"borderColor")),$("#rbro_"+t+"border_width").val(e.getValue(r+"borderWidth"))),a===h.default.type.none&&$("#rbro_"+t+"name").val(e.getName()),(a===h.default.type.none||a===h.default.type.text)&&(e.getValue(r+"bold")?$("#rbro_"+t+"bold").addClass("rbroButtonActive"):$("#rbro_"+t+"bold").removeClass("rbroButtonActive"),e.getValue(r+"italic")?$("#rbro_"+t+"italic").addClass("rbroButtonActive"):$("#rbro_"+t+"italic").removeClass("rbroButtonActive"),e.getValue(r+"underline")?$("#rbro_"+t+"underline").addClass("rbroButtonActive"):$("#rbro_"+t+"underline").removeClass("rbroButtonActive"),$("#rbro_"+t+"text_color").spectrum("set",e.getValue(r+"textColor")),$("#rbro_"+t+"font").val(e.getValue(r+"font")),$("#rbro_"+t+"font_size").val(e.getValue(r+"fontSize")),$("#rbro_"+t+"line_spacing").val(e.getValue(r+"lineSpacing")),$("#rbro_"+t+"padding_top").val(e.getValue(r+"paddingTop")),$("#rbro_"+t+"padding_left").val(e.getValue(r+"paddingLeft")),$("#rbro_"+t+"padding_right").val(e.getValue(r+"paddingRight")),$("#rbro_"+t+"padding_bottom").val(e.getValue(r+"paddingBottom")))}else $("#rbro_"+t+"halignment_left").prop("disabled",!0),$("#rbro_"+t+"halignment_center").prop("disabled",!0),$("#rbro_"+t+"halignment_right").prop("disabled",!0),$("#rbro_"+t+"valignment_top").prop("disabled",!0),$("#rbro_"+t+"valignment_middle").prop("disabled",!0),$("#rbro_"+t+"valignment_bottom").prop("disabled",!0),$("#rbro_"+t+"background_color").spectrum("disable"),(a===h.default.type.none||a===h.default.type.text||a===h.default.type.image)&&($("#rbro_"+t+"border_left").prop("disabled",!0),$("#rbro_"+t+"border_top").prop("disabled",!0),$("#rbro_"+t+"border_right").prop("disabled",!0),$("#rbro_"+t+"border_bottom").prop("disabled",!0),$("#rbro_"+t+"border_color").spectrum("disable"),$("#rbro_"+t+"border_width").prop("disabled",!0)),a===h.default.type.none&&$("#rbro_"+t+"name").prop("disabled",!0),(a===h.default.type.none||a===h.default.type.text)&&($("#rbro_"+t+"bold").prop("disabled",!0),$("#rbro_"+t+"italic").prop("disabled",!0),$("#rbro_"+t+"underline").prop("disabled",!0),$("#rbro_"+t+"halignment_justify").prop("disabled",!0),$("#rbro_"+t+"text_color").spectrum("disable"),$("#rbro_"+t+"font").prop("disabled",!0),$("#rbro_"+t+"font_size").prop("disabled",!0),$("#rbro_"+t+"line_spacing").prop("disabled",!0),$("#rbro_"+t+"padding_top").prop("disabled",!0),$("#rbro_"+t+"padding_left").prop("disabled",!0),$("#rbro_"+t+"padding_right").prop("disabled",!0),$("#rbro_"+t+"padding_bottom").prop("disabled",!0))}}]),e}();t.default=g},function(e,t,r){e.exports={"default":r(107),__esModule:!0}},function(e){e.exports={}},function(e,t,r){var a=r(72),n=r(44);e.exports=Object.keys||function(e){return a(e,n)}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(2),b=a(p),c=function(){function e(t){d.default(this,e),this.rb=t,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=e.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=e.unit.mm,this.orientation=e.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=e.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=e.display.always,this.headerSizeVal=this.header?b.convertInputToNumber(this.headerSize):0,this.footerSizeVal=this.footer?b.convertInputToNumber(this.footerSize):0,this.patternLocale=t.getProperty("patternLocale"),this.patternCurrencySymbol=t.getProperty("patternCurrencySymbol"),this.width=0,this.height=0}return u.default(e,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.headerSizeVal=this.header?b.convertInputToNumber(this.headerSize):0,this.footerSizeVal=this.footer?b.convertInputToNumber(this.footerSize):0,this.marginLeftVal=b.convertInputToNumber(this.marginLeft),this.marginTopVal=b.convertInputToNumber(this.marginTop),this.marginRightVal=b.convertInputToNumber(this.marginRight),this.marginBottomVal=b.convertInputToNumber(this.marginBottom)}},{key:"setup",value:function(){var e=this.getPageSize();this.updatePageSize(e),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"marginLeft"===e||"marginTop"===e||"marginRight"===e||"marginBottom"===e?(this[e+"Val"]=b.convertInputToNumber(t),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):"header"===e?this.updateHeader():"footer"===e&&this.updateFooter(),("header"===e||"headerSize"===e)&&(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?b.convertInputToNumber(this.headerSize):0),("footer"===e||"footerSize"===e)&&(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?b.convertInputToNumber(this.footerSize):0),"pageFormat"===e||"pageWidth"===e||"pageHeight"===e||"unit"===e||"orientation"===e||"contentHeight"===e||"marginTop"===e||"marginBottom"===e){var r=this.getPageSize();this.updatePageSize(r)}}},{key:"updatePageSize",value:function(e){this.width=e.width,this.height=e.height,this.rb.getDocument().updatePageSize(e.width,e.height)}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var t=void 0,r=void 0,a=void 0,n=72;return this.pageFormat===e.pageFormat.A4?(this.orientation===e.orientation.portrait?(t=210,r=297):(t=297,r=210),a=e.unit.mm):this.pageFormat===e.pageFormat.A5?(this.orientation===e.orientation.portrait?(t=148,r=210):(t=210,r=148),a=e.unit.mm):this.pageFormat===e.pageFormat.letter?(this.orientation===e.orientation.portrait?(t=8.5,r=11):(t=11,r=8.5),a=e.unit.inch):(t=b.convertInputToNumber(this.pageWidth),r=b.convertInputToNumber(this.pageHeight),a=this.unit),a===e.unit.mm?(t=Math.round(n*t/25.4),r=Math.round(n*r/25.4)):(t=Math.round(n*t),r=Math.round(n*r)),this.contentHeight.trim()!==""&&(r=b.convertInputToNumber(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:t,height:r}}},{key:"getContentSize",value:function(){var e=this.getPageSize(),t=void 0;return t=this.contentHeight.trim()!==""?b.convertInputToNumber(this.contentHeight):e.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:e.width-this.marginLeftVal-this.marginRightVal,height:t}}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.getFields());!(t=(n=o.next()).done);t=!0){var l=n.value;e[l]=this.getValue(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}}]),e}();t.default=c,c.outputFormat={pdf:"pdf",xlsx:"xlsx"},c.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},c.unit={mm:"mm",inch:"inch"},c.orientation={portrait:"portrait",landscape:"landscape"},c.display={always:"always",notOnFirstPage:"not_on_first_page"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(13),_=n(c),m=r(7),h=n(m),f=r(4),v=n(f),g=r(24);n(g);var y=r(57),w=n(y),I=r(3),x=n(I),C=r(12);n(C);var k=r(15),D=n(k),O=r(2),P=a(O),E=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementBand"),e,-1,60,a));return n.band=null,n.setupComplete=!1,n.dataSource="",n.label="",n.shrinkToContentHeight=!1,n.setInitialData(r),n}return h.default(t,e),u.default(t,[{key:"setup",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new w.default(D.default.band.none,this.linkedContainerId,"band_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0,this.updateStyle(),this.updateName(),this.panelItem.open()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,r,a,n){_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),("label"===e||"dataSource"===e)&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(0),top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(a)};this.el.css(n)}var o={};o.width="100%",o.height=this.rb.toPixel(a),$("#rbro_el_content_band"+this.id).css(o)}},{key:"getFields",value:function(){return["id","containerId","linkedContainerId","dataSource","label","y","height","printIf","removeEmptyElement","shrinkToContentHeight"]}},{key:"getElementType",value:function(){return v.default.type.band}},{key:"getSizers",value:function(){return[]}},{key:"getYTagId",value:function(){return"rbro_band_element_position_y"}},{key:"getHeightTagId",value:function(){return"rbro_band_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroBandElement rbroElementContainer"></div>'),this.el.append($('<div id="rbro_el_content_band'+this.id+'" class="rbroDocElementContentBand"></div>')),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return $("#rbro_el_content_band"+this.id)}},{key:"remove",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this),this.rb.deleteContainer(this.band)}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementBand"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"getDataParameters",value:function(){var e=[],t=this.dataSource.trim();if(t.length>=3&&t.substr(0,2)==="${"&&t.charAt(t.length-1)==="}"){var r=t.substring(2,t.length-1),a=this.rb.getParameterByName(r);null!==a&&(e=a.getChildren())}return e}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.printIf.indexOf(e)!==-1){var a=new x.default(this.id,"rbro_band_element_print_if","printIf",P.replaceAll(this.printIf,e,t),x.default.type.text,this.rb);r.addCommand(a)}}},{key:"toJS",value:function(){var e=_.default(t.prototype.__proto__||i.default(t.prototype),"toJS",this).call(this);return e}}]),t}(v.default);t.default=E},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(6),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(8),_=n(c),m=r(13),h=n(m),f=r(7),v=n(f),g=r(4),y=n(g),w=r(63),I=n(w),x=r(24),C=n(x),k=r(3),D=n(k),O=r(12),P=n(O),E=r(2),j=a(E),S=function(e){function t(e,r,a){u.default(this,t);var n=_.default(this,(t.__proto__||d.default(t)).call(this,a.getLabel("docElementTable"),e,200,40,a));return n.setupComplete=!1,n.dataSource="",n.borderColor="#000000",n.border=t.border.grid,n.header=!0,n.footer=!1,n.contentRows="1",n.columns="2",n.headerData=null,n.contentDataRows=[],n.footerData=null,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n}return v.default(t,e),b.default(t,[{key:"setup",value:function(){h.default(t.prototype.__proto__||d.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var e=j.convertInputToNumber(this.contentRows);1>e&&(e=1);for(var r=[],a=0;e>a;a++)r.push(this.createBand("content",a,null));this.contentDataRows=r,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateWidth(),this.updateStyle(),this.updateName(),this.panelItem.open()}},{key:"createBand",value:function(e,t,r){var a=void 0,n=e+("content"===e?"DataRows":"Data"),o=void 0,i={hasChildren:!0,showDelete:!1};r?a=r:this[n]&&("content"!==e||t<this[n].length)?(a="content"===e?this[n][t]:this[n],o=a.id):a={},a.parentId=this.id,o||(o=this.rb.getUniqueId()),("header"===e&&!this.header||"footer"===e&&!this.footer)&&(i.visible=!1);var l=new I.default(o,a,e,this.rb);this.rb.addDataObject(l);var d=new P.default("table_band","",this.panelItem,l,i,this.rb);l.setPanelItem(d),this.panelItem.appendChild(d),l.setup();var s=j.convertInputToNumber(this.columns);return l.createColumns(s,!1),"header"===e?l.show(this.header):"footer"===e&&l.show(this.footer),l}},{key:"getMaxId",value:function(){var e=this.id,t=void 0;t=this.headerData.getMaxId(),t>e&&(e=t);for(var r=0;r<this.contentDataRows.length;r++)t=this.contentDataRows[r].getMaxId(),t>e&&(e=t);return t=this.footerData.getMaxId(),t>e&&(e=t),e}},{key:"setValue",value:function(e,r,a,n){h.default(t.prototype.__proto__||d.default(t.prototype),"setValue",this).call(this,e,r,a,n),"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e.indexOf("border")!==-1&&this.updateStyle()}},{key:"updateDisplayInternal",value:function(e,t){if(this.el!==null){var r={left:this.rb.toPixel(e),top:this.rb.toPixel(t)};this.el.css(r)}}},{key:"updateStyle",value:function(){var e=this.el.find("table"),r=void 0;this.border===t.border.grid||this.border===t.border.frameRow||this.border===t.border.frame?e.css({"border-style":"solid","border-width":"1px","border-color":this.borderColor}):e.css({"border-style":"none"});var a=void 0;for(a=this.border===t.border.grid||this.border===t.border.frameRow||this.border===t.border.row?{"border-style":"solid none solid none","border-width":"1px","border-color":this.borderColor}:{"border-style":"none"},this.headerData.getElement().css(a),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].getElement().css(a);for(this.footerData.getElement().css(a),a=this.border===t.border.grid?{"border-style":"none solid none solid","border-width":"1px","border-color":this.borderColor}:{"border-style":"none"},this.headerData.getElement().find("td").css(a),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].getElement().find("td").css(a);this.footerData.getElement().find("td").css(a),this.el.removeClass("rbroBorderTableGrid rbroBorderTableFrameRow rbroBorderTableFrame rbroBorderTableRow rbroBorderTableNone"),this.el.addClass("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))
}},{key:"getFields",value:function(){return["id","containerId","x","y","dataSource","columns","header","contentRows","footer","border","borderColor","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return y.default.type.table}},{key:"select",value:function(){h.default(t.prototype.__proto__||d.default(t.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),r=["NE","SE","SW","NW"],a=0;a<r.length;a++){var n=r[a];e.append($('<div class="rbroSizer rbroSizer'+n+' rbroSizerInactive"></div>'))}}},{key:"getSizers",value:function(){return[]}},{key:"getXTagId",value:function(){return"rbro_table_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_table_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_table_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_table_element_height"}},{key:"createElement",value:function(){this.el=$('<div class="rbroDocElement rbroTableElement">\n                <table id="rbro_el_table'+this.id+'">\n                    <thead id="rbro_el_table_header'+this.id+'">\n                    </thead>\n                    <tbody id="rbro_el_table_content'+this.id+'">\n                    </tbody>\n                    <tfoot id="rbro_el_table_footer'+this.id+'">\n                    </tfoot>\n                </table>\n            </div>'),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){h.default(t.prototype.__proto__||d.default(t.prototype),"remove",this).call(this),this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var e=0;e<this.contentDataRows.length;e++)this.rb.deleteDataObject(this.contentDataRows[e]),this.contentDataRows[e].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null}},{key:"updateColumnWidth",value:function(e,t,r){if(this.setupComplete){this.headerData.updateColumnWidth(e,t);for(var a=0;a<this.contentDataRows.length;a++)this.contentDataRows[a].updateColumnWidth(e,t);this.footerData.updateColumnWidth(e,t),r&&this.updateWidth()}}},{key:"updateWidth",value:function(){if(this.setupComplete){var e=this.headerData.getWidth();this.width=""+e,this.widthVal=e,$("#rbro_el_table"+this.id).css("width",this.widthVal+1+"px")}}},{key:"notifyColumnWidthResized",value:function(e,t,r){if(this.setupComplete){if(e!==this.headerData){var a=this.headerData.getColumn(t);null!==a&&a.updateDisplayInternalNotify(0,0,r,0,!1)}for(var n=0;n<this.contentDataRows.length;n++)if(e!==this.contentDataRows[n]){var o=this.contentDataRows[n].getColumn(t);null!==o&&o.updateDisplayInternalNotify(0,0,r,0,!1)}if(e!==this.footerData){var i=this.footerData.getColumn(t);null!==i&&i.updateDisplayInternalNotify(0,0,r,0,!1)}var l=this.headerData.getWidth(),d=this.headerData.getColumn(t);null!==d&&(l-=d.getValue("widthVal")-r),$("#rbro_el_table"+this.id).css("width",l+1+"px")}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"getDataParameters",value:function(){var e=[],t=this.dataSource.trim();if(t.length>=3&&t.substr(0,2)==="${"&&t.charAt(t.length-1)==="}"){var r=t.substring(2,t.length-1),a=this.rb.getParameterByName(r);null!==a&&(e=a.getChildren())}return e}},{key:"addChildren",value:function(e){var t=void 0;for(e.push(this.headerData),t=0;t<this.contentDataRows.length;t++)e.push(this.contentDataRows[t]);for(e.push(this.footerData),this.headerData.addChildren(e),t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].addChildren(e);this.footerData.addChildren(e)}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.dataSource.indexOf(e)!==-1){var a=new D.default(this.id,"rbro_table_element_data_source","dataSource",j.replaceAll(this.dataSource,e,t),D.default.type.text,this.rb);r.addCommand(a)}}},{key:"addCommandsForChangedColumns",value:function(e,t){var r=20,a=j.convertInputToNumber(this.columns),n=Math.floor(this.widthVal/r);if(e>a&&e>n)return a;var o=new C.default(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(o),e>a)for(var i=e-a,l=i*r,d=a-1;d>=0;){var s=this.headerData.getColumn(d),u=s.getValue("widthVal")-r,p=r;if(u>l&&(p=s.getValue("widthVal")-l),this.updateColumnWidth(d,p,!1),l-=u,0>=l)break;d--}else if(a>e){for(var b=0,c=0;e>c;c++)b+=this.headerData.getColumn(c).getValue("widthVal");var _=this.headerData.getColumn(e-1);this.widthVal-b>0&&this.updateColumnWidth(e-1,_.getValue("widthVal")+(this.widthVal-b),!1)}this.columns=e,this.headerData.createColumns(e,!0);for(var m=0;m<this.contentDataRows.length;m++)this.contentDataRows[m].createColumns(e,!0);return this.footerData.createColumns(e,!0),o=new C.default(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(o),e}},{key:"addCommandsForChangedContentRows",value:function(e,t){if(e!==j.convertInputToNumber(this.contentRows)){var r=new C.default(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);t.addCommand(r);var a=void 0;if(e<this.contentDataRows.length){for(a=e;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows.splice(e,this.contentDataRows.length-e)}else{var n=void 0;if(this.contentDataRows.length>0){n={height:this.contentDataRows[0].height,columnData:[]};var o=!0,l=!1,d=void 0;try{for(var s,u=i.default(this.contentDataRows[0].columnData);!(o=(s=u.next()).done);o=!0){var p=s.value;n.columnData.push({width:p.width})}}catch(b){l=!0,d=b}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}for(a=this.contentDataRows.length;e>a;a++)this.contentDataRows.push(this.createBand("content",a,n))}this.contentRows=""+e,r=new C.default(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(r)}}},{key:"toJS",value:function(){var e=h.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this);e.headerData=this.headerData.toJS();for(var r=[],a=0;a<this.contentDataRows.length;a++)r.push(this.contentDataRows[a].toJS());return e.contentDataRows=r,e.footerData=this.footerData.toJS(),e}}],[{key:"removeIds",value:function(e){for(var r=["headerData","footerData"],a=0;a<r.length;a++){var n=r[a];t.removeBandIds(e[n])}for(var o=0;o<e.contentDataRows.length;o++)t.removeBandIds(e.contentDataRows[o])}},{key:"removeBandIds",value:function(e){delete e.id;var t=e.columnData,r=!0,a=!1,n=void 0;try{for(var o,l=i.default(t);!(r=(o=l.next()).done);r=!0){var d=o.value;delete d.id}}catch(s){a=!0,n=s}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}}]),t}(y.default);t.default=S,S.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(13),_=n(c),m=r(7),h=n(m),f=r(4),v=n(f),g=r(41),y=n(g),w=r(2),I=a(w),x=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,e,r,a));return n.columnIndex=r.columnIndex,n.parentId=r.parentId,n.tableId=r.tableId,n}return h.default(t,e),u.default(t,[{key:"registerEventHandlers",value:function(){var e=this;this.el.dblclick(function(t){e.rb.isSelectedObject(e.id)||e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}).mousedown(function(t){e.rb.isSelectedObject(e.id)?(t.shiftKey&&e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())})}},{key:"getContainerId",value:function(){var e=this.getTable();return null!==e?e.getContainerId():null}},{key:"setValue",value:function(e,r,a,n){if(_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"width"===e){var o=this.rb.getDataObject(this.tableId);null!==o&&o.updateColumnWidth(this.columnIndex,r,!0)}else"height"===e&&this.updateDisplayInternalNotify(0,0,this.widthVal,this.heightVal,!1)}},{key:"updateColumnWidth",value:function(e){this.width=e,this.widthVal=I.convertInputToNumber(this.width),this.updateDisplayInternalNotify(0,0,this.widthVal,this.heightVal,!1)}},{key:"getFields",value:function(){var e=["id","width","height","content","eval","styleId","bold","italic","underline","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","removeEmptyElement","alwaysPrintOnSamePage","pattern","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"],t=this.rb.getDataObject(this.parentId);return null!==t&&t.getValue("tableBand")==="header"&&e.push("printIf"),e}},{key:"getElementType",value:function(){return v.default.type.tableText}},{key:"updateDisplayInternal",value:function(e,t,r,a){this.updateDisplayInternalNotify(e,t,r,a,!0)}},{key:"updateDisplayInternalNotify",value:function(e,t,r,a,n){if(this.el!==null){var o={width:this.rb.toPixel(r-1)};this.el.css(o)}var i=this.getContentSize(r,a,this.getStyle());if($("#rbro_el_content_text"+this.id).css({width:this.rb.toPixel(i.width),height:this.rb.toPixel(i.height)}),n){var l=this.rb.getDataObject(this.tableId);if(null!==l){var d=this.rb.getDataObject(this.parentId);l.notifyColumnWidthResized(d,this.columnIndex,r)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"getXTagId",value:function(){return""}},{key:"getYTagId",value:function(){return""}},{key:"getWidthTagId",value:function(){return"rbro_text_element_width"}},{key:"getHeightTagId",value:function(){return""}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"getMaxWidth",value:function(){var e=this.rb.getDataObject(this.tableId),t=this.rb.getDataObject(this.parentId);if(null!==e&&null!==t){for(var r=this.rb.getDocumentProperties().getContentSize().width,a=t.getColumnWidths(),n=0,o=0;o<a.length;o++)o!==this.columnIndex&&(n+=a[o]);return r-n-e.xVal}return 0}},{key:"getOffsetX",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){for(var t=e.getColumnWidths(),r=0,a=0;a<this.columnIndex;a++)r+=t[a];return r}return 0}},{key:"createElement",value:function(){this.el=$('<td id="rbro_el'+this.id+'" class="rbroTableTextElement"></td>').append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_text'+this.id+'" class="rbroDocElementContentText"></div>'))),$("#rbro_el_table_band"+this.parentId).append(this.el),$("#rbro_el_content_text"+this.id).text(this.content),this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}}]),t}(y.default);t.default=x},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(13),_=n(c),m=r(7),h=n(m),f=r(4),v=n(f),g=r(3),y=n(g),w=r(14),I=n(w),x=r(2),C=a(x),k=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementText"),e,100,20,a));return n.content="",n.eval=!1,n.styleId="",n.bold=!1,n.italic=!1,n.underline=!1,n.horizontalAlignment=I.default.alignment.left,n.verticalAlignment=I.default.alignment.top,n.textColor="#000000",n.backgroundColor="",n.font=I.default.font.helvetica,n.fontSize=12,n.lineSpacing=1,n.borderColor="#000000",n.borderWidth="1",n.borderAll=!1,n.borderLeft=!1,n.borderTop=!1,n.borderRight=!1,n.borderBottom=!1,n.paddingLeft="2",n.paddingTop="2",n.paddingRight="2",n.paddingBottom="2",n.cs_condition="",n.cs_styleId="",n.cs_bold=!1,n.cs_italic=!1,n.cs_underline=!1,n.cs_horizontalAlignment=I.default.alignment.left,n.cs_verticalAlignment=I.default.alignment.top,n.cs_textColor="#000000",n.cs_backgroundColor="",n.cs_font=I.default.font.helvetica,n.cs_fontSize=12,n.cs_lineSpacing=1,n.cs_borderColor="#000000",n.cs_borderWidth="1",n.cs_borderAll=!1,n.cs_borderLeft=!1,n.cs_borderTop=!1,n.cs_borderRight=!1,n.cs_borderBottom=!1,n.cs_paddingLeft="2",n.cs_paddingTop="2",n.cs_paddingRight="2",n.cs_paddingBottom="2",n.alwaysPrintOnSamePage=!0,n.pattern="",n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n}return h.default(t,e),u.default(t,[{key:"setup",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.updateStyle(),this.updateContent(this.content)}},{key:"setValue",value:function(e,r,a,n){e.indexOf("border")!==-1&&(this[e]=r,e.substr(0,3)==="cs_"?I.default.setBorderValue(this,e,"cs_",r,a,n):I.default.setBorderValue(this,e,"",r,a,n)),_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"content"===e?this.updateContent(r):"width"===e||"height"===e?this.updateDisplay():"styleId"===e?""!==r?$("#rbro_text_element_style_settings").hide():$("#rbro_text_element_style_settings").show():"cs_styleId"===e&&(""!=r?$("#rbro_text_element_cs_style_settings").hide():$("#rbro_text_element_cs_style_settings").show())}},{key:"getFields",value:function(){return["id","containerId","x","y","width","height","content","eval","styleId","bold","italic","underline","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.text}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}var o=this.getContentSize(r,a,this.getStyle()),i={};i.width=this.rb.toPixel(o.width),i.height=this.rb.toPixel(o.height),$("#rbro_el_content_text"+this.id).css(i)}},{key:"getStyle",value:function(){var e=this;if(this.styleId!==""){var t=this.rb.getDataObject(this.styleId);null!==t&&(e=t)}return e}},{key:"getContentSize",value:function(e,t,r){var a=C.convertInputToNumber(r.getValue("borderWidth"));return e-=C.convertInputToNumber(r.getValue("paddingLeft"))+C.convertInputToNumber(r.getValue("paddingRight")),this.borderLeft&&(e-=a),this.borderRight&&(e-=a),t-=C.convertInputToNumber(r.getValue("paddingTop"))+C.convertInputToNumber(r.getValue("paddingBottom")),this.borderTop&&(t-=a),this.borderBottom&&(t-=a),{width:e,height:t}}},{key:"updateStyle",value:function(){var e={},t={},r=this.getStyle(),a=this.getContentSize(this.widthVal,this.heightVal,r),n=r.getValue("horizontalAlignment"),o=r.getValue("verticalAlignment"),i="rbroDocElementAlign"+n.charAt(0).toUpperCase()+n.slice(1),l="rbroDocElementVAlign"+o.charAt(0).toUpperCase()+o.slice(1);e.width=this.rb.toPixel(a.width),e.height=this.rb.toPixel(a.height),e["text-align"]=n,e["vertical-align"]=o,e["background-color"]=r.getValue("backgroundColor"),e["font-weight"]=r.getValue("bold")?"bold":"",e["font-style"]=r.getValue("italic")?"italic":"normal",e["text-decoration"]=r.getValue("underline")?"underline":"none",e.color=r.getValue("textColor"),e["font-family"]=r.getValue("font"),e["font-size"]=r.getValue("fontSize")+"px",e["line-height"]=r.getValue("lineSpacing")*100+"%",r.getValue("borderLeft")||r.getValue("borderTop")||r.getValue("borderRight")||r.getValue("borderBottom")?(t["border-style"]=r.getValue("borderTop")?"solid":"none",t["border-style"]+=r.getValue("borderRight")?" solid":" none",t["border-style"]+=r.getValue("borderBottom")?" solid":" none",t["border-style"]+=r.getValue("borderLeft")?" solid":" none",t["border-width"]=r.getValue("borderWidth")+"px",t["border-color"]=r.getValue("borderColor")):t["border-style"]="none",r.getValue("paddingLeft")!=""||r.getValue("paddingTop")!=""||r.getValue("paddingRight")!=""||r.getValue("paddingBottom")!=""?(e.padding=this.rb.toPixel(r.getValue("paddingTop")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingRight")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingBottom")),e.padding+=" "+this.rb.toPixel(r.getValue("paddingLeft"))):e.padding="",$("#rbro_el_content"+this.id).css(t),$("#rbro_el_content"+this.id).removeClass().addClass("rbroContentContainerHelper").addClass(i).addClass(l),$("#rbro_el_content_text"+this.id).css(e)}},{key:"getXTagId",value:function(){return"rbro_text_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_text_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_text_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_text_element_height"}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroTextElement"></div>'),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_text'+this.id+'" class="rbroDocElementContentText"></div>'))),this.appendToContainer(),$("#rbro_el_content_text"+this.id).text(this.content),_.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(e){this.name=e.trim()===""?this.rb.getLabel("docElementText"):e,$("#rbro_menu_item_name"+this.id).text(this.name),$("#rbro_menu_item_name"+this.id).attr("title",this.name),$("#rbro_el_content_text"+this.id).text(e)}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.content.indexOf(e)!==-1){var a=new y.default(this.id,"rbro_text_element_content","content",C.replaceAll(this.content,e,t),y.default.type.text,this.rb);r.addCommand(a)}if(this.printIf.indexOf(e)!==-1){var n=new y.default(this.id,"rbro_text_element_print_if","printIf",C.replaceAll(this.printIf,e,t),y.default.type.text,this.rb);r.addCommand(n)}if(this.cs_condition.indexOf(e)!==-1){var o=new y.default(this.id,"rbro_text_element_cs_condition","cs_condition",C.replaceAll(this.cs_condition,e,t),y.default.type.text,this.rb);r.addCommand(o)}}},{key:"toJS",value:function(){for(var e=_.default(t.prototype.__proto__||i.default(t.prototype),"toJS",this).call(this),r=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"],a=0;a<r.length;a++){var n=r[a];e[n]=C.convertInputToNumber(this.getValue(n))}return e}}]),t}(v.default);t.default=k},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e){e.exports=!0},function(e,t,r){var a=r(25),n=r(127),o=r(44),i=r(50)("IE_PROTO"),l=function(){},d="prototype",s=function(){var e,t=r(66)("iframe"),a=o.length,n="<",i=">";for(t.style.display="none",r(120).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(n+"script"+i+"document.F=Object"+n+"/script"+i),e.close(),s=e.F;a--;)delete s[d][o[a]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(l[d]=a(e),r=new l,l[d]=null,r[i]=e):r=s(),void 0===t?r:n(r,t)}},function(e,t,r){var a=r(48),n=r(35),o=r(18),i=r(53),l=r(22),d=r(67),s=Object.getOwnPropertyDescriptor;t.f=r(21)?s:function(e,t){if(e=o(e),t=i(t,!0),d)try{return s(e,t)}catch(r){}return l(e,t)?n(!a.f.call(e,t),e[t]):void 0}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var a=r(23).f,n=r(22),o=r(19)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},function(e,t,r){var a=r(51)("keys"),n=r(36);e.exports=function(e){return a[e]||(a[e]=n(e))}},function(e,t,r){var a=r(17),n="__core-js_shared__",o=a[n]||(a[n]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,t,r){var a=r(30);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!a(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var a=r(17),n=r(9),o=r(45),i=r(55),l=r(23).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});e.charAt(0)=="_"||e in t||l(t,e,{value:i.f(e)})}},function(e,t,r){t.f=r(19)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(11),s=a(d),u=r(4),p=a(u),b=r(15);a(b);var c=function(){function e(t,r,a,n){if(o.default(this,e),this.objId=t.getId(),this.moveToParentId=r.getId(),this.moveToPosition=a,this.oldParentId=t.getParent().getId(),this.oldPosition=t.getSiblingPosition(),this.oldContainerId=null,this.moveToContainerId=null,t.getData()instanceof p.default){var i=t.getData();this.oldContainerId=i.getValue("containerId");var l=n.getMainPanel().getContainerByItem(r);null!==l&&(this.moveToContainerId=l.getId())}this.rb=n}return l.default(e,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var e=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<e&&e--,this.moveTo(this.moveToParentId,e,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(e,t){var r=this.rb.getDataObject(this.objId),a=this.rb.getDataObject(e);null!==r&&null!==a&&(r.getPanelItem().moveToPosition(a.getPanelItem(),t),r.getPanelItem().openParentItems(),this.rb.notifyEvent(r,s.default.operation.move))}}]),e}();t.default=c},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(7),_=n(c),m=r(28),h=n(m),f=r(4),v=n(f),g=r(15),y=n(g),w=r(2),I=a(w),$=function(e){function t(e,r,a,n){d.default(this,t);var o=b.default(this,(t.__proto__||i.default(t)).call(this,r,a,n));return o.panelItem=null,o.band=e,e===y.default.band.header?(o.id="0_header",o.name=n.getLabel("bandHeader")):e===y.default.band.content?(o.id="0_content",o.name=n.getLabel("bandContent"),o.allowAllElements=!0):e===y.default.band.footer&&(o.id="0_footer",o.name=n.getLabel("bandFooter")),o.el=null,o}return _.default(t,e),u.default(t,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band),this.elContent=this.el}},{key:"isElementAllowed",value:function(e){return e===v.default.type.tableText?!1:this.band===y.default.band.content||this.band===y.default.band.none||e!==v.default.type.pageBreak&&e!==v.default.type.table}},{key:"getOffset",value:function(){var e=0;if(this.band===y.default.band.none)this.owner!==null&&(e=this.owner.getValue("yVal")),this.parent!==null&&(e+=this.parent.getOffset().y);else{var t=this.rb.getDocumentProperties();this.band===y.default.band.content&&t.getValue("header")?e=I.convertInputToNumber(t.getValue("headerSize")):this.band===y.default.band.footer&&(e=this.rb.getDocument().getHeight()-I.convertInputToNumber(t.getValue("footerSize")))}return{x:0,y:e}}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties(),t=e.getValue("width")-e.getValue("marginLeftVal")-e.getValue("marginRightVal"),r=0;return this.band===y.default.band.none?this.owner!==null&&(r=this.owner.getValue("heightVal")):this.band===y.default.band.header?r=e.getValue("headerSizeVal"):this.band===y.default.band.content?r=e.getValue("height")-e.getValue("headerSizeVal")-e.getValue("footerSizeVal")-e.getValue("marginTopVal")-e.getValue("marginBottomVal"):this.band===y.default.band.footer&&(r=e.getValue("footerSizeVal")),{width:t,height:r}}}]),t}(h.default);t.default=$},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(13),_=n(c),m=r(7),h=n(m),f=r(4),v=n(f),g=r(3),y=n(g),w=r(14);n(w);var I=r(2),x=a(I),C=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementImage"),e,80,80,a));return n.elBarCode=null,n.content="",n.format="CODE128",n.displayValue=!0,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.name=n.rb.getLabel("docElementBarCode"),$("#rbro_menu_item_name"+n.id).text(n.name),n}return h.default(t,e),u.default(t,[{key:"setup",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r,a,n){_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),("content"===e||"format"===e||"displayValue"===e||"height"===e)&&(this.updateBarCode(),this.updateDisplay())}},{key:"getFields",value:function(){return["id","containerId","x","y","height","content","format","displayValue","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.barCode}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}}},{key:"getSizers",value:function(){return["N","S"]}},{key:"getXTagId",value:function(){return"rbro_bar_code_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_bar_code_element_position_y"}},{key:"getHeightTagId",value:function(){return"rbro_bar_code_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroBarCodeElement"></div>'),this.elBarCode=$("<canvas></canvas>"),this.el.append(this.elBarCode),this.appendToContainer(),this.updateBarCode(),_.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){var e=!1,t={format:this.format,height:this.displayValue?this.heightVal-22:this.heightVal,margin:0,displayValue:this.displayValue};if(this.content!==""&&this.content.indexOf("${")===-1)try{this.elBarCode.JsBarcode(this.content,t),e=!0}catch(r){}if(!e){var a="";this.format==="CODE39"||this.format==="CODE128"?a="12345678":this.format==="EAN13"?a="5901234123457":this.format==="EAN8"?a="96385074":this.format==="EAN5"?a="12345":this.format==="EAN2"?a="12":this.format==="ITF14"?a="12345678901231":(this.format==="MSI"||this.format==="MSI10"||this.format==="MSI11"||this.format==="MSI1010"||this.format==="MSI1110"||this.format=="pharmacode")&&(a="1234"),this.elBarCode.JsBarcode(a,t)}this.widthVal=this.elBarCode.width(),this.width=""+this.widthVal}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.content.indexOf(e)!==-1){var a=new y.default(this.id,"rbro_bar_code_element_content","content",x.replaceAll(this.source,e,t),y.default.type.text,this.rb);r.addCommand(a)}if(this.printIf.indexOf(e)!==-1){var n=new y.default(this.id,"rbro_bar_code_element_print_if","printIf",x.replaceAll(this.printIf,e,t),y.default.type.text,this.rb);r.addCommand(n)}}}]),t}(v.default);t.default=C},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(13),_=n(c),m=r(7),h=n(m),f=r(4),v=n(f),g=r(24);n(g);var y=r(85),w=n(y),I=r(3),x=n(I),C=r(14),k=n(C),D=r(12);n(D);var O=r(2),P=a(O),E=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementFrame"),e,100,100,a));return n.frame=null,n.setupComplete=!1,n.label="",n.backgroundColor="",n.borderAll=!1,n.borderLeft=!1,n.borderTop=!1,n.borderRight=!1,n.borderBottom=!1,n.borderColor="#000000",n.borderWidth="1",n.shrinkToContentHeight=!1,n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n.borderWidthVal=P.convertInputToNumber(n.borderWidth),n}return h.default(t,e),u.default(t,[{key:"setup",value:function(){this.borderWidthVal=P.convertInputToNumber(this.borderWidth),_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new w.default(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),this.panelItem.open()}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,r,a,n){e.indexOf("border")!==-1&&(this[e]=r,"borderWidth"===e&&(this.borderWidthVal=P.convertInputToNumber(r)),k.default.setBorderValue(this,e,"",r,a,n)),_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"label"===e&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n)}this.borderLeft&&(r-=this.borderWidthVal),this.borderRight&&(r-=this.borderWidthVal),this.borderTop&&(a-=this.borderWidthVal),this.borderBottom&&(a-=this.borderWidthVal);var o={};o.width=this.rb.toPixel(r),o.height=this.rb.toPixel(a),$("#rbro_el_content_frame"+this.id).css(o)}},{key:"updateStyle",value:function(){var e={},t={};e["background-color"]=this.getValue("backgroundColor"),this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(t["border-style"]=this.getValue("borderTop")?"solid":"none",t["border-style"]+=this.getValue("borderRight")?" solid":" none",t["border-style"]+=this.getValue("borderBottom")?" solid":" none",t["border-style"]+=this.getValue("borderLeft")?" solid":" none",t["border-width"]=this.getValue("borderWidth")+"px",t["border-color"]=this.getValue("borderColor")):t["border-style"]="none",$("#rbro_el_content"+this.id).css(t),this.el.css(e)
}},{key:"getFields",value:function(){return["id","containerId","linkedContainerId","label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.frame}},{key:"getXTagId",value:function(){return"rbro_frame_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_frame_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_frame_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_frame_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroFrameElement rbroElementContainer"></div>'),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append($('<div id="rbro_el_content_frame'+this.id+'" class="rbroDocElementContentFrame"></div>'))),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return $("#rbro_el_content_frame"+this.id)}},{key:"remove",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.name=this.label.trim()!==""?this.label:this.rb.getLabel("docElementFrame"),$("#rbro_menu_item_name"+this.id).text(this.name)}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.printIf.indexOf(e)!==-1){var a=new x.default(this.id,"rbro_frame_element_print_if","printIf",P.replaceAll(this.printIf,e,t),x.default.type.text,this.rb);r.addCommand(a)}}},{key:"toJS",value:function(){var e=_.default(t.prototype.__proto__||i.default(t.prototype),"toJS",this).call(this);return e}}]),t}(v.default);t.default=E},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(13),_=n(c),m=r(7),h=n(m),f=r(4),v=n(f),g=r(3),y=n(g),w=r(14),I=n(w),x=r(2),C=a(x),k=function(e){function t(e,r,a){d.default(this,t);var n=b.default(this,(t.__proto__||i.default(t)).call(this,a.getLabel("docElementImage"),e,80,80,a));return n.source="",n.image="",n.imageWidth=0,n.imageHeight=0,n.imageRatio=0,n.imageFilename="",n.elImg=null,n.horizontalAlignment=I.default.alignment.left,n.verticalAlignment=I.default.alignment.top,n.backgroundColor="",n.spreadsheet_hide=!1,n.spreadsheet_column="",n.spreadsheet_addEmptyRow=!1,n.setInitialData(r),n}return h.default(t,e),u.default(t,[{key:"setup",value:function(){_.default(t.prototype.__proto__||i.default(t.prototype),"setup",this).call(this),this.createElement(),this.image!==""&&this.setImage(this.image),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(e,r,a,n){_.default(t.prototype.__proto__||i.default(t.prototype),"setValue",this).call(this,e,r,a,n),"source"===e||"imageFilename"===e?this.updateName():"image"===e&&this.setImage(r)}},{key:"getFields",value:function(){return["id","containerId","x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return v.default.type.image}},{key:"updateDisplayInternal",value:function(e,t,r,a){if(this.el!==null){var n={left:this.rb.toPixel(e),top:this.rb.toPixel(t),width:this.rb.toPixel(r),height:this.rb.toPixel(a)};this.el.css(n);var o=0,i=0;if(this.imageRatio!==0&&(o=this.imageWidth<r?this.imageWidth:r,i=this.imageHeight<a?this.imageHeight:a,o!==this.imageWidth||i!==this.imageHeight)){var l=Math.floor(i*this.imageRatio);r>l?o=l:i=Math.floor(o/this.imageRatio)}this.elImg.css({width:this.rb.toPixel(o),height:this.rb.toPixel(i)})}}},{key:"updateStyle",value:function(){var e={},t=this.getValue("horizontalAlignment"),r=this.getValue("verticalAlignment"),a="rbroDocElementAlign"+t.charAt(0).toUpperCase()+t.slice(1),n="rbroDocElementVAlign"+r.charAt(0).toUpperCase()+r.slice(1);e["text-align"]=t,e["vertical-align"]=r,e["background-color"]=this.getValue("backgroundColor"),$("#rbro_el_content"+this.id).css(e),$("#rbro_el_content"+this.id).removeClass().addClass("rbroContentContainerHelper").addClass(a).addClass(n)}},{key:"getXTagId",value:function(){return"rbro_image_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_image_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_image_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_image_element_height"}},{key:"createElement",value:function(){var e=this;this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroImageElement"></div>'),this.elImg=$('<img src="">').on("load",function(){e.imageWidth=e.elImg.get(0).naturalWidth,e.imageHeight=e.elImg.get(0).naturalHeight,e.imageRatio=e.imageHeight!==0?e.imageWidth/e.imageHeight:0,e.updateDisplay()}),this.el.append($('<div id="rbro_el_content'+this.id+'" class="rbroContentContainerHelper"></div>').append(this.elImg)),this.appendToContainer(),this.setImage(this.image),_.default(t.prototype.__proto__||i.default(t.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,_.default(t.prototype.__proto__||i.default(t.prototype),"remove",this).call(this)}},{key:"setImage",value:function(e){this.elImg.attr("src",""),""!==e?this.elImg.attr("src",e):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.name=this.getValue("imageFilename").trim()!==""?this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.getValue("source"):this.rb.getLabel("docElementImage"),$("#rbro_menu_item_name"+this.id).text(this.name),$("#rbro_menu_item_name"+this.id).attr("title",this.name)}},{key:"addCommandsForChangedParameter",value:function(e,t,r){if(this.source.indexOf(e)!==-1){var a=new y.default(this.id,"rbro_image_element_source","source",C.replaceAll(this.source,e,t),y.default.type.text,this.rb);r.addCommand(a)}if(this.printIf.indexOf(e)!==-1){var n=new y.default(this.id,"rbro_image_element_print_if","printIf",C.replaceAll(this.printIf,e,t),y.default.type.text,this.rb);r.addCommand(n)}}}]),t}(v.default);t.default=k},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(8),p=a(u),b=r(13),c=a(b),_=r(7),m=a(_),h=r(4),f=a(h),v=function(e){function t(e,r,a){l.default(this,t);var n=p.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementLine"),e,100,1,a));return n.color="#000000",n.setInitialData(r),n}return m.default(t,e),s.default(t,[{key:"setup",value:function(){c.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r,a,n){c.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r,a,n),"color"===e&&this.updateStyle()}},{key:"getFields",value:function(){return["id","containerId","x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return f.default.type.line}},{key:"updateStyle",value:function(){var e={};e["background-color"]=this.getValue("color"),this.el.css(e)}},{key:"getSizers",value:function(){return["E","W"]}},{key:"getXTagId",value:function(){return"rbro_line_element_position_x"}},{key:"getYTagId",value:function(){return"rbro_line_element_position_y"}},{key:"getWidthTagId",value:function(){return"rbro_line_element_width"}},{key:"getHeightTagId",value:function(){return"rbro_line_element_height"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroLineElement"></div>'),this.appendToContainer(),c.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}}]),t}(f.default);t.default=v},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(8),p=a(u),b=r(13),c=a(b),_=r(7),m=a(_),h=r(4),f=a(h),v=function(e){function t(e,r,a){l.default(this,t);var n=p.default(this,(t.__proto__||o.default(t)).call(this,a.getLabel("docElementPageBreak"),e,-1,1,a));return n.setInitialData(r),n}return m.default(t,e),s.default(t,[{key:"setup",value:function(){c.default(t.prototype.__proto__||o.default(t.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,r,a,n){c.default(t.prototype.__proto__||o.default(t.prototype),"setValue",this).call(this,e,r,a,n)}},{key:"getFields",value:function(){return["id","containerId","y"]}},{key:"getElementType",value:function(){return f.default.type.pageBreak}},{key:"updateDisplayInternal",value:function(e,t){if(this.el!==null){var r={left:this.rb.toPixel(0),top:this.rb.toPixel(t),width:"100%",height:this.rb.toPixel(1)};this.el.css(r)}}},{key:"getSizers",value:function(){return[]}},{key:"getYTagId",value:function(){return"rbro_page_break_element_position_y"}},{key:"createElement",value:function(){this.el=$('<div id="rbro_el'+this.id+'" class="rbroDocElement rbroPageBreakElement"></div>'),this.appendToContainer(),c.default(t.prototype.__proto__||o.default(t.prototype),"registerEventHandlers",this).call(this)}}]),t}(f.default);t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(6),d=n(l),s=r(0),u=n(s),p=r(1),b=n(p),c=r(8),_=n(c),m=r(13),h=n(m),f=r(7),v=n(f),g=r(4),y=n(g),w=r(40),I=n(w),x=r(12),C=n(x),k=r(2),D=a(k),O=function(e){function t(e,r,a,n){u.default(this,t);var o="header"===a?n.getLabel("bandHeader"):"footer"===a?n.getLabel("bandFooter"):n.getLabel("bandContent"),i=_.default(this,(t.__proto__||d.default(t)).call(this,o,e,0,20,n));return i.tableBand=a,i.repeatHeader=!1,i.alwaysPrintOnSamePage=!0,i.backgroundColor="",i.alternateBackgroundColor="",i.groupExpression="",i.parentId=r.parentId,i.columnData=[],i.heightVal=0,i.setInitialData(r),i}return v.default(t,e),b.default(t,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.heightVal=D.convertInputToNumber(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var e=this.id,t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;l.getId()>e&&(e=l.getId())}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getContainerId",value:function(){var e=this.getParent();return null!==e?e.getContainerId():null}},{key:"setValue",value:function(e,t,r,a){if(this[e]=t,"height"===e){var n=D.convertInputToNumber(t);this[e+"Val"]=n,this.getElement().find("td").css({height:this.rb.toPixel(n-1)});var o=!0,l=!1,d=void 0;try{for(var s,u=i.default(this.columnData);!(o=(s=u.next()).done);o=!0){var p=s.value;p.setValue(e,t,r,a)}}catch(b){l=!0,d=b}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}}else"backgroundColor"===e&&this.updateStyle()}},{key:"getFields",value:function(){var e=["id","height","backgroundColor"];return this.tableBand==="header"?e.push("repeatHeader"):this.tableBand==="content"&&(e.push("alternateBackgroundColor"),e.push("groupExpression"),e.push("printIf"),e.push("alwaysPrintOnSamePage")),e}},{key:"updateDisplayInternal",value:function(){}},{key:"updateStyle",value:function(){this.el.css("background-color",this.backgroundColor)}},{key:"getSizers",value:function(){return[]}},{key:"getHeightTagId",value:function(){return"rbro_table_band_element_height"}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=$('<tr id="rbro_el_table_band'+this.id+'" class="rbroTableBandElement"></tr>'),$("#rbro_el_table_"+this.tableBand+this.parentId).append(this.el)}},{key:"remove",value:function(){h.default(t.prototype.__proto__||d.default(t.prototype),"remove",this).call(this);for(var e=0;e<this.columnData.length;e++)this.rb.deleteDataObject(this.columnData[e])}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(e,t){if(this.panelItem!==null){if(t)for(var r=0;r<this.columnData.length;r++)this.columnData[r].remove(),r>=e&&this.rb.deleteDataObject(this.columnData[r]);for(var a=[],n=0;e>n;n++){var o=void 0,i=void 0;n<this.columnData.length?(o=this.columnData[n],i=o.id,t||(o.band=this.band,o.columnIndex=n,o.parentId=this.id,o.tableId=this.parentId)):o={band:this.band,columnIndex:n,parentId:this.id,tableId:this.parentId,width:t?20:100,height:this.height},i||(i=this.rb.getUniqueId());var l=new I.default(i,o,this.rb);a.push(l),this.rb.addDataObject(l);var d=new C.default(y.default.type.text,"",this.panelItem,l,{showDelete:!1},this.rb);l.setPanelItem(d),this.panelItem.appendChild(d),l.setup()}this.columnData=a,this.getElement().find("td").css({height:this.rb.toPixel(this.heightVal-1)})}}},{key:"show",value:function(e){e?$("#rbro_el_table_band"+this.id).removeClass("rbroHidden"):$("#rbro_el_table_band"+this.id).addClass("rbroHidden")}},{key:"updateColumnWidth",value:function(e,t){if(e<this.columnData.length){var r=this.columnData[e];r.updateColumnWidth(t)}}},{key:"getColumn",value:function(e){return e>=0&&e<this.columnData.length?this.columnData[e]:null}},{key:"getWidth",value:function(){var e=0,t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e+=l.getValue("widthVal")}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getColumnWidths",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e.push(l.getValue("widthVal"))}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"addChildren",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(this.columnData);!(t=(n=o.next()).done);t=!0){var l=n.value;e.push(l)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"toJS",value:function(){var e=h.default(t.prototype.__proto__||d.default(t.prototype),"toJS",this).call(this);e.columnData=[];var r=!0,a=!1,n=void 0;try{for(var o,l=i.default(this.columnData);!(r=(o=l.next()).done);r=!0){var s=o.value;e.columnData.push(s.toJS())}}catch(u){a=!0,n=u}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}return e}}]),t}(y.default);t.default=O},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(105),o=a(n),i=r(104),l=a(i),d=typeof l.default=="function"&&typeof o.default=="symbol"?function(e){return typeof e}:function(e){return e&&typeof l.default=="function"&&e.constructor===l.default&&e!==l.default.prototype?"symbol":typeof e};t.default=typeof l.default=="function"&&d(o.default)==="symbol"?function(e){return"undefined"==typeof e?"undefined":d(e)}:function(e){return e&&typeof l.default=="function"&&e.constructor===l.default&&e!==l.default.prototype?"symbol":"undefined"==typeof e?"undefined":d(e)}},function(e,t,r){var a=r(115);e.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var a=r(30),n=r(17).document,o=a(n)&&a(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){e.exports=!r(21)&&!r(29)(function(){return Object.defineProperty(r(66)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){"use strict";var a=r(45),n=r(26),o=r(74),i=r(27),l=r(22),d=r(33),s=r(123),u=r(49),p=r(71),b=r(19)("iterator"),c=!([].keys&&"next"in[].keys()),_="@@iterator",m="keys",h="values",f=function(){return this};e.exports=function(e,t,r,v,g,y,w){s(r,t,v);var I,$,x,C=function(e){if(!c&&e in P)return P[e];switch(e){case m:return function(){return new r(this,e)};case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",D=g==h,O=!1,P=e.prototype,E=P[b]||P[_]||g&&P[g],j=E||C(g),S=g?D?C("entries"):j:void 0,V="Array"==t?P.entries||E:E;if(V&&(x=p(V.call(new e)),x!==Object.prototype&&(u(x,k,!0),a||l(x,b)||i(x,b,f))),D&&E&&E.name!==h&&(O=!0,j=function(){return E.call(this)}),a&&!w||!c&&!O&&P[b]||i(P,b,j),d[t]=j,d[k]=f,g)if(I={values:D?j:C(h),keys:y?j:C(m),entries:S},w)for($ in I)$ in P||o(P,$,I[$]);else n(n.P+n.F*(c||O),t,I);return I}},function(e,t,r){var a=r(72),n=r(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var a=r(22),n=r(75),o=r(50)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,o)?e[o]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,r){var a=r(22),n=r(18),o=r(117)(!1),i=r(50)("IE_PROTO");e.exports=function(e,t){var r,l=n(e),d=0,s=[];for(r in l)r!=i&&a(l,r)&&s.push(r);for(;t.length>d;)a(l,r=t[d++])&&(~o(s,r)||s.push(r));return s}},function(e,t,r){var a=r(26),n=r(9),o=r(29);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],i={};i[e]=t(r),a(a.S+a.F*o(function(){r(1)}),"Object",i)}},function(e,t,r){e.exports=r(27)},function(e,t,r){var a=r(43);e.exports=function(e){return Object(a(e))}},function(e,t,r){"use strict";var a=r(130)(!0);r(68)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){r(135);for(var a=r(17),n=r(27),o=r(33),i=r(19)("toStringTag"),l=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;5>d;d++){var s=l[d],u=a[s],p=u&&u.prototype;p&&!p[i]&&n(p,i,s),o[s]=o.Array}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(82),o=a(n);$.fn.reportBro=function(e){var t=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(a,n){var i,l=$(n),d=l.data("reportBro");"string"==typeof e?d&&$.isFunction(d[e])&&(i=d[e].apply(d,t),0===a&&(r=i),"destroy"===e&&l.removeData("reportBro")):d||(d=new o.default(l,e),l.data("reportBro",d),d.render(),d.setup())}),r}},function(){},function(){},function(){},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=a(n),i=r(5),l=a(i),d=r(0),s=a(d),u=r(1),p=a(u),b=r(15),c=a(b),_=r(10),m=a(_),h=r(24),f=a(h),v=r(11),g=a(v),y=r(20),w=a(y),I=r(3),x=a(I),C=r(57),k=a(C),D=r(28),O=a(D),P=r(37),E=a(P),j=r(16),S=a(j),V=r(14),T=a(V),F=r(38),B=a(F),A=r(58),L=a(A),M=r(4),R=a(M),H=r(59),z=a(H),N=r(60),W=a(N),J=r(61),U=a(J),Y=r(62),G=a(Y),X=r(63),K=a(X),q=r(39),Q=a(q),Z=r(40),et=a(Z),tt=r(41),rt=a(tt),at=r(88),nt=a(at),ot=r(89),it=a(ot),lt=r(90),dt=a(lt),st=r(91),ut=a(st),pt=r(92),bt=a(pt),ct=r(93),_t=a(ct),mt=r(94),ht=a(mt),ft=r(86),vt=a(ft),gt=r(12),yt=a(gt),wt=r(87),It=a(wt),$t=r(95),xt=a($t),Ct=r(96),kt=a(Ct),Dt=r(31),Ot=a(Dt),Pt=r(98),Et=a(Pt),jt=r(97),St=a(jt),Vt=r(99),Tt=a(Vt),Ft=function(){function e(t,r){var a=this;if(s.default(this,e),this.element=t,this.nextId=1,this.locale={bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",barCodeElementContent:"Content",barCodeElementDisplayValue:"Display value",barCodeElementFormat:"Format",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBand:"Band",docElementBarCode:"Bar code",docElementColor:"Color",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementDataSource:"Data source",docElementFrame:"Frame",docElementHeight:"Height",docElementImage:"Image",docElementLabel:"Label",docElementLine:"Line",docElementPageBreak:"Page break",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRoot:"Document",docElementSize:"Size (width, height)",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementWidth:"Width",docElementStyle:"Style",docElementTable:"Table",docElementText:"Text",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Empty panel",errorMsgDuplicateParameterField:"Field already exists",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD ( or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https://",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter {info} not found",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",frameElementShrinkToContentHeight:"Shrink to content height",imageElementImage:"Image file",imageElementLoadErrorMsg:"Loading image failed",imageElementSource:"Source",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterPattern:"Pattern",parameters:"Parameters",parameterAddTestData:"Add row",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataNoFields:"No fields defined for this list",parameterEval:"Evaluate",parameterNullable:"Nullable",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles",tableElementAlternateBackgroundColor:"Alternate background color",tableElementBorderFrame:"Frame",tableElementBorderFrameRow:"Frame and row",tableElementBorderGrid:"Grid",tableElementBorderNone:"None",tableElementBorderRow:"Row",tableElementColumns:"Columns",tableElementContentRows:"Content rows",tableElementGroupExpression:"Group expression",tableElementRepeatHeader:"Repeat header",textElementContent:"Text",textElementEval:"Evaluate",textElementPattern:"Pattern"},this.properties={additionalFonts:[],adminMode:!0,enableSpreadsheet:!0,fonts:[{name:"Courier",value:"courier"},{name:"Helvetica",value:"helvetica"},{name:"Times New Roman",value:"times"}],localStorageReportKey:null,menuShowButtonLabels:!1,menuSidebar:!1,saveCallback:null,showGrid:!0,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1},r){for(var n in r)this.properties.hasOwnProperty(n)&&(this.properties[n]=r[n]);$.extend(this.locale,r.locale||{})}this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts)),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),this.detailData=null,this.document=new c.default(t,this.properties.showGrid,this),this.popupWindow=new m.default(t,this),this.docElements=[],this.headerBand=new k.default(c.default.band.header,"","",this),this.contentBand=new k.default(c.default.band.content,"","",this),this.footerBand=new k.default(c.default.band.footer,"","",this),this.parameterContainer=new O.default("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new O.default("0_styles",this.getLabel("styles"),this),this.documentProperties=new E.default(this),this.clipboardElements=[],this.mainPanel=new vt.default(t,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new It.default(t,this),this.activeDetailPanel="none",this.detailPanels={none:new ut.default(t,this),band:new nt.default(t,this),bar_code:new it.default(t,this),frame:new bt.default(t,this),text:new Tt.default(t,this),line:new ht.default(t,this),image:new _t.default(t,this),page_break:new xt.default(t,this),table:new Et.default(t,this),table_band:new St.default(t,this),parameter:new kt.default(t,this),style:new Ot.default(t,this),documentProperties:new dt.default(this.documentProperties,t,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragCategory="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),$(document).keydown(function(e){if(e.metaKey||e.ctrlKey)switch(e.which){case 67:if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){var t=!1,r={},n=void 0,o=!0,i=!1,d=void 0;try{for(var s,u=l.default(a.selections);!(o=(s=u.next()).done);o=!0){var p=s.value,b=a.getDataObject(p);if(b instanceof R.default&&!(b instanceof et.default)&&(t||(a.clipboardElements=[],t=!0),!(b.getId()in r)&&(r[b.getId()]=!0,a.clipboardElements.push(b.toJS()),b instanceof z.default))){var c=[];b.appendContainerChildren(c);var _=!0,m=!1,h=void 0;try{for(var v,g=l.default(c);!(_=(v=g.next()).done);_=!0){var y=v.value;if(y.getId()in r){for(n=0;n<a.clipboardElements.length;n++)if(y.getId()===a.clipboardElements[n].id){a.clipboardElements.splice(n,1);break}}else r[y.getId()]=!0;a.clipboardElements.push(y.toJS())}}catch(I){m=!0,h=I}finally{try{!_&&g.return&&g.return()}finally{if(m)throw h}}}}}catch(I){i=!0,d=I}finally{try{!o&&u.return&&u.return()}finally{if(i)throw d}}e.preventDefault()}break;case 86:if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){var $=!1,C={},k=!0,D=!1,O=void 0;try{for(var P,E=l.default(a.clipboardElements);!(k=(P=E.next()).done);k=!0){var j=P.value;if(j.id=a.getUniqueId(),j.linkedContainerId){var S=a.getUniqueId();C[j.linkedContainerId]=S,j.linkedContainerId=S
}j.elementType===R.default.type.table&&Q.default.removeIds(j)}}catch(I){D=!0,O=I}finally{try{!k&&E.return&&E.return()}finally{if(D)throw O}}var V=!0,T=!1,F=void 0;try{for(var B,A=l.default(a.clipboardElements);!(V=(B=A.next()).done);V=!0){var L=B.value;L.containerId in C&&(L.containerId=C[L.containerId]),L.x=L.y=0,a.createDocElement(L,!0),a.selectObject(L.id,!$),$=!0}}catch(I){T=!0,F=I}finally{try{!V&&A.return&&A.return()}finally{if(T)throw F}}e.preventDefault()}break;case 89:a.redoCommand(),e.preventDefault();break;case 90:a.undoCommand(),e.preventDefault()}else if(e.which===27)a.popupWindow.hide();else if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))switch(e.which){case 8:case 46:var M=new w.default("Delete",a),H=!0,N=!1,W=void 0;try{for(var J,U=l.default(a.selections);!(H=(J=U.next()).done);H=!0){var Y=J.value,G=a.getDataObject(Y);if(G instanceof R.default){var X=new f.default(!1,G.getPanelItem().getPanelName(),G.toJS(),G.getId(),G.getContainerId(),G.getPanelItem().getSiblingPosition(),a);M.addCommand(X)}}}catch(I){N=!0,W=I}finally{try{!H&&U.return&&U.return()}finally{if(N)throw W}}M.isEmpty()||a.executeCommand(M),e.preventDefault();break;case 37:case 38:case 39:case 40:var K=new w.default("Move element",a),q=void 0,Z=e.which===37||e.which===39?"x":"y";a.getDocumentProperties().getContentSize().width;var tt=!0,rt=!1,at=void 0;try{for(var nt,ot=l.default(a.selections);!(tt=(nt=ot.next()).done);tt=!0){var it=nt.value,lt=a.getDataObject(it);if(lt instanceof R.default&&(q=e.which===37||e.which===39?lt.getXTagId():lt.getYTagId(),""!==q)){var dt=null;if(e.which===37)lt.getValue("xVal")>0&&(dt=lt.getValue("xVal")-1);else if(e.which===38)lt.getValue("yVal")>0&&(dt=lt.getValue("yVal")-1);else if(e.which===39){var st=lt.getContainerSize();lt.getValue("xVal")+lt.getValue("widthVal")<st.width&&(dt=lt.getValue("xVal")+1)}else if(e.which===40){var ut=lt.getContainerSize();lt.getValue("yVal")+lt.getValue("heightVal")<ut.height&&(dt=lt.getValue("yVal")+1)}if(null!==dt){var pt=new x.default(it,q,Z,dt,x.default.type.text,a);K.addCommand(pt)}}}}catch(I){rt=!0,at=I}finally{try{!tt&&ot.return&&ot.return()}finally{if(rt)throw at}}K.isEmpty()||a.executeCommand(K),e.preventDefault()}})}return p.default(e,[{key:"addDefaultParameters",value:function(){for(var e=[{name:"page_count",type:S.default.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:S.default.type.number,eval:!1,editable:!1,showOnlyNameType:!0}],t=0;t<e.length;t++){var r=e[t],a=new S.default(this.getUniqueId(),r,this),n=this.mainPanel.getParametersItem(),o=new yt.default("parameter","",n,a,{hasChildren:!1,showAdd:!1,showDelete:!1,draggable:!1},this);o.openParentItems(),a.setPanelItem(o),n.appendChild(o),a.setup(),this.addParameter(a)}}},{key:"render",value:function(){var e=this;this.element.empty(),this.getProperty("menuSidebar")&&this.element.addClass("rbroMenuPanelSidebar"),this.element.append('<div class="rbroLogo"></div>'),this.element.append('<div class="rbroMenuPanel" id="rbro_menu_panel"></div>'),this.element.append('<div class="rbroContainer">\n                <div class="rbroMainPanel" id="rbro_main_panel"><ul id="rbro_main_panel_list"></ul></div>\n                <div class="rbroDetailPanel" id="rbro_detail_panel"></div>\n                <div class="rbroDocumentPanel" id="rbro_document_panel"></div>\n            </div>'),this.mainPanel.render(),this.menuPanel.render();for(var t in this.detailPanels)this.detailPanels[t].render();this.detailPanels[this.activeDetailPanel].show(this.detailData),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),$(document).mouseup(function(){e.document.isDragging()&&e.document.stopDrag(),e.popupWindow.hide()}),this.element.on("dragstart",function(e){e.preventDefault()})}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(e){return e in this.locale?this.locale[e]:e}},{key:"getProperty",value:function(e){return this.properties[e]}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var e=[];if(this.properties.patternNumbers.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.properties.patternNumbers);!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}if(this.properties.patternDates.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var s=!0,u=!1,p=void 0;try{for(var b,c=l.default(this.properties.patternDates);!(s=(b=c.next()).done);s=!0){var _=b.value;e.push(_)}}catch(d){u=!0,p=d}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}}return e}},{key:"getParameterItems",value:function(e,t){var r=[],a=this.getMainPanel().getParametersItem().getChildren();r.push({separator:!0,name:this.getLabel("parameters")});for(var n=e.getPanelItem();null!==n;){if(null!==n&&n.getData()instanceof K.default&&n.getData().getValue("tableBand")==="content"){if(n.getParent()!==null&&n.getParent().getData()instanceof Q.default){var o=!0,i=!1,d=void 0;try{for(var s,u=l.default(n.getParent().getData().getDataParameters());!(o=(s=u.next()).done);o=!0){var p=s.value;p.appendParameterItems(r,t)}}catch(b){i=!0,d=b}finally{try{!o&&u.return&&u.return()}finally{if(i)throw d}}}}else if(null!==n&&n.getData()instanceof B.default){var c=!0,_=!1,m=void 0;try{for(var h,f=l.default(n.getData().getDataParameters());!(c=(h=f.next()).done);c=!0){var v=h.value;v.appendParameterItems(r,t)}}catch(b){_=!0,m=b}finally{try{!c&&f.return&&f.return()}finally{if(_)throw m}}}n=n.getParent()}var g=[],y=!0,w=!1,I=void 0;try{for(var $,x=l.default(a);!(y=($=x.next()).done);y=!0){var C=$.value,k=C.getData();k.getValue("type")===S.default.type.map?k.appendParameterItems(g,t):k.appendParameterItems(r,t)}}catch(b){w=!0,I=b}finally{try{!y&&x.return&&x.return()}finally{if(w)throw I}}return r.concat(g)}},{key:"getArrayFieldParameterItems",value:function(e){var t=[],r=this.getMainPanel().getParametersItem().getChildren();t.push({separator:!0,name:this.getLabel("parameters")});var a=!0,n=!1,o=void 0;try{for(var i,d=l.default(r);!(a=(i=d.next()).done);a=!0){var s=i.value,u=s.getData();u.getValue("type")===S.default.type.array&&u.appendFieldParameterItems(t,e)}}catch(p){n=!0,o=p}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}return t}},{key:"getParameterByName",value:function(e){var t=this.getParameters(),r=!0,a=!1,n=void 0;try{for(var o,i=l.default(t);!(r=(o=i.next()).done);r=!0){var d=o.value;if(d.getValue("name")===e)return d}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}return null}},{key:"appendContainerDocElements",value:function(e,t,r){var a=e.getPanelItem().getChildren(),n=!0,o=!1,i=void 0;try{for(var d,s=l.default(a);!(n=(d=s.next()).done);n=!0){var u=d.value;if(u.getData()instanceof R.default){var p=u.getData();t?(r.push(p),p.addChildren(r)):r.push(p.toJS());var b=p.getLinkedContainer();null!==b&&this.appendContainerDocElements(b,t,r)}}}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}},{key:"getDocElements",value:function(e){var t=[];return this.appendContainerDocElements(this.headerBand,e,t),this.appendContainerDocElements(this.contentBand,e,t),this.appendContainerDocElements(this.footerBand,e,t),t}},{key:"setDetailPanel",value:function(e,t){this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=e,this.detailData=t,this.detailPanels[e].show(t)}},{key:"updateDetailPanel",value:function(){this.detailPanels[this.activeDetailPanel].updateData(this.detailData)}},{key:"notifyEvent",value:function(e,t){if(e instanceof S.default)e.getValue("type")===S.default.type.array||e.getValue("type")===S.default.type.map?($("#rbro_menu_item_add"+e.getId()).show(),$("#rbro_menu_item_children"+e.getId()).show(),$("#rbro_menu_item_children_toggle"+e.getId()).show()):($("#rbro_menu_item_add"+e.getId()).hide(),$("#rbro_menu_item_children"+e.getId()).hide(),$("#rbro_menu_item_children_toggle"+e.getId()).hide());else if(e instanceof T.default){var r=!0,a=!1,n=void 0;try{for(var o,i=l.default(this.docElements);!(r=(o=i.next()).done);r=!0){var d=o.value;d.updateChangedStyle(e.getId())}}catch(s){a=!0,n=s}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}}for(var u in this.detailPanels)this.detailPanels[u].notifyEvent(e,t)}},{key:"addParameter",value:function(e){this.addDataObject(e)}},{key:"deleteParameter",value:function(e){this.deleteDataObject(e)}},{key:"addStyle",value:function(e){this.addDataObject(e),this.notifyEvent(e,g.default.operation.add)}},{key:"deleteStyle",value:function(e){this.deleteDataObject(e),this.notifyEvent(e,g.default.operation.remove)}},{key:"getStyles",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.getMainPanel().getStylesItem().getChildren());!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i.getData())}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"getParameters",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.getMainPanel().getParametersItem().getChildren());!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i.getData())}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"addDocElement",value:function(e){this.docElements.push(e),this.addDataObject(e)}},{key:"deleteDocElement",value:function(e){for(var t=0;t<this.docElements.length;t++)if(this.docElements[t].getId()===e.getId()){this.detailData===this.docElements[t]&&this.setDetailPanel("none",null),this.docElements.splice(t,1),this.deleteDataObject(e);break}}},{key:"getDetailData",value:function(){return this.detailData}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(e){if(e.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&e instanceof x.default&&this.commandStack.length>0){var t=this.commandStack[this.commandStack.length-1];t instanceof x.default&&t.allowReplace(e)&&(e.oldValue=t.oldValue,this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(e),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons()}},{key:"undoCommand",value:function(){this.lastCommandIndex>=0&&(this.commandStack[this.lastCommandIndex].undo(),this.lastCommandIndex--,this.modified=!0,this.updateMenuButtons())}},{key:"redoCommand",value:function(){this.lastCommandIndex<this.commandStack.length-1&&(this.lastCommandIndex++,this.commandStack[this.lastCommandIndex].do(),this.modified=!0,this.updateMenuButtons())}},{key:"updateMenuButtons",value:function(){$("#rbro_menu_save").prop("disabled",this.commandStack.length===0||!this.modified),$("#rbro_menu_undo").prop("disabled",this.lastCommandIndex<0),$("#rbro_menu_redo").prop("disabled",this.lastCommandIndex>=this.commandStack.length-1)}},{key:"updateMenuAlignButtons",value:function(){var e=0,t="",r=!1,a=!0,n=!1,o=void 0;try{for(var i,d=l.default(this.selections);!(a=(i=d.next()).done);a=!0){var s=i.value,u=this.getDataObject(s);u instanceof R.default&&u.getXTagId()!==""&&(e++,1===e?t=u.getValue("containerId"):t!==u.getValue("containerId")&&(r=!0))}}catch(p){n=!0,o=p}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}e>1?($("#rbro_menu_align").show(),r?$("#rbro_menu_valign").hide():$("#rbro_menu_valign").show()):($("#rbro_menu_align").hide(),$("#rbro_menu_valign").hide())}},{key:"debugCommandStack",value:function(){console.clear();for(var e=0;e<this.commandStack.length;e++)e>this.lastCommandIndex?console.log("( "+e+" "+this.commandStack[e].getName()+" )"):console.log(e+" "+this.commandStack[e].getName())}},{key:"addDataObject",value:function(e){this.objectMap[e.getId()]=e}},{key:"deleteDataObject",value:function(e){this.isSelectedObject(e.getId())&&this.deselectObject(e.getId()),e.getId()in this.objectMap&&(e.remove(),delete this.objectMap[e.getId()])}},{key:"getDataObject",value:function(e){return null!==e&&e in this.objectMap?this.objectMap[e]:null}},{key:"isSelectedObject",value:function(e){return this.selections.indexOf(e)!==-1}},{key:"isDocElementSelected",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=l.default(this.selections);!(e=(a=n.next()).done);e=!0){var o=a.value,i=this.getDataObject(o);if(i instanceof R.default)return!0}}catch(d){t=!0,r=d}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}return!1}},{key:"isTableElementSelected",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.selections);!(t=(n=o.next()).done);t=!0){var i=n.value,d=this.getDataObject(i);if(d instanceof et.default&&d.getValue("tableId")===e)return!0}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return!1}},{key:"selectObject",value:function(e,t){t&&this.deselectAll();var r=this.getDataObject(e);null!==r&&(this.selections.push(e),r.select(),r.getPanelItem()!==null&&(r.getPanelItem().openParentItems(),r.getPanelItem().setActive())),this.selectionSinceLastCommand=!0,this.updateMenuAlignButtons()}},{key:"deselectObject",value:function(e){this.deselectObjectInternal(e,!0),this.updateMenuAlignButtons()}},{key:"deselectObjectInternal",value:function(e,t){var r=this.getDataObject(e);if(null!==r&&(r.deselect(),this.detailData===r&&(this.setDetailPanel("none",null),$(".rbroMenuItem").removeClass("rbroMenuItemActive"))),t){var a=this.selections.indexOf(e);-1!==a&&this.selections.splice(a,1)}}},{key:"deselectAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=l.default(this.selections);!(e=(a=n.next()).done);e=!0){var o=a.value;this.deselectObjectInternal(o,!1)}}catch(i){t=!0,r=i}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}this.selections=[],this.updateMenuAlignButtons()}},{key:"getContainer",value:function(e,t,r){for(var a=null,n=-1,o=0;o<this.containers.length;o++){var i=this.containers[o];i.getLevel()>n&&i.isElementAllowed(r)&&i.isInside(e,t)&&(a=i,n=i.getLevel())}return a}},{key:"addContainer",value:function(e){this.containers.push(e),this.addDataObject(e)}},{key:"deleteContainer",value:function(e){for(var t=0;t<this.containers.length;t++)if(this.containers[t].getId()===e.getId()){this.containers.splice(t,1);break}this.deleteDataObject(e)}},{key:"startBrowserDrag",value:function(e,t,r,a){this.browserDragType=e,this.browserDragCategory=t,this.browserDragId=a,this.getDocument().startBrowserDrag(r)}},{key:"isBrowserDragActive",value:function(e){return this.browserDragType===e}},{key:"getBrowserDragCategory",value:function(){return this.browserDragCategory}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(e,t,r,a,n,o){var i=void 0;o&&(i=new w.default(r===R.default.dragType.element?"Update position":"Resize",this));var d=0;n&&this.document.isGridVisible()&&(d=this.document.getGridSize());var s=!0,u=!1,p=void 0;try{for(var b,c=l.default(this.selections);!(s=(b=c.next()).done);s=!0){var _=b.value,m=this.getDataObject(_);null!==m&&(r!==R.default.dragType.element||m.isDraggingAllowed())&&m.updateDrag(e,t,r,a,d,o?i:null)}}catch(h){u=!0,p=h}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}o&&!i.isEmpty()&&this.executeCommand(i)}},{key:"alignSelections",value:function(e){var t=void 0,r=void 0,a=void 0,n=void 0,o=Number.MAX_VALUE,i=Number.MIN_VALUE,d=Number.MAX_VALUE,s=Number.MIN_VALUE,u=0,p=!0,b=!1,c=void 0;try{for(var _,m=l.default(this.selections);!(p=(_=m.next()).done);p=!0){var h=_.value,f=this.getDataObject(h);f instanceof R.default&&f.getXTagId()!==""&&(u++,t=f.getValue("xVal"),r=f.getValue("yVal"),a=f.getValue("widthVal"),n=f.getValue("heightVal"),o>t&&(o=t),t+a>i&&(i=t+a),d>r&&(d=r),r+n>s&&(s=r+n))}}catch(v){b=!0,c=v}finally{try{!p&&m.return&&m.return()}finally{if(b)throw c}}var g=o+(i-o)/2,y=d+(s-d)/2;if(u>1){var I=new w.default("Align elements",this),$=!0,C=!1,k=void 0;try{for(var D,O=l.default(this.selections);!($=(D=O.next()).done);$=!0){var P=D.value,E=this.getDataObject(P);if(E instanceof R.default&&!(E instanceof G.default))switch(e){case T.default.alignment.left:var j=new x.default(E.getId(),E.getXTagId(),"x",""+o,x.default.type.text,this);I.addCommand(j);break;case T.default.alignment.center:var S=new x.default(E.getId(),E.getXTagId(),"x",""+(g-E.getValue("widthVal")/2),x.default.type.text,this);I.addCommand(S);break;case T.default.alignment.right:var V=new x.default(E.getId(),E.getXTagId(),"x",""+(i-E.getValue("widthVal")),x.default.type.text,this);I.addCommand(V);break;case T.default.alignment.top:var F=new x.default(E.getId(),E.getYTagId(),"y",""+d,x.default.type.text,this);I.addCommand(F);break;case T.default.alignment.middle:var B=new x.default(E.getId(),E.getYTagId(),"y",""+(y-E.getValue("heightVal")/2),x.default.type.text,this);I.addCommand(B);break;case T.default.alignment.bottom:var A=new x.default(E.getId(),E.getYTagId(),"y",""+(s-E.getValue("heightVal")),x.default.type.text,this);I.addCommand(A)}}}catch(v){C=!0,k=v}finally{try{!$&&O.return&&O.return()}finally{if(C)throw k}}this.executeCommand(I)}}},{key:"toPixel",value:function(e){return""===e?"0px":$.type(e)==="string"&&(e=parseFloat(e.replace(",",".")),0/0===e)?"0px":e+"px"}},{key:"createDocElement",value:function(e,t){var r={draggable:!0},a=null;e.elementType===R.default.type.text?a=new rt.default(e.id,e,this):e.elementType===R.default.type.line?a=new U.default(e.id,e,this):e.elementType===R.default.type.image?a=new W.default(e.id,e,this):e.elementType===R.default.type.barCode?a=new L.default(e.id,e,this):e.elementType===R.default.type.table?(a=new Q.default(e.id,e,this),r.hasChildren=!0):e.elementType===R.default.type.frame?(a=new z.default(e.id,e,this),r.hasChildren=!0):e.elementType===R.default.type.band?(a=new B.default(e.id,e,this),r.hasChildren=!0,r.showAdd=!0):e.elementType===R.default.type.pageBreak&&(a=new G.default(e.id,e,this)),this.addDocElement(a);var n=a.getContainer().getPanelItem(),o=new yt.default(e.elementType,"",n,a,r,this);return t&&o.openParentItems(),a.setPanelItem(o),n.appendChild(o),a.setup(),a}},{key:"showLoading",value:function(){$("#rbro_loading_div").length==0&&$("body").append('<div id="rbro_loading_div" class="rbroLoadingIndicator"></div>')}},{key:"hideLoading",value:function(){$("#rbro_loading_div").remove()}},{key:"getTestData",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;if(!i.getValue("showOnlyNameType")){var d=i.getValue("type");if(d===S.default.type.map){var s={},u=!0,p=!1,b=void 0;try{for(var c,_=l.default(i.getChildren());!(u=(c=_.next()).done);u=!0){var m=c.value;s[m.getName()]=m.getValue("testData")}}catch(h){p=!0,b=h}finally{try{!u&&_.return&&_.return()}finally{if(p)throw b}}e[i.getName()]=s}else if(d===S.default.type.array)e[i.getName()]=i.getTestDataRows();else if(d===S.default.type.simpleArray){var f=[],v=!0,g=!1,y=void 0;try{for(var w,I=l.default(i.getTestDataRows());!(v=(w=I.next()).done);v=!0){var $=w.value;"data"in $&&f.push($.data)}}catch(h){g=!0,y=h}finally{try{!v&&I.return&&I.return()}finally{if(g)throw y}}e[i.getName()]=f}else(d===S.default.type.string||d===S.default.type.number||d===S.default.type.date)&&(e[i.getName()]=i.getValue("testData"))}}}catch(h){r=!0,a=h}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}return e}},{key:"processErrors",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=l.default(e);!(t=(n=o.next()).done);t=!0){var i=n.value;if(i.object_id){$("#rbro_menu_item"+i.object_id).addClass("rbroError");var d=this.getDataObject(i.object_id);null!==d&&d.addError(i)}}}catch(s){r=!0,a=s}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}e.length>0&&(this.detailPanels[this.activeDetailPanel].updateErrors(),this.selectObject(e[0].object_id,!0))}},{key:"previewInternal",value:function(e,t){var r=this;$(".rbroMenuItem").removeClass("rbroError");for(var a in this.objectMap)this.objectMap[a].clearErrors();this.detailPanels[this.activeDetailPanel].updateErrors(),this.showLoading(),$.ajax(this.properties.reportServerUrl,{data:o.default({report:this.getReport(),outputFormat:E.default.outputFormat.pdf,data:e,isTestData:t}),type:"PUT",contentType:"application/json",timeout:this.properties.reportServerTimeout,crossDomain:this.properties.reportServerUrlCrossDomain,success:function(e){if(r.hideLoading(),e.substr(0,4)==="key:")r.reportKey=e.substr(4),r.getDocument().openPdfPreviewTab(r.properties.reportServerUrl+"?key="+r.reportKey+"&outputFormat=pdf");else{r.reportKey=null;try{var t=JSON.parse(e);t.errors.length>0&&r.processErrors(t.errors)}catch(a){alert("preview failed")}}},error:function(e,t){r.hideLoading(),"timeout"===t?alert("preview failed (timeout)"):alert("preview failed")}})}},{key:"getReport",value:function(){var e={docElements:[],parameters:[],styles:[],version:2};e.docElements=this.getDocElements(!1);var t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;e.parameters.push(i.toJS())}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var s=!0,u=!1,p=void 0;try{for(var b,c=l.default(this.getStyles());!(s=(b=c.next()).done);s=!0){var _=b.value;e.styles.push(_.toJS())}}catch(d){u=!0,p=d}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}return e.documentProperties=this.documentProperties.toJS(),e}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback(),this.modified=!1;else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var e=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,o.default(e)),this.modified=!1}catch(t){}this.updateMenuButtons()}},{key:"load",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=l.default(this.getParameters());!(t=(n=o.next()).done);t=!0){var i=n.value;this.deleteParameter(i)}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var s=!0,u=!1,p=void 0;try{for(var b,c=l.default(this.getStyles());!(s=(b=c.next()).done);s=!0){var _=b.value;this.deleteStyle(_)}}catch(d){u=!0,p=d}finally{try{!s&&c.return&&c.return()}finally{if(u)throw p}}if(this.nextId=1,this.setDetailPanel("none",null),this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),e.version<2){var m=!0,h=!1,f=void 0;try{for(var v,g=l.default(e.docElements);!(m=(v=g.next()).done);m=!0){var y=v.value;y.elementType===R.default.type.table&&(y.contentDataRows=[y.contentData],y.contentRows="1")}}catch(d){h=!0,f=d}finally{try{!m&&g.return&&g.return()}finally{if(h)throw f}}}this.documentProperties.setInitialData(e.documentProperties),this.documentProperties.setup();var w=!0,I=!1,x=void 0;try{for(var C,k=l.default(e.styles);!(w=(C=k.next()).done);w=!0){var D=C.value,O=new T.default(D.id,D,this),P=this.mainPanel.getStylesItem(),E=new yt.default("style","",P,O,{draggable:!0},this);O.setPanelItem(E),P.appendChild(E),this.addStyle(O),D.id>=this.nextId&&(this.nextId=D.id+1)}}catch(d){I=!0,x=d}finally{try{!w&&k.return&&k.return()}finally{if(I)throw x}}var j=!0,V=!1,F=void 0;try{for(var B,A=l.default(e.parameters);!(j=(B=A.next()).done);j=!0){var L=B.value,M=new S.default(L.id,L,this),H=this.mainPanel.getParametersItem(),z=new yt.default("parameter","",H,M,{hasChildren:!0,showAdd:M.getValue("editable"),showDelete:M.getValue("editable"),draggable:!0},this);M.setPanelItem(z),H.appendChild(z),M.setup(),M.getValue("type")!==S.default.type.array&&M.getValue("type")!==S.default.type.map&&($("#rbro_menu_item_add"+M.getId()).hide(),$("#rbro_menu_item_children"+M.getId()).hide(),$("#rbro_menu_item_children_toggle"+M.getId()).hide()),this.addParameter(M);var N=M.getMaxId();N>=this.nextId&&(this.nextId=N+1)}}catch(d){V=!0,F=d}finally{try{!j&&A.return&&A.return()}finally{if(V)throw F}}var W=!0,J=!1,U=void 0;try{for(var Y,G=l.default(e.docElements);!(W=(Y=G.next()).done);W=!0){var X=Y.value,K=this.createDocElement(X,!1),q=K.getMaxId();q>=this.nextId&&(this.nextId=q+1)}}catch(d){J=!0,U=d}finally{try{!W&&G.return&&G.return()}finally{if(J)throw U}}this.browserDragType="",this.browserDragCategory="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var e=null;try{e=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(t){}null!==e&&this.load(e)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(e){this.previewInternal(e,!1)}},{key:"downloadSpreadsheet",value:function(){this.reportKey!==null&&window.open(this.properties.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx","_blank")}}]),e}();t.default=Ft},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(11),s=a(d),u=r(16),p=a(u),b=r(12),c=a(b),_=function(){function e(t,r,a,n,i,l){o.default(this,e),this.add=t,this.initialData=r,this.parentId=n,this.position=i,this.rb=l,this.id=a}return l.default(e,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new p.default(this.id,this.initialData,this.rb);this.rb.addParameter(t);var r=new c.default("parameter","",e.getPanelItem(),t,{hasChildren:!0,showAdd:!0,draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),t.setup(),this.rb.notifyEvent(t,s.default.operation.add)}}},{key:"deleteParameter",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.notifyEvent(e,s.default.operation.remove),this.rb.deleteParameter(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()))}}]),e}();t.default=_},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(11);a(d);var s=r(14),u=a(s),p=r(12),b=a(p),c=function(){function e(t,r,a,n,i,l){o.default(this,e),this.add=t,this.initialData=r,this.parentId=n,this.position=i,this.rb=l,this.id=a}return l.default(e,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new u.default(this.id,this.initialData,this.rb),r=new b.default("style","",e.getPanelItem(),t,{draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),this.rb.addStyle(t)}}},{key:"deleteStyle",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.deleteStyle(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()))}}]),e}();t.default=c},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(8),b=n(p),c=r(7),_=n(c),m=r(28),h=n(m),f=r(4),v=n(f),g=r(15);n(g);var y=r(2);a(y);var w=function(e){function t(e,r,a){return d.default(this,t),b.default(this,(t.__proto__||i.default(t)).call(this,e,r,a))}return _.default(t,e),u.default(t,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(e){return e!==v.default.type.pageBreak&&e!==v.default.type.frame&&e!==v.default.type.band}},{key:"getOffset",value:function(){var e=0,t=0;if(this.owner!==null&&(e=this.owner.getValue("xVal"),t=this.owner.getValue("yVal")),this.parent!==null){var r=this.parent.getOffset();e+=r.x,t+=r.y}return{x:e,y:t}}},{key:"getSize",value:function(){var e=0,t=0;if(this.owner!==null){e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal");var r=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(e-=r),this.owner.getValue("borderRight")&&(e-=r),this.owner.getValue("borderTop")&&(t-=r),this.owner.getValue("borderBottom")&&(t-=r)}return{width:e,height:t}}}]),t}(h.default);t.default=w},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=a(n),i=r(0),l=a(i),d=r(1),s=a(d),u=r(12),p=a(u),b=r(28),c=a(b),_=r(15);a(_);var m=function(){function e(t,r,a,n,o,i,d){l.default(this,e),this.rootElement=t,this.rb=d,this.headerItem=new p.default("band","bandHeader",null,r,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},d),this.documentItem=new p.default("band","bandContent",null,a,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},d),this.footerItem=new p.default("band","bandFooter",null,n,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},d),this.parametersItem=new p.default("parameter","parameters",null,o,{hasChildren:!0,showAdd:d.getProperty("adminMode"),showDelete:!1,hasDetails:!1},d),this.stylesItem=new p.default("style","styles",null,i,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},d),this.documentPropertiesItem=new p.default("documentProperties","documentProperties",null,d.getDocumentProperties(),{showDelete:!1,hasDetails:!0},d),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],r.setPanelItem(this.headerItem),a.setPanelItem(this.documentItem),n.setPanelItem(this.footerItem),o.setPanelItem(this.parametersItem),i.setPanelItem(this.stylesItem)}return s.default(e,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(e){for(;null!==e;){if(e.getData()instanceof c.default)return e.getData();e=e.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var e=$("#rbro_main_panel_list");this.appendChildren(e,this.items)}},{key:"appendChildren",value:function(e,t){var r=!0,a=!1,n=void 0;try{for(var i,l=o.default(t);!(r=(i=l.next()).done);r=!0){var d=i.value;
e.append(d.getElement());var s=d.getChildren();s.length>0&&($("#"+d.getId()+"_children"),this.appendChildren(e,s))}}catch(u){a=!0,n=u}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=o.default(this.items);!(e=(a=n.next()).done);e=!0){var i=a.value;i.clear()}}catch(l){t=!0,r=l}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}}]),e}();t.default=m},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=r(14),s=a(d),u=r(4),p=a(u),b=function(){function e(t,r){o.default(this,e),this.rootElement=t,this.rb=r}return l.default(e,[{key:"render",value:function(){var e=this,t=this.rb.getProperty("menuShowButtonLabels"),r=t?"":"rbroHidden",a=$("#rbro_menu_panel"),n=$('<div class="rbroToolButtonContainer"></div>');(this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey"))&&n.append($('<button id="rbro_menu_save" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuSaveTip")+'">\n                    <span class="rbroIcon-save"></span><span class="'+r+'">'+this.rb.getLabel("menuSave")+"</span></button>").click(function(){e.rb.save()})),n.append($('<button id="rbro_menu_undo" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuUndoTip")+'">\n                <span class="rbroIcon-undo"></span><span class="'+r+'">'+this.rb.getLabel("menuUndo")+"</span></button>").click(function(){e.rb.undoCommand()})),n.append($('<button id="rbro_menu_redo" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuRedoTip")+'">\n                <span class="rbroIcon-redo"></span><span class="'+r+'">'+this.rb.getLabel("menuRedo")+"</span></button>").click(function(){e.rb.redoCommand()})),n.append($('<button id="rbro_menu_preview" class="rbroButton rbroMenuButton" title="'+this.rb.getLabel("menuPreviewTip")+'">\n                <span class="rbroIcon-play"></span><span class="'+r+'">'+this.rb.getLabel("menuPreview")+"</span></button>").click(function(){e.rb.preview()})),a.append(n);var o=$('<div class="rbroElementButtonContainer"></div>'),i=$('<div class="rbroElementButtons"></div>');i.append($('<div id="rbro_menu_element_text" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementText")+'">\n                    <span class="rbroIcon-text"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.text,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_line" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementLine")+'">\n                    <span class="rbroIcon-line"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.line,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_image" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementImage")+'">\n                    <span class="rbroIcon-image"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.image,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_bar_code" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementBarCode")+'">\n                    <span class="rbroIcon-barcode"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.barCode,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_table" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementTable")+'">\n                    <span class="rbroIcon-table"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.table,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_frame" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementFrame")+'">\n                    <span class="rbroIcon-frame"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.frame,""),t.stopPropagation()})),i.append($('<div id="rbro_menu_element_page_break" class="rbroButton rbroMenuButton" draggable="true"\n                title="'+this.rb.getLabel("docElementPageBreak")+'">\n                    <span class="rbroIcon-page-break"></span>\n                </div>').on("dragstart",function(t){t.originalEvent.dataTransfer.setData("text/plain",""),t.originalEvent.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",null,p.default.type.pageBreak,""),t.stopPropagation()})),o.append(i);var l=$('<div class="rbroActionButtons"></div>'),d=$('<div id="rbro_menu_align" style="display: none;"></div>'),u=$('<button id="rbro_menu_align_left"\n                class="rbroButton rbroActionButton rbroIcon-align-left" type="button"\n                title="'+this.rb.getLabel("menuAlignLeft")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.left)});d.append(u);var b=$('<button id="rbro_menu_align_center"\n                class="rbroButton rbroActionButton rbroIcon-align-center" type="button"\n                title="'+this.rb.getLabel("menuAlignCenter")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.center)});d.append(b);var c=$('<button id="rbro_menu_align_right"\n                class="rbroButton rbroActionButton rbroIcon-align-right" type="button"\n                title="'+this.rb.getLabel("menuAlignRight")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.right)});d.append(c),l.append(d);var _=$('<div id="rbro_menu_valign" style="display: none;"></div>'),m=$('<button id="rbro_menu_align_top"\n                class="rbroButton rbroActionButton rbroIcon-align-top" type="button"\n                title="'+this.rb.getLabel("menuAlignTop")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.top)});_.append(m);var h=$('<button id="rbro_menu_align_middle"\n                class="rbroButton rbroActionButton rbroIcon-align-middle" type="button"\n                title="'+this.rb.getLabel("menuAlignMiddle")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.middle)});_.append(h);var f=$('<button id="rbro_menu_align_bottom"\n                class="rbroButton rbroActionButton rbroIcon-align-bottom" type="button"\n                title="'+this.rb.getLabel("menuAlignBottom")+'"></button>').click(function(){e.rb.alignSelections(s.default.alignment.bottom)});_.append(f),l.append(_);var v=$('<button id="rbro_menu_toggle_grid"\n                class="rbroButton rbroGridButton rbroActionButton rbroIcon-grid '+(this.rb.getProperty("showGrid")?"rbroButtonActive":"")+'" type="button"\n                title="'+this.rb.getLabel("menuToggleGrid")+'"></button>').click(function(){v.toggleClass("rbroButtonActive"),e.rb.getDocument().toggleGrid()});l.append(v),o.append(l),a.append(o)}}]),e}();t.default=b},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(3),b=n(p),c=r(16),_=n(c),m=r(10),h=n(m),f=r(2),v=a(f),g=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_band_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow" id="rbro_band_element_data_source_row"></div>');r.append('<label for="rbro_band_element_data_source">'+this.rb.getLabel("docElementDataSource")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<textarea id="rbro_band_element_data_source" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_band_element_data_source","dataSource",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}}).focus(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t,[_.default.type.array]),e.selectedObjId,"rbro_band_element_data_source","dataSource",h.default.type.parameterSet)}).blur(function(){e.rb.getPopupWindow().hide()}).mouseup(function(e){e.preventDefault(),e.stopPropagation()});autosize(n),a.append(n),a.append('<div id="rbro_band_element_data_source_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_band_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_band_element_position_y">'+this.rb.getLabel("docElementPositionY")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<input id="rbro_band_element_position_y">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_band_element_position_y","y",o.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});v.setInputDecimal(o),a.append(o),r.append(a),t.append(r),r=$('<div id="rbro_band_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_band_element_width">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<input id="rbro_band_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==i.val()){var r=new b.default(e.selectedObjId,"rbro_band_element_height","height",i.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});v.setInputDecimal(i),a.append(i),a.append('<div id="rbro_band_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var l=$('<div class="rbroPanelSectionHeader"></div>'),d=$('<span id="rbro_band_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_band_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_band_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_band_element_print_section").toggleClass("rbroHidden"),d.toggleClass("rbroIcon-plus"),d.toggleClass("rbroIcon-minus"),d.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(l.position().top),autosize.update($("#rbro_band_element_print_if"))}),l.append(d),l.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(l),t.append(r);var s=$('<div id="rbro_band_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_band_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_band_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var u=$('<textarea id="rbro_band_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_band_element_print_if","printIf",u.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(u),a.append(u);var p=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_band_element_print_if","parameter",h.default.type.parameterAppend)});a.append(p),a.append('<div id="rbro_band_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),s.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_band_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<input id="rbro_band_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_band_element_remove_empty_element","removeEmptyElement",c.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(c),r.append(a),s.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_band_element_shrink_to_content_height">'+this.rb.getLabel("frameElementShrinkToContentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var m=$('<input id="rbro_band_element_shrink_to_content_height" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_band_element_shrink_to_content_height","shrinkToContentHeight",m.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(m),r.append(a),s.append(r),t.append(s),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_band_element_print_if"))}},{key:"show",value:function(e){$("#rbro_band_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_band_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_band_element_data_source").prop("disabled",!1),$("#rbro_band_element_label").prop("disabled",!1),$("#rbro_band_element_position_y").prop("disabled",!1),$("#rbro_band_element_height").prop("disabled",!1),$("#rbro_band_element_print_if").prop("disabled",!1),$("#rbro_band_element_remove_empty_element").prop("disabled",!1),$("#rbro_band_element_shrink_to_content_height").prop("disabled",!1),$("#rbro_band_element_data_source").val(e.getValue("dataSource")),$("#rbro_band_element_label").val(e.getValue("label")),$("#rbro_band_element_position_y").val(e.getValue("y")),$("#rbro_band_element_height").val(e.getValue("height")),$("#rbro_band_element_print_if").val(e.getValue("printIf")),$("#rbro_band_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_band_element_shrink_to_content_height").prop("checked",e.getValue("shrinkToContentHeight")),this.selectedObjId=e.getId()):($("#rbro_band_element_data_source").prop("disabled",!0),$("#rbro_band_element_label").prop("disabled",!0),$("#rbro_band_element_position_y").prop("disabled",!0),$("#rbro_band_element_height").prop("disabled",!0),$("#rbro_band_element_print_if").prop("disabled",!0),$("#rbro_band_element_remove_empty_element").prop("disabled",!0),$("#rbro_band_element_shrink_to_content_height").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_band_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_band_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_band_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_band_element_"+l.field+"_row",s="rbro_band_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"&&($("#rbro_band_element_print_header").addClass("rbroError"),$("#rbro_band_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_band_element_print_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=g},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(31);n(p);var b=r(20);n(b);var c=r(3),_=n(c),m=r(4);n(m);var h=r(10),f=n(h),v=r(2),g=a(v),y=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_bar_code_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_bar_code_element_content_row" class="rbroFormRow"></div>');r.append('<label for="rbro_bar_code_element_content">'+this.rb.getLabel("barCodeElementContent")+":</label>");var a=$('<div class="rbroFormField rbroSplit"></div>'),n=$('<textarea id="rbro_bar_code_element_content" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_content","content",n.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_bar_code_element_content","parameter",f.default.type.parameterAppend)});a.append(o),a.append('<div id="rbro_bar_code_element_content_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_format_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_format">'+this.rb.getLabel("barCodeElementFormat")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<select id="rbro_bar_code_element_format" disabled="disabled">\n                <option value="CODE128">CODE128</option>\n            </select>').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_format","format",i.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)}});a.append(i),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_display_value_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_display_value">'+this.rb.getLabel("barCodeElementDisplayValue")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<input id="rbro_bar_code_element_display_value" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_display_value","displayValue",l.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(l),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_position">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var d=$('<input id="rbro_bar_code_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==d.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_position_x","x",d.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputDecimal(d),a.append(d);var s=$('<input id="rbro_bar_code_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==s.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_position_y","y",s.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputDecimal(s),a.append(s),a.append('<div id="rbro_bar_code_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_bar_code_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_size">'+this.rb.getLabel("docElementHeight")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var u=$('<input id="rbro_bar_code_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==u.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_height","height",u.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputDecimal(u),a.append(u),a.append('<div id="rbro_bar_code_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var p=$('<div class="rbroPanelSectionHeader"></div>'),b=$('<span id="rbro_bar_code_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_bar_code_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_bar_code_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_bar_code_element_print_section").toggleClass("rbroHidden"),b.toggleClass("rbroIcon-plus"),b.toggleClass("rbroIcon-minus"),b.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(p.position().top),autosize.update($("#rbro_bar_code_element_print_if"))}),p.append(b),p.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(p),t.append(r);var c=$('<div id="rbro_bar_code_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_bar_code_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var m=$('<textarea id="rbro_bar_code_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_print_if","printIf",m.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(m),a.append(m),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_bar_code_element_print_if","parameter",f.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_bar_code_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),c.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var h=$('<input id="rbro_bar_code_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_remove_empty_element","removeEmptyElement",h.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});if(a.append(h),r.append(a),c.append(r),t.append(c),this.rb.getProperty("enableSpreadsheet")){var v=$('<div class="rbroPanelSectionHeader"></div>'),y=$('<span id="rbro_bar_code_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_bar_code_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_bar_code_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_bar_code_element_spreadsheet_section").toggleClass("rbroHidden"),y.toggleClass("rbroIcon-plus"),y.toggleClass("rbroIcon-minus"),y.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+v.position().top))}),v.append(y),v.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(v),t.append(r);var w=$('<div id="rbro_bar_code_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_bar_code_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var I=$('<input id="rbro_bar_code_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_hide","spreadsheet_hide",I.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(I),r.append(a),w.append(r),r=$('<div id="rbro_bar_code_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var x=$('<input id="rbro_bar_code_element_spreadsheet_column">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_column")!==x.val()){var r=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_column","spreadsheet_column",x.val(),_.default.type.text,e.rb);e.rb.executeCommand(r)}});g.setInputPositiveInteger(x),a.append(x),a.append('<div id="rbro_bar_code_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),w.append(r),r=$('<div id="rbro_bar_code_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_bar_code_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var C=$('<input id="rbro_bar_code_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_bar_code_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",C.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(C),r.append(a),w.append(r),t.append(w)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_bar_code_element_content")),autosize.update($("#rbro_bar_code_element_print_if"))}},{key:"show",value:function(e){this.updateData(e),$("#rbro_bar_code_element_panel").removeClass("rbroHidden"),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_bar_code_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_bar_code_element_content").prop("disabled",!1),$("#rbro_bar_code_element_display_value").prop("disabled",!1),$("#rbro_bar_code_element_position_x").prop("disabled",!1),$("#rbro_bar_code_element_position_y").prop("disabled",!1),$("#rbro_bar_code_element_width").prop("disabled",!1),$("#rbro_bar_code_element_height").prop("disabled",!1),$("#rbro_bar_code_element_print_if").prop("disabled",!1),$("#rbro_bar_code_element_remove_empty_element").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_column").prop("disabled",!1),$("#rbro_bar_code_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_bar_code_element_content").val(e.getValue("content")),$("#rbro_bar_code_element_format").val(e.getValue("format")),$("#rbro_bar_code_element_display_value").prop("checked",e.getValue("displayValue")),$("#rbro_bar_code_element_position_x").val(e.getValue("x")),$("#rbro_bar_code_element_position_y").val(e.getValue("y")),$("#rbro_bar_code_element_width").val(e.getValue("width")),$("#rbro_bar_code_element_height").val(e.getValue("height")),$("#rbro_bar_code_element_print_if").val(e.getValue("printIf")),$("#rbro_bar_code_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_bar_code_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_bar_code_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_bar_code_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_bar_code_element_content").prop("disabled",!0),$("#rbro_bar_code_element_display_value").prop("disabled",!0),$("#rbro_bar_code_element_position_x").prop("disabled",!0),$("#rbro_bar_code_element_position_y").prop("disabled",!0),$("#rbro_bar_code_element_width").prop("disabled",!0),$("#rbro_bar_code_element_height").prop("disabled",!0),$("#rbro_bar_code_element_print_if").prop("disabled",!0),$("#rbro_bar_code_element_remove_empty_element").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_column").prop("disabled",!0),$("#rbro_bar_code_element_spreadsheet_add_empty_row").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_bar_code_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_bar_code_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_bar_code_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_bar_code_element_"+l.field+"_row",s="rbro_bar_code_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"?($("#rbro_bar_code_element_print_header").addClass("rbroError"),$("#rbro_bar_code_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_bar_code_element_print_header").trigger("click")):l.field==="spreadsheet_column"&&($("#rbro_bar_code_element_spreadsheet_header").addClass("rbroError"),$("#rbro_bar_code_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_bar_code_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=y},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(11),b=n(p),c=r(3),_=n(c),m=r(37),h=n(m),f=r(2),v=a(f),g=function(){function e(t,r,a){d.default(this,e),this.documentProperties=t,this.rootElement=r,this.rb=a}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_document_properties_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_document_properties_page_row" class="rbroFormRow"></div>');r.append('<label for="rbro_document_properties_page_format">'+this.rb.getLabel("pageFormat")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<select id="rbro_document_properties_page_format">\n                <option value="A4">'+this.rb.getLabel("pageFormatA4")+'</option>\n                <option value="A5">'+this.rb.getLabel("pageFormatA5")+'</option>\n                <option value="letter">'+this.rb.getLabel("pageFormatLetter")+'</option>\n                <option value="user_defined">'+this.rb.getLabel("pageFormatUserDefined")+"</option>\n            </select>").change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_page_format","pageFormat",n.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});a.append(n);
var o=$('<div id="rbro_document_properties_page_size_row" class="rbroTripleSplit"></div>'),i=$('<input id="rbro_document_properties_page_width" maxlength="5">').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_page_width","pageWidth",i.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});v.setInputPositiveInteger(i),o.append(i);var l=$('<input id="rbro_document_properties_page_height" maxlength="5">').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_page_height","pageHeight",l.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)});v.setInputPositiveInteger(l),o.append(l);var d=$('<select id="rbro_document_properties_unit">\n            <option value="mm">mm</option>\n            <option value="inch">inch</option>\n        </select>').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_unit","unit",d.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});o.append(d),a.append(o),a.append('<div id="rbro_document_properties_page_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),this.documentProperties.getValue("pageFormat")!==h.default.pageFormat.userDefined&&o.hide(),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_orientation">'+this.rb.getLabel("orientation")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<select id="rbro_document_properties_orientation">\n                <option value="portrait">'+this.rb.getLabel("orientationPortrait")+'</option>\n                <option value="landscape">'+this.rb.getLabel("orientationLandscape")+"</option>\n            </select>").change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_orientation","orientation",s.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_content_height">'+this.rb.getLabel("contentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_document_properties_content_height">').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_content_height","contentHeight",u.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)});v.setInputPositiveInteger(u),a.append(u),a.append('<div class="rbroInfo">'+this.rb.getLabel("contentHeightInfo")+"</div>"),r.append(a),t.append(r),this.renderMarginControls(t),this.renderHeaderFooter(t),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_pattern_locale">'+this.rb.getLabel("patternLocale")+":</label>"),a=$('<div class="rbroFormField"></div>');var p=$('<select id="rbro_document_properties_pattern_locale">\n                <option value="de">de</option>\n                <option value="en">en</option>\n                <option value="es">es</option>\n                <option value="fr">fr</option>\n                <option value="it">it</option>\n            </select>').change(function(){var t=new _.default(e.documentProperties.getId(),"rbro_document_properties_pattern_locale","patternLocale",p.val(),_.default.type.select,e.rb);e.rb.executeCommand(t)});a.append(p),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_document_properties_pattern_currency_symbol">'+this.rb.getLabel("patternCurrencySymbol")+":</label>"),a=$('<div class="rbroFormField"></div>');var b=$('<input id="rbro_document_properties_pattern_currency_symbol">').change(function(){var t=new _.default(e.rb.getDetailData().getId(),"rbro_document_properties_pattern_currency_symbol","patternCurrencySymbol",b.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)});a.append(b),r.append(a),t.append(r),$("#rbro_detail_panel").append(t),this.updateData(this.documentProperties)}},{key:"renderMarginControls",value:function(e){var t=this,r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_document_properties_page_margin_top">'+this.rb.getLabel("pageMargins")+":</label>");var a=$('<div class="rbroFormField rbroSmallInput"></div>'),n=$('<div class="rbroColumnCenter"></div>'),o=$('<input id="rbro_document_properties_page_margin_top" placeholder="'+this.rb.getLabel("orientationTop")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_top","marginTop",o.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(o),n.append(o),a.append(n);var i=$('<div class="rbroSplit"></div>'),l=$('<input id="rbro_document_properties_page_margin_left" placeholder="'+this.rb.getLabel("orientationLeft")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_left","marginLeft",l.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(l),i.append(l);var d=$('<input id="rbro_document_properties_page_margin_right" placeholder="'+this.rb.getLabel("orientationRight")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_right","marginRight",d.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(d),i.append(d),a.append(i);var s=$('<div class="rbroColumnCenter"></div>'),u=$('<input id="rbro_document_properties_page_margin_bottom" placeholder="'+this.rb.getLabel("orientationBottom")+'">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_page_margin_bottom","marginBottom",u.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(u),s.append(u),a.append(s),r.append(a),e.append(r)}},{key:"renderHeaderFooter",value:function(e){var t=this,r=$('<div class="rbroFormRowContainer"></div>'),a=$('<div class="rbroFormRow"></div>');a.append('<label for="rbro_document_properties_header">'+this.rb.getLabel("header")+":</label>");var n=$('<div class="rbroFormField"></div>'),o=$('<label class="switch-light switch-material"></label>'),i=$('<input id="rbro_document_properties_header" type="checkbox">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_header","header",i.is(":checked"),_.default.type.checkbox,t.rb);t.rb.executeCommand(e)});o.append(i);var l=$("<span></span>");l.append($("<span></span>")),l.append($("<span></span>")),l.append($("<a></a>")),o.append(l),n.append(o),a.append(n),r.append(a);var d=$('<div id="rbro_document_properties_header_settings"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_header_size">'+this.rb.getLabel("headerSize")+":</label>"),n=$('<div class="rbroFormField"></div>');var s=$('<input id="rbro_document_properties_header_size">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_header_size","headerSize",s.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(s),n.append(s),a.append(n),d.append(a),a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_header_display">'+this.rb.getLabel("headerDisplay")+":</label>"),n=$('<div class="rbroFormField"></div>');var u=$('<select id="rbro_document_properties_header_display">\n                <option value="always">'+this.rb.getLabel("headerFooterDisplayAlways")+'</option>\n                <option value="not_on_first_page">'+this.rb.getLabel("headerFooterDisplayNotOnFirstPage")+"</option>\n            </select>").change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_header_display","headerDisplay",u.val(),_.default.type.select,t.rb);t.rb.executeCommand(e)});n.append(u),a.append(n),d.append(a),r.append(d),e.append(r);var p=$('<div class="rbroFormRowContainer"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer">'+this.rb.getLabel("footer")+":</label>"),n=$('<div class="rbroFormField"></div>');var b=$('<label class="switch-light switch-material"></label>'),c=$('<input id="rbro_document_properties_footer" type="checkbox">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_footer","footer",c.is(":checked"),_.default.type.checkbox,t.rb);t.rb.executeCommand(e)});b.append(c);var m=$("<span></span>");m.append($("<span></span>")),m.append($("<span></span>")),m.append($("<a></a>")),b.append(m),n.append(b),a.append(n),p.append(a);var h=$('<div id="rbro_document_properties_footer_settings"></div>');a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer_size">'+this.rb.getLabel("footerSize")+":</label>"),n=$('<div class="rbroFormField"></div>');var f=$('<input id="rbro_document_properties_footer_size">').change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_footer_size","footerSize",f.val(),_.default.type.text,t.rb);t.rb.executeCommand(e)});v.setInputPositiveInteger(f),n.append(f),a.append(n),h.append(a),a=$('<div class="rbroFormRow"></div>'),a.append('<label for="rbro_document_properties_footer_display">'+this.rb.getLabel("footerDisplay")+":</label>"),n=$('<div class="rbroFormField"></div>');var g=$('<select id="rbro_document_properties_footer_display">\n                <option value="always">'+this.rb.getLabel("headerFooterDisplayAlways")+'</option>\n                <option value="not_on_first_page">'+this.rb.getLabel("headerFooterDisplayNotOnFirstPage")+"</option>\n            </select>").change(function(){var e=new _.default(t.documentProperties.getId(),"rbro_document_properties_footer_display","footerDisplay",g.val(),_.default.type.select,t.rb);t.rb.executeCommand(e)});n.append(g),a.append(n),h.append(a),p.append(h),e.append(p)}},{key:"show",value:function(e){$("#rbro_document_properties_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_document_properties_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e&&($("#rbro_document_properties_page_format").val(e.getValue("pageFormat")),$("#rbro_document_properties_page_width").val(e.getValue("pageWidth")),$("#rbro_document_properties_page_height").val(e.getValue("pageHeight")),$("#rbro_document_properties_unit").val(e.getValue("unit")),$("#rbro_document_properties_orientation").val(e.getValue("orientation")),$("#rbro_document_properties_content_height").val(e.getValue("contentHeight")),$("#rbro_document_properties_page_margin_top").val(e.getValue("marginTop")),$("#rbro_document_properties_page_margin_left").val(e.getValue("marginLeft")),$("#rbro_document_properties_page_margin_right").val(e.getValue("marginRight")),$("#rbro_document_properties_page_margin_bottom").val(e.getValue("marginBottom")),$("#rbro_document_properties_header").prop("checked",e.getValue("header")),$("#rbro_document_properties_header_size").val(e.getValue("headerSize")),$("#rbro_document_properties_header_display").val(e.getValue("headerDisplay")),$("#rbro_document_properties_footer").prop("checked",e.getValue("footer")),$("#rbro_document_properties_footer_size").val(e.getValue("footerSize")),$("#rbro_document_properties_footer_display").val(e.getValue("footerDisplay")),$("#rbro_document_properties_pattern_locale").val(e.getValue("patternLocale")),$("#rbro_document_properties_pattern_currency_symbol").val(e.getValue("patternCurrencySymbol")),this.updateVisibility(e)),this.updateErrors()}},{key:"notifyEvent",value:function(e,t){e instanceof h.default&&e===this.rb.getDetailData()&&t===b.default.operation.change&&this.updateVisibility(e)}},{key:"updateVisibility",value:function(e){e.getValue("pageFormat")===h.default.pageFormat.userDefined?$("#rbro_document_properties_page_size_row").show():$("#rbro_document_properties_page_size_row").hide(),e.getValue("header")?$("#rbro_document_properties_header_settings").show():$("#rbro_document_properties_header_settings").hide(),e.getValue("footer")?$("#rbro_document_properties_footer_settings").show():$("#rbro_document_properties_footer_settings").hide()}},{key:"updateErrors",value:function(){$("#rbro_document_properties_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_document_properties_panel .rbroErrorMessage").text("");var e=!0,t=!1,r=void 0;try{for(var a,n=i.default(this.documentProperties.getErrors());!(e=(a=n.next()).done);e=!0){var o=a.value,l="rbro_document_properties_"+o.field+"_row",d="rbro_document_properties_"+o.field+"_error",s=this.rb.getLabel(o.msg_key);o.info&&(s=s.replace("${info}",'<span class="rbroErrorMessageInfo">'+o.info+"</span>")),$("#"+l).addClass("rbroError"),$("#"+d).html(s)}}catch(u){t=!0,r=u}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}}]),e}();t.default=g},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(n),i=r(1),l=a(i),d=function(){function e(t,r){o.default(this,e),this.rootElement=t,this.rb=r}return l.default(e,[{key:"render",value:function(){$("#rbro_detail_panel"),$("#rbro_detail_panel").append('<div id="rbro_empty_detail_panel" class="rbroEmptyDetailPanel rbroHidden">\n                <div class="rbroLogo"></div>\n            </div>')}},{key:"show",value:function(){$("#rbro_empty_detail_panel").removeClass("rbroHidden")}},{key:"hide",value:function(){$("#rbro_empty_detail_panel").addClass("rbroHidden")}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){}}]),e}();t.default=d},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(3),b=n(p),c=r(10),_=n(c),m=r(2),h=a(m),f=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_frame_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_frame_element_label">'+this.rb.getLabel("docElementLabel")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_frame_element_label">').on("input",function(){if(e.rb.getDataObject(e.getSelectedObjId())!==null){var t=new b.default(e.getSelectedObjId(),"rbro_frame_element_label","label",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(n),r.append(a),t.append(r),r=$('<div id="rbro_frame_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_position_x">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var o=$('<input id="rbro_frame_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==o.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_position_x","x",o.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(o),a.append(o);var i=$('<input id="rbro_frame_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==i.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_position_y","y",i.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(i),a.append(i),a.append('<div id="rbro_frame_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_frame_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_width">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var l=$('<input id="rbro_frame_element_width">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("width")!==l.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_width","width",l.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(l),a.append(l);var d=$('<input id="rbro_frame_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==d.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_height","height",d.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(d),a.append(d),a.append('<div id="rbro_frame_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_background_color">'+this.rb.getLabel("styleBackgroundColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<div class="rbroColorPickerContainer"></div>'),u=$('<input id="rbro_frame_element_background_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_background_color","backgroundColor",u.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});s.append(u),a.append(s),r.append(a),t.append(r),h.initColorPicker(u,this.rb,{allowEmpty:!0});var p=$('<div id="rbro_frame_element_border_div"></div>');r=$('<div class="rbroFormRow"></div>'),r.append("<label>"+this.rb.getLabel("styleBorder")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<div id="rbro_frame_element_border"></div>'),m=$('<button id="rbro_frame_element_border_all"\n                class="rbroButton rbroActionButton rbroIcon-border-all"\n                type="button" value="borderAll"\n                title="'+this.rb.getLabel("styleBorderAll")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_all","borderAll",!m.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(m);var f=$('<button id="rbro_frame_element_border_left"\n                class="rbroButton rbroActionButton rbroIcon-border-left"\n                type="button" value="borderLeft"\n                title="'+this.rb.getLabel("orientationLeft")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_left","borderLeft",!f.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(f);var v=$('<button id="rbro_frame_element_border_top"\n                class="rbroButton rbroActionButton rbroIcon-border-top"\n                type="button" value="borderTop"\n                title="'+this.rb.getLabel("orientationTop")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_top","borderTop",!v.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(v);var g=$('<button id="rbro_frame_element_border_right"\n                class="rbroButton rbroActionButton rbroIcon-border-right"\n                type="button" value="borderRight"\n                title="'+this.rb.getLabel("orientationRight")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_right","borderRight",!g.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(g);var y=$('<button id="rbro_frame_element_border_bottom"\n                class="rbroButton rbroActionButton rbroIcon-border-bottom"\n                type="button" value="borderBottom"\n                title="'+this.rb.getLabel("orientationBottom")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_bottom","borderBottom",!y.hasClass("rbroButtonActive"),b.default.type.button,e.rb);e.rb.executeCommand(t)}});c.append(y),a.append(c),r.append(a),p.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_border_color">'+this.rb.getLabel("styleBorderColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var w=$('<div class="rbroColorPickerContainer"></div>'),I=$('<input id="rbro_frame_element_border_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_border_color","borderColor",I.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});w.append(I),a.append(w),r.append(a),p.append(r),h.initColorPicker(I,this.rb),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_border_width">'+this.rb.getLabel("styleBorderWidth")+":</label>"),a=$('<div class="rbroFormField"></div>');var x=$('<input id="rbro_frame_element_border_width">').on("input",function(){if(e.rb.getDataObject(e.getSelectedObjId())!==null)if(x.val().trim()!==""){var t=new b.default(e.getSelectedObjId(),"rbro_frame_element_border_width","borderWidth",x.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}else x.val(e.rb.getDetailData().getValue("borderWidth"))});a.append(x),r.append(a),p.append(r),h.setInputPositiveInteger(x),t.append(p);var C=$('<div class="rbroPanelSectionHeader"></div>'),k=$('<span id="rbro_frame_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_frame_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_frame_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_frame_element_print_section").toggleClass("rbroHidden"),k.toggleClass("rbroIcon-plus"),k.toggleClass("rbroIcon-minus"),k.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(C.position().top),autosize.update($("#rbro_frame_element_print_if"))}),C.append(k),C.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(C),t.append(r);var D=$('<div id="rbro_frame_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_frame_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var O=$('<textarea id="rbro_frame_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_print_if","printIf",O.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(O),a.append(O);var P=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_frame_element_print_if","parameter",_.default.type.parameterAppend)});a.append(P),a.append('<div id="rbro_frame_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),D.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var E=$('<input id="rbro_frame_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_remove_empty_element","removeEmptyElement",E.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(E),r.append(a),D.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_shrink_to_content_height">'+this.rb.getLabel("frameElementShrinkToContentHeight")+":</label>"),a=$('<div class="rbroFormField"></div>');var j=$('<input id="rbro_frame_element_shrink_to_content_height" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_shrink_to_content_height","shrinkToContentHeight",j.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});if(a.append(j),r.append(a),D.append(r),t.append(D),this.rb.getProperty("enableSpreadsheet")){var S=$('<div class="rbroPanelSectionHeader"></div>'),V=$('<span id="rbro_frame_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_frame_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_frame_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_frame_element_spreadsheet_section").toggleClass("rbroHidden"),V.toggleClass("rbroIcon-plus"),V.toggleClass("rbroIcon-minus"),V.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+S.position().top))}),S.append(V),S.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(S),t.append(r);var T=$('<div id="rbro_frame_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_frame_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var F=$('<input id="rbro_frame_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_spreadsheet_hide","spreadsheet_hide",F.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(F),r.append(a),T.append(r),r=$('<div id="rbro_frame_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var B=$('<input id="rbro_frame_element_spreadsheet_column">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_column")!==B.val()){var r=new b.default(e.selectedObjId,"rbro_frame_element_spreadsheet_column","spreadsheet_column",B.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputPositiveInteger(B),a.append(B),a.append('<div id="rbro_frame_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),T.append(r),r=$('<div id="rbro_frame_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_frame_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var A=$('<input id="rbro_frame_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_frame_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",A.is(":checked"),b.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(A),r.append(a),T.append(r),t.append(T)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_frame_element_print_if"))}},{key:"show",value:function(e){$("#rbro_frame_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_frame_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_frame_element_label").prop("disabled",!1),$("#rbro_frame_element_position_x").prop("disabled",!1),$("#rbro_frame_element_position_y").prop("disabled",!1),$("#rbro_frame_element_width").prop("disabled",!1),$("#rbro_frame_element_height").prop("disabled",!1),$("#rbro_frame_element_background_color").spectrum("enable"),$("#rbro_frame_element_border_all").prop("disabled",!1),$("#rbro_frame_element_border_left").prop("disabled",!1),$("#rbro_frame_element_border_top").prop("disabled",!1),$("#rbro_frame_element_border_right").prop("disabled",!1),$("#rbro_frame_element_border_bottom").prop("disabled",!1),$("#rbro_frame_element_border_color").spectrum("enable"),$("#rbro_frame_element_border_width").prop("disabled",!1),$("#rbro_frame_element_print_if").prop("disabled",!1),$("#rbro_frame_element_remove_empty_element").prop("disabled",!1),$("#rbro_frame_element_shrink_to_content_height").prop("disabled",!1),$("#rbro_frame_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_frame_element_spreadsheet_column").prop("disabled",!1),$("#rbro_frame_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_frame_element_label").val(e.getValue("label")),$("#rbro_frame_element_position_x").val(e.getValue("x")),$("#rbro_frame_element_position_y").val(e.getValue("y")),$("#rbro_frame_element_width").val(e.getValue("width")),$("#rbro_frame_element_height").val(e.getValue("height")),$("#rbro_frame_element_background_color").spectrum("set",e.getValue("backgroundColor")),e.getValue("borderAll")?$("#rbro_frame_element_border_all").addClass("rbroButtonActive"):$("#rbro_frame_element_border_all").removeClass("rbroButtonActive"),e.getValue("borderLeft")?$("#rbro_frame_element_border_left").addClass("rbroButtonActive"):$("#rbro_frame_element_border_left").removeClass("rbroButtonActive"),e.getValue("borderTop")?$("#rbro_frame_element_border_top").addClass("rbroButtonActive"):$("#rbro_frame_element_border_top").removeClass("rbroButtonActive"),e.getValue("borderRight")?$("#rbro_frame_element_border_right").addClass("rbroButtonActive"):$("#rbro_frame_element_border_right").removeClass("rbroButtonActive"),e.getValue("borderBottom")?$("#rbro_frame_element_border_bottom").addClass("rbroButtonActive"):$("#rbro_frame_element_border_bottom").removeClass("rbroButtonActive"),$("#rbro_frame_element_border_color").spectrum("set",e.getValue("borderColor")),$("#rbro_frame_element_border_width").val(e.getValue("borderWidth")),$("#rbro_frame_element_print_if").val(e.getValue("printIf")),$("#rbro_frame_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_frame_element_shrink_to_content_height").prop("checked",e.getValue("shrinkToContentHeight")),$("#rbro_frame_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_frame_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_frame_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_frame_element_label").prop("disabled",!0),$("#rbro_frame_element_position_x").prop("disabled",!0),$("#rbro_frame_element_position_y").prop("disabled",!0),$("#rbro_frame_element_width").prop("disabled",!0),$("#rbro_frame_element_height").prop("disabled",!0),$("#rbro_frame_element_background_color").spectrum("disable"),$("#rbro_frame_element_border_all").prop("disabled",!0),$("#rbro_frame_element_border_left").prop("disabled",!0),$("#rbro_frame_element_border_top").prop("disabled",!0),$("#rbro_frame_element_border_right").prop("disabled",!0),$("#rbro_frame_element_border_bottom").prop("disabled",!0),$("#rbro_frame_element_border_color").spectrum("disable"),$("#rbro_frame_element_border_width").prop("disabled",!0),$("#rbro_frame_element_print_if").prop("disabled",!0),$("#rbro_frame_element_remove_empty_element").prop("disabled",!0),$("#rbro_frame_element_shrink_to_content_height").prop("disabled",!0),$("#rbro_frame_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_frame_element_spreadsheet_column").prop("disabled",!0),$("#rbro_frame_element_spreadsheet_add_empty_row").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_frame_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_frame_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_frame_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_frame_element_"+l.field+"_row",s="rbro_frame_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);
l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"?($("#rbro_frame_element_print_header").addClass("rbroError"),$("#rbro_frame_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_frame_element_print_header").trigger("click")):l.field==="spreadsheet_column"&&($("#rbro_frame_element_spreadsheet_header").addClass("rbroError"),$("#rbro_frame_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_frame_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=f},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(31),b=n(p),c=r(20),_=n(c),m=r(3),h=n(m),f=r(16),v=n(f),g=r(4),y=n(g),w=r(10),I=n(w),x=r(2),C=a(x),k=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_image_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_image_element_source_row" class="rbroFormRow"></div>');r.append('<label for="rbro_image_element_source">'+this.rb.getLabel("imageElementSource")+":</label>");var a=$('<div class="rbroFormField rbroSplit"></div>'),n=$('<textarea id="rbro_image_element_source" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_image_element_source","source",n.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t,[v.default.type.image,v.default.type.string]),e.selectedObjId,"rbro_image_element_source","parameter",I.default.type.parameterSet)});a.append(o),a.append('<div id="rbro_image_element_source_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_image_element_image_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_image">'+this.rb.getLabel("imageElementImage")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<input id="rbro_image_element_image" type="file">').change(function(t){if(e.rb.getDataObject(e.selectedObjId)!==null){var r=t.target.files;if(r&&r[0]){var a=new FileReader,n=e.rb,o=r[0].name,i=e.selectedObjId;a.onload=function(e){var t=new _.default("Load image",this.rb),r=new h.default(i,"rbro_image_element_image","image",e.target.result,h.default.type.file,n);t.addCommand(r),r=new h.default(i,"rbro_image_element_image_filename","imageFilename",o,h.default.type.filename,n),t.addCommand(r),n.executeCommand(t)},a.onerror=function(){alert(this.rb.getLabel("imageElementLoadErrorMsg"))},a.readAsDataURL(r[0])}}});a.append(i);var l=$('<div class="rbroSplit rbroHidden" id="rbro_image_element_image_filename_container"></div>');l.append($('<div id="rbro_image_element_image_filename"></div>')),l.append($('<div id="rbro_image_element_image_filename_clear" class="rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"></div>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){i.val("");var t=new _.default("Clear image",e.rb),r=new h.default(e.selectedObjId,"rbro_image_element_image","image","",h.default.type.file,e.rb);t.addCommand(r),r=new h.default(e.selectedObjId,"rbro_image_element_image_filename","imageFilename","",h.default.type.filename,e.rb),t.addCommand(r),e.rb.executeCommand(t)}})),a.append(l),a.append('<div id="rbro_image_element_image_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_image_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_position">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var d=$('<input id="rbro_image_element_position_x">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=C.checkInputDecimal(d.val(),0,1e3);t!==d.val()&&d.val(t);var r=new h.default(e.selectedObjId,"rbro_image_element_position_x","x",t,h.default.type.text,e.rb);e.rb.executeCommand(r)}});C.setInputDecimal(d),a.append(d);var s=$('<input id="rbro_image_element_position_y">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=C.checkInputDecimal(s.val(),0,1e3);t!==s.val()&&s.val(t);var r=new h.default(e.selectedObjId,"rbro_image_element_position_y","y",t,h.default.type.text,e.rb);e.rb.executeCommand(r)}});C.setInputDecimal(s),a.append(s),a.append('<div id="rbro_image_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_image_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_size">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var u=$('<input id="rbro_image_element_width">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=C.checkInputDecimal(u.val(),10,1e3);t!==u.val()&&u.val(t);var r=new h.default(e.selectedObjId,"rbro_image_element_width","width",t,h.default.type.text,e.rb);e.rb.executeCommand(r)}});C.setInputDecimal(u),a.append(u);var p=$('<input id="rbro_image_element_height">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=C.checkInputDecimal(p.val(),10,1e3);t!==p.val()&&p.val(t);var r=new h.default(e.selectedObjId,"rbro_image_element_height","height",t,h.default.type.text,e.rb);e.rb.executeCommand(r)}});C.setInputDecimal(p),a.append(p),a.append('<div id="rbro_image_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var c=$('<div class="rbroPanelSectionHeader"></div>'),m=$('<div id="rbro_image_element_style_header_icon" class="rbroPanelSectionHeaderOpen rbroIcon-minus"></div>');r=$('<div id="rbro_image_element_style_header" class="rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"></div>').click(function(){$("#rbro_image_element_style_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_image_element_style_section").toggleClass("rbroHidden"),m.toggleClass("rbroIcon-plus"),m.toggleClass("rbroIcon-minus"),m.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(c.position().top)}),c.append(m),c.append("<span>"+this.rb.getLabel("docElementStyle")+"</span>"),r.append(c),t.append(r);var f=$('<div id="rbro_image_element_style_section"></div>');b.default.renderStyle(f,"image_element_","",y.default.type.image,this,this.rb),t.append(f);var g=$('<div class="rbroPanelSectionHeader"></div>'),w=$('<span id="rbro_image_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_image_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){$("#rbro_image_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_image_element_print_section").toggleClass("rbroHidden"),w.toggleClass("rbroIcon-plus"),w.toggleClass("rbroIcon-minus"),w.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop(g.position().top),autosize.update($("#rbro_image_element_print_if"))}),g.append(w),g.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(g),t.append(r);var x=$('<div id="rbro_image_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_image_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var k=$('<textarea id="rbro_image_element_print_if" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_image_element_print_if","printIf",k.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(k),a.append(k),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_image_element_print_if","parameter",I.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_image_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),x.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var D=$('<input id="rbro_image_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_image_element_remove_empty_element","removeEmptyElement",D.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});if(a.append(D),r.append(a),x.append(r),t.append(x),this.rb.getProperty("enableSpreadsheet")){var O=$('<div class="rbroPanelSectionHeader"></div>'),P=$('<span id="rbro_image_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_image_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_image_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_image_element_spreadsheet_section").toggleClass("rbroHidden"),P.toggleClass("rbroIcon-plus"),P.toggleClass("rbroIcon-minus"),P.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+O.position().top))}),O.append(P),O.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(O),t.append(r);var E=$('<div id="rbro_image_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_image_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var j=$('<input id="rbro_image_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_image_element_spreadsheet_hide","spreadsheet_hide",j.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(j),r.append(a),E.append(r),r=$('<div id="rbro_image_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var S=$('<input id="rbro_image_element_spreadsheet_column">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_image_element_spreadsheet_column","spreadsheet_column",S.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}});C.setInputPositiveInteger(S),a.append(S),a.append('<div id="rbro_image_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),E.append(r),r=$('<div id="rbro_image_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_image_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var V=$('<input id="rbro_image_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_image_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",V.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(V),r.append(a),E.append(r),t.append(E)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_image_element_source")),autosize.update($("#rbro_image_element_print_if"))}},{key:"show",value:function(e){$("#rbro_image_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_image_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_image_element_source").prop("disabled",!1),$("#rbro_image_element_image").prop("disabled",!1),$("#rbro_image_element_position_x").prop("disabled",!1),$("#rbro_image_element_position_y").prop("disabled",!1),$("#rbro_image_element_width").prop("disabled",!1),$("#rbro_image_element_height").prop("disabled",!1),$("#rbro_image_element_print_if").prop("disabled",!1),$("#rbro_image_element_remove_empty_element").prop("disabled",!1),$("#rbro_image_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_image_element_spreadsheet_column").prop("disabled",!1),$("#rbro_image_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_image_element_source").val(e.getValue("source")),$("#rbro_image_element_image_filename").text(e.getValue("imageFilename")),e.getValue("imageFilename")!==""?$("#rbro_image_element_image_filename_container").removeClass("rbroHidden"):$("#rbro_image_element_image_filename_container").addClass("rbroHidden"),$("#rbro_image_element_position_x").val(e.getValue("x")),$("#rbro_image_element_position_y").val(e.getValue("y")),$("#rbro_image_element_width").val(e.getValue("width")),$("#rbro_image_element_height").val(e.getValue("height")),$("#rbro_image_element_print_if").val(e.getValue("printIf")),$("#rbro_image_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_image_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_image_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_image_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_image_element_source").prop("disabled",!0),$("#rbro_image_element_image_filename").text(""),$("#rbro_image_element_image_filename_container").addClass("rbroHidden"),$("#rbro_image_element_image").prop("disabled",!0),$("#rbro_image_element_position_x").prop("disabled",!0),$("#rbro_image_element_position_y").prop("disabled",!0),$("#rbro_image_element_width").prop("disabled",!0),$("#rbro_image_element_height").prop("disabled",!0),$("#rbro_image_element_print_if").prop("disabled",!0),$("#rbro_image_element_remove_empty_element").prop("disabled",!0),$("#rbro_image_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_image_element_spreadsheet_column").prop("disabled",!0),$("#rbro_image_element_spreadsheet_add_empty_row").prop("disabled",!0)),$("#rbro_image_element_image").val(""),b.default.updateStyleData(e,"image_element_","",y.default.type.image),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_image_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_image_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_image_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_image_element_"+l.field+"_row",s="rbro_image_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"?($("#rbro_image_element_print_header").addClass("rbroError"),$("#rbro_image_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_image_element_print_header").trigger("click")):l.field==="spreadsheet_column"&&($("#rbro_image_element_spreadsheet_header").addClass("rbroError"),$("#rbro_image_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_image_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=k},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(3),b=n(p),c=r(10),_=n(c),m=r(2),h=a(m),f=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_line_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_line_element_position_row" class="rbroFormRow"></div>');r.append('<label for="rbro_line_element_position">'+this.rb.getLabel("docElementPosition")+":</label>");var a=$('<div class="rbroFormField rbroSplit"></div>'),n=$('<input id="rbro_line_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==n.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_position_x","x",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(n),a.append(n);var o=$('<input id="rbro_line_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==o.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_position_y","y",o.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(o),a.append(o),a.append('<div id="rbro_line_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_line_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_line_element_size">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var i=$('<input id="rbro_line_element_width">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("width")!==i.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_width","width",i.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(i),a.append(i);var l=$('<input id="rbro_line_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==l.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_height","height",l.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});h.setInputDecimal(l),a.append(l),a.append('<div id="rbro_line_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_line_element_color">'+this.rb.getLabel("docElementColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<div class="rbroColorPickerContainer"></div>'),s=$('<input id="rbro_line_element_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_line_element_color","color",s.val(),b.default.type.color,e.rb);e.rb.executeCommand(t)}});d.append(s),a.append(d),r.append(a),t.append(r),h.initColorPicker(s,this.rb),r=$('<div id="rbro_line_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_line_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var u=$('<textarea id="rbro_line_element_print_if" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("printIf")!==u.val()){var r=new b.default(e.selectedObjId,"rbro_line_element_print_if","printIf",u.val(),b.default.type.text,e.rb);e.rb.executeCommand(r)}});autosize(u),a.append(u);var p=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_line_element_print_if","parameter",_.default.type.parameterAppend)});a.append(p),a.append('<div id="rbro_line_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_line_element_print_if"))}},{key:"show",value:function(e){$("#rbro_line_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_line_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_line_element_position_x").prop("disabled",!1),$("#rbro_line_element_position_y").prop("disabled",!1),$("#rbro_line_element_width").prop("disabled",!1),$("#rbro_line_element_height").prop("disabled",!1),$("#rbro_line_element_color").spectrum("enable"),$("#rbro_line_element_print_if").prop("disabled",!1),$("#rbro_line_element_position_x").val(e.getValue("x")),$("#rbro_line_element_position_y").val(e.getValue("y")),$("#rbro_line_element_width").val(e.getValue("width")),$("#rbro_line_element_height").val(e.getValue("height")),$("#rbro_line_element_color").spectrum("set",e.getValue("color")),$("#rbro_line_element_print_if").val(e.getValue("printIf")),this.selectedObjId=e.getId()):($("#rbro_line_element_position_x").prop("disabled",!0),$("#rbro_line_element_position_y").prop("disabled",!0),$("#rbro_line_element_width").prop("disabled",!0),$("#rbro_line_element_height").prop("disabled",!0),$("#rbro_line_element_color").spectrum("disable"),$("#rbro_line_element_print_if").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_line_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_line_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_line_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_line_element_"+l.field+"_row",s="rbro_line_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u)}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=f},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(3),b=n(p),c=r(2),_=a(c),m=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_page_break_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_page_break_element_position_row" class="rbroFormRow"></div>');r.append('<label for="rbro_page_break_element_position_y">'+this.rb.getLabel("docElementPositionY")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_page_break_element_position_y">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new b.default(e.selectedObjId,"rbro_page_break_element_position_y","y",n.val(),b.default.type.text,e.rb);e.rb.executeCommand(t)}});_.setInputDecimal(n),a.append(n),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"show",value:function(e){$("#rbro_page_break_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_page_break_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_page_break_element_position_y").prop("disabled",!1),$("#rbro_page_break_element_position_y").val(e.getValue("y")),this.selectedObjId=e.getId()):$("#rbro_page_break_element_position_y").prop("disabled",!0),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_page_break_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_page_break_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0)n.value}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=m},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(11),b=n(p),c=r(20),_=n(c),m=r(3),h=n(m),f=r(16),v=n(f),g=r(10),y=n(g),w=r(2);a(w);var I=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_parameter_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_parameter_name_row" class="rbroFormRow"></div>');r.append('<label for="rbro_parameter_name">'+this.rb.getLabel("parameterName")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_parameter_name">').change(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t)if(n.val().trim()!=""){var r=n.val(),a=new _.default("Rename parameter"),o=t.getFullName(null,null),l=t.getFullName(null,r),d=new h.default(e.selectedObjId,"rbro_parameter_name","name",r,h.default.type.text,e.rb);a.addCommand(d);var s=[{oldName:o,newName:l}],u=!0,p=!1,b=void 0;try{for(var c,m=i.default(t.getChildren());!(u=(c=m.next()).done);u=!0){var f=c.value;o=f.getFullName(null,null),l=f.getFullName(r,null),s.push({oldName:o,newName:l})}}catch(v){p=!0,b=v}finally{try{!u&&m.return&&m.return()}finally{if(p)throw b}}var g=t.getParent();null!==g&&g.addUpdateTestDataCmdForChangedParameter(t.getName(),r,a);var y=!0,w=!1,I=void 0;try{for(var $,x=i.default(s);!(y=($=x.next()).done);y=!0){var C=$.value,k=e.rb.getDocElements(!0),D=!0,O=!1,P=void 0;try{for(var E,j=i.default(k);!(D=(E=j.next()).done);D=!0){var S=E.value;S.addCommandsForChangedParameter("${"+C.oldName+"}","${"+C.newName+"}",a)}}catch(v){O=!0,P=v}finally{try{!D&&j.return&&j.return()}finally{if(O)throw P}}var V=!0,T=!1,F=void 0;try{for(var B,A=i.default(e.rb.getParameters());!(V=(B=A.next()).done);V=!0){var L=B.value;L.addCommandsForChangedParameter("${"+C.oldName+"}","${"+C.newName+"}",a)}}catch(v){T=!0,F=v}finally{try{!V&&A.return&&A.return()}finally{if(T)throw F}}}}catch(v){w=!0,I=v}finally{try{!y&&x.return&&x.return()}finally{if(w)throw I}}e.rb.executeCommand(a)}else n.val(parameter.getName())});a.append(n),a.append('<div id="rbro_parameter_name_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_parameter_type_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_parameter_type">'+this.rb.getLabel("parameterType")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<select id="rbro_parameter_type">\n                <option value="string">'+this.rb.getLabel("parameterTypeString")+'</option>\n                <option value="number">'+this.rb.getLabel("parameterTypeNumber")+'</option>\n                <option value="boolean">'+this.rb.getLabel("parameterTypeBoolean")+'</option>\n                <option value="date">'+this.rb.getLabel("parameterTypeDate")+'</option>\n                <option value="image">'+this.rb.getLabel("parameterTypeImage")+'</option>\n                <option value="array">'+this.rb.getLabel("parameterTypeArray")+'</option>\n                <option value="simpleArray">'+this.rb.getLabel("parameterTypeSimpleArray")+'</option>\n                <option value="map">'+this.rb.getLabel("parameterTypeMap")+'</option>\n                <option value="sum">'+this.rb.getLabel("parameterTypeSum")+'</option>\n                <option value="average">'+this.rb.getLabel("parameterTypeAverage")+"</option>\n            </select>").change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_type","type",o.val(),h.default.type.select,e.rb);e.rb.executeCommand(t)}});a.append(o),a.append('<div id="rbro_parameter_type_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_parameter_array_item_type_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_parameter_array_item_type_row">'+this.rb.getLabel("parameterArrayItemType")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<select id="rbro_parameter_array_item_type">\n                <option value="string">'+this.rb.getLabel("parameterTypeString")+'</option>\n                <option value="number">'+this.rb.getLabel("parameterTypeNumber")+'</option>\n                <option value="boolean">'+this.rb.getLabel("parameterTypeBoolean")+'</option>\n                <option value="date">'+this.rb.getLabel("parameterTypeDate")+"</option>\n            </select>").change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_array_item_type","arrayItemType",l.val(),h.default.type.select,e.rb);e.rb.executeCommand(t)}});if(a.append(l),a.append('<div id="rbro_parameter_array_item_type_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),this.rb.getProperty("adminMode")){r=$('<div class="rbroFormRow" id="rbro_parameter_eval_row"></div>'),r.append('<label for="rbro_parameter_eval">'+this.rb.getLabel("parameterEval")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<input id="rbro_parameter_eval" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_eval","eval",d.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(d),r.append(a),t.append(r)}r=$('<div class="rbroFormRow" id="rbro_parameter_nullable_row"></div>'),r.append('<label for="rbro_parameter_nullable">'+this.rb.getLabel("parameterNullable")+":</label>"),a=$('<div class="rbroFormField"></div>');var s=$('<input id="rbro_parameter_nullable" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_nullable","nullable",s.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(s),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_pattern_row"></div>'),r.append('<label for="rbro_parameter_pattern">'+this.rb.getLabel("parameterPattern")+":</label>"),a=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_parameter_pattern">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_pattern","pattern",u.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}}).focus(function(t){var r=e.rb.getDataObject(e.selectedObjId);if(null!==r){var a=void 0;a=r.getValue("type")===v.default.type.date?e.rb.getProperty("patternDates"):e.rb.getProperty("patternNumbers"),e.rb.getPopupWindow().show(a,e.selectedObjId,"rbro_parameter_pattern","pattern",y.default.type.pattern)}t.preventDefault()}).blur(function(){e.rb.getPopupWindow().hide()}).mouseup(function(e){e.preventDefault(),e.stopPropagation()});a.append(u),a.append('<div id="rbro_parameter_pattern_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_expression_row"></div>'),r.append('<label for="rbro_parameter_expression">'+this.rb.getLabel("parameterExpression")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');
var p=$('<textarea id="rbro_parameter_expression" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_expression","expression",p.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(p),a.append(p);var b=$('<div id="rbro_parameter_expression_param_button"\n        class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=void 0,a=void 0;t.getValue("type")===v.default.type.sum||t.getValue("type")===v.default.type.average?(r=e.rb.getArrayFieldParameterItems(v.default.type.number),a=y.default.type.parameterSet):(r=e.rb.getParameterItems(t),a=y.default.type.parameterAppend),e.rb.getPopupWindow().show(r,e.selectedObjId,"rbro_parameter_expression","expression",a)}});a.append(b),a.append('<div id="rbro_parameter_expression_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_parameter_test_data_row"></div>'),r.append('<label for="rbro_parameter_test_data">'+this.rb.getLabel("parameterTestData")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<input id="rbro_parameter_test_data">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_parameter_test_data","testData",c.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}});a.append(c);var m=$('<button id="rbro_parameter_edit_test_data"\n        class="rbroButton rbroActionButton" style="display: none;">\n                    <span>'+this.rb.getLabel("parameterEditTestData")+'</span>\n                    <span class="rbroIcon-edit"></span>\n                </button>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=[];if(t.getValue("type")==v.default.type.simpleArray)r.push({name:"data",type:t.getValue("arrayItemType")});else{var a=!0,n=!1,o=void 0;try{for(var l,d=i.default(t.getChildren());!(a=(l=d.next()).done);a=!0){var s=l.value;r.push({name:s.getName(),type:s.getValue("type")})}}catch(u){n=!0,o=u}finally{try{!a&&d.return&&d.return()}finally{if(n)throw o}}}if(r.length>0){var p=t.getTestDataRows();p.unshift(r),e.rb.getPopupWindow().show(p,e.selectedObjId,"","testData",y.default.type.testData)}else alert(e.rb.getLabel("parameterEditTestDataNoFields"))}});a.append(m),a.append('<div id="rbro_parameter_test_data_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_parameter_expression"))}},{key:"show",value:function(e){$("#rbro_parameter_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_parameter_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){if(null!==e){var t=e.getValue("editable");$("#rbro_parameter_name").prop("disabled",!t),$("#rbro_parameter_type").prop("disabled",!t),$("#rbro_parameter_eval").prop("disabled",!t),$("#rbro_parameter_nullable").prop("disabled",!t),$("#rbro_parameter_pattern").prop("disabled",!t),$("#rbro_parameter_expression").prop("disabled",!t),t?($("#rbro_parameter_name_row label").removeClass("rbroDisabled"),$("#rbro_parameter_type_row label").removeClass("rbroDisabled"),$("#rbro_parameter_eval_row label").removeClass("rbroDisabled"),$("#rbro_parameter_nullable_row label").removeClass("rbroDisabled"),$("#rbro_parameter_pattern_row label").removeClass("rbroDisabled"),$("#rbro_parameter_expression_row label").removeClass("rbroDisabled")):($("#rbro_parameter_name_row label").addClass("rbroDisabled"),$("#rbro_parameter_type_row label").addClass("rbroDisabled"),$("#rbro_parameter_eval_row label").addClass("rbroDisabled"),$("#rbro_parameter_nullable_row label").addClass("rbroDisabled"),$("#rbro_parameter_pattern_row label").addClass("rbroDisabled"),$("#rbro_parameter_expression_row label").addClass("rbroDisabled")),$("#rbro_parameter_test_data").prop("disabled",!1),$("#rbro_parameter_name").val(e.getName()),$("#rbro_parameter_type").val(e.getValue("type")),$("#rbro_parameter_eval").prop("checked",e.getValue("eval")),$("#rbro_parameter_nullable").prop("checked",e.getValue("nullable")),$("#rbro_parameter_pattern").val(e.getValue("pattern")),$("#rbro_parameter_expression").val(e.getValue("expression")),$("#rbro_parameter_test_data").val(e.getValue("testData")),this.updatePatternPlaceholder(e),this.updateVisibility(e),this.selectedObjId=e.getId()}else $("#rbro_parameter_name").prop("disabled",!0),$("#rbro_parameter_type").prop("disabled",!0),$("#rbro_parameter_eval").prop("disabled",!0),$("#rbro_parameter_nullable").prop("disabled",!0),$("#rbro_parameter_pattern").prop("disabled",!0),$("#rbro_parameter_expression").prop("disabled",!0),$("#rbro_parameter_test_data").prop("disabled",!0);this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(e,t){e instanceof v.default&&e===this.rb.getDetailData()&&t===b.default.operation.change&&this.updateVisibility(e)}},{key:"updatePatternPlaceholder",value:function(e){null!==e&&e.getValue("type")===v.default.type.date?$("#rbro_parameter_test_data").attr("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):$("#rbro_parameter_test_data").attr("placeholder","")}},{key:"updateVisibility",value:function(e){var t=e.getValue("type"),r=e.getValue("showOnlyNameType"),a=null;e.getPanelItem()!==null&&e.getPanelItem().getParent().getData()instanceof v.default&&(a=e.getPanelItem().getParent().getData()),t===v.default.type.simpleArray?$("#rbro_parameter_array_item_type_row").show():$("#rbro_parameter_array_item_type_row").hide(),t===v.default.type.string||t===v.default.type.number||t===v.default.type.boolean||t===v.default.type.date||t===v.default.type.array||t===v.default.type.simpleArray||t===v.default.type.map?$("#rbro_parameter_nullable_row").show():$("#rbro_parameter_nullable_row").hide(),t!==v.default.type.number&&t!==v.default.type.date&&t!==v.default.type.sum&&t!==v.default.type.average||r?$("#rbro_parameter_pattern_row").hide():$("#rbro_parameter_pattern_row").show(),t===v.default.type.image||t===v.default.type.sum||t===v.default.type.average||r?($("#rbro_parameter_eval_row").hide(),$("#rbro_parameter_test_data_row").hide()):(t===v.default.type.image||t===v.default.type.array||t===v.default.type.simpleArray||t===v.default.type.map?$("#rbro_parameter_eval_row").hide():$("#rbro_parameter_eval_row").show(),null!==a&&a.getValue("type")===v.default.type.array||t===v.default.type.map?$("#rbro_parameter_test_data_row").hide():t!==v.default.type.array&&t!==v.default.type.simpleArray&&e.getValue("eval")?$("#rbro_parameter_test_data_row").hide():$("#rbro_parameter_test_data_row").show(),t===v.default.type.array||t===v.default.type.simpleArray?($("#rbro_parameter_test_data").hide(),$("#rbro_parameter_edit_test_data").show()):($("#rbro_parameter_test_data").show(),$("#rbro_parameter_edit_test_data").hide())),(!e.getValue("eval")||t!==v.default.type.string&&t!==v.default.type.number&&t!==v.default.type.boolean&&t!==v.default.type.date)&&t!==v.default.type.sum&&t!==v.default.type.average||r?$("#rbro_parameter_expression_row").hide():$("#rbro_parameter_expression_row").show(),e.getPanelItem()!==null&&e.getPanelItem().getParent()===this.rb.getMainPanel().getParametersItem()?($('#rbro_parameter_type option[value="array"]').removeClass("rbroHidden"),$('#rbro_parameter_type option[value="map"]').removeClass("rbroHidden")):($('#rbro_parameter_type option[value="array"]').addClass("rbroHidden"),$('#rbro_parameter_type option[value="map"]').addClass("rbroHidden")),null!==a&&a.getValue("type")===v.default.type.array?($('#rbro_parameter_type option[value="image"]').addClass("rbroHidden"),$('#rbro_parameter_type option[value="sum"]').addClass("rbroHidden"),$('#rbro_parameter_type option[value="average"]').addClass("rbroHidden")):($('#rbro_parameter_type option[value="image"]').removeClass("rbroHidden"),$('#rbro_parameter_type option[value="sum"]').removeClass("rbroHidden"),$('#rbro_parameter_type option[value="average"]').removeClass("rbroHidden"))}},{key:"updateErrors",value:function(){$("#rbro_parameter_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_parameter_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_parameter_"+l.field+"_row",s="rbro_parameter_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u)}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=I},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(20);n(p);var b=r(3),c=n(b),_=r(2),m=a(_),h=r(10),f=n(h),v=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_table_band_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow"></div>');r.append('<label for="rbro_table_band_element_width">'+this.rb.getLabel("docElementHeight")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<input id="rbro_table_band_element_height">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_table_band_element_height","height",n.val(),c.default.type.text,e.rb);e.rb.executeCommand(t)}});m.setInputDecimal(n),a.append(n),r.append(a),t.append(r),r=$('<div id="rbro_table_band_element_repeat_header_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_repeat_header">'+this.rb.getLabel("tableElementRepeatHeader")+":</label>"),a=$('<div class="rbroFormField"></div>');var o=$('<input id="rbro_table_band_element_repeat_header" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_table_band_element_repeat_header","repeatHeader",o.is(":checked"),c.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(o),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_background_color">'+this.rb.getLabel("styleBackgroundColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<div class="rbroColorPickerContainer"></div>'),l=$('<input id="rbro_table_band_element_background_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_table_band_element_background_color","backgroundColor",l.val(),c.default.type.color,e.rb);e.rb.executeCommand(t)}});i.append(l),a.append(i),r.append(a),t.append(r),m.initColorPicker(l,this.rb,{allowEmpty:!0}),r=$('<div id="rbro_table_band_element_alternate_background_color_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_alternate_background_color">'+this.rb.getLabel("tableElementAlternateBackgroundColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<div class="rbroColorPickerContainer"></div>'),s=$('<input id="rbro_table_band_element_alternate_background_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_table_band_element_alternate_background_color","alternateBackgroundColor",s.val(),c.default.type.color,e.rb);e.rb.executeCommand(t)}});d.append(s),a.append(d),r.append(a),t.append(r),m.initColorPicker(s,this.rb,{allowEmpty:!0}),r=$('<div id="rbro_table_band_element_always_print_on_same_page_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_always_print_on_same_page">'+this.rb.getLabel("docElementAlwaysPrintOnSamePage")+":</label>"),a=$('<div class="rbroFormField"></div>');var u=$('<input id="rbro_table_band_element_always_print_on_same_page" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new c.default(e.selectedObjId,"rbro_table_band_element_always_print_on_same_page","alwaysPrintOnSamePage",u.is(":checked"),c.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(u),r.append(a),t.append(r),r=$('<div id="rbro_table_band_element_group_expression_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_group_expression">'+this.rb.getLabel("tableElementGroupExpression")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var p=$('<textarea id="rbro_table_band_element_group_expression" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("groupExpression")!==p.val()){var r=new c.default(e.selectedObjId,"rbro_table_band_element_group_expression","groupExpression",p.val(),c.default.type.text,e.rb);e.rb.executeCommand(r)}}).blur(function(){e.rb.getPopupWindow().hide()});autosize(p),a.append(p);var b=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_table_band_element_group_expression","parameter",f.default.type.parameterSet)});a.append(b),a.append('<div id="rbro_text_element_group_expression_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_table_band_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_band_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var _=$('<textarea id="rbro_table_band_element_print_if" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("printIf")!==_.val()){var r=new c.default(e.selectedObjId,"rbro_table_band_element_print_if","printIf",_.val(),c.default.type.text,e.rb);e.rb.executeCommand(r)}}).blur(function(){e.rb.getPopupWindow().hide()});autosize(_),a.append(_),b=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_table_band_element_print_if","parameter",f.default.type.parameterAppend)}),a.append(b),a.append('<div id="rbro_text_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),$("#rbro_detail_panel").append(t)}},{key:"show",value:function(e){$("#rbro_table_band_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_table_band_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_table_band_element_height").prop("disabled",!1),$("#rbro_table_band_element_repeat_header").prop("disabled",!1),$("#rbro_table_band_element_height").val(e.getValue("height")),$("#rbro_table_band_element_background_color").spectrum("set",e.getValue("backgroundColor")),e.getValue("tableBand")==="header"?($("#rbro_table_band_element_repeat_header").prop("checked",e.getValue("repeatHeader")),$("#rbro_table_band_element_repeat_header_row").show()):$("#rbro_table_band_element_repeat_header_row").hide(),e.getValue("tableBand")==="content"?($("#rbro_table_band_element_alternate_background_color").spectrum("set",e.getValue("alternateBackgroundColor")),$("#rbro_table_band_element_always_print_on_same_page").prop("checked",e.getValue("alwaysPrintOnSamePage")),$("#rbro_table_band_element_group_expression").val(e.getValue("groupExpression")),$("#rbro_table_band_element_print_if").val(e.getValue("printIf")),$("#rbro_table_band_element_alternate_background_color_row").show(),$("#rbro_table_band_element_always_print_on_same_page_row").show(),$("#rbro_table_band_element_group_expression_row").show(),$("#rbro_table_band_element_print_if_row").show()):($("#rbro_table_band_element_alternate_background_color_row").hide(),$("#rbro_table_band_element_always_print_on_same_page_row").hide(),$("#rbro_table_band_element_group_expression_row").hide(),$("#rbro_table_band_element_print_if_row").hide()),this.selectedObjId=e.getId()):($("#rbro_table_band_element_height").prop("disabled",!0),$("#rbro_table_band_element_repeat_header").prop("disabled",!0)),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_table_band_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_table_band_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0)n.value}catch(l){r=!0,a=l}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=v},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(20),b=n(p),c=r(3),_=n(c),m=r(16),h=n(m),f=r(4);n(f);var v=r(39),g=n(v),y=r(10),w=n(y),I=r(2),x=a(I),C=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_table_element_panel" class="rbroHidden"></div>'),r=$('<div class="rbroFormRow" id="rbro_table_element_data_source_row"></div>');r.append('<label for="rbro_table_element_data_source">'+this.rb.getLabel("docElementDataSource")+":</label>");var a=$('<div class="rbroFormField"></div>'),n=$('<textarea id="rbro_table_element_data_source" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_data_source","dataSource",n.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}}).focus(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t,[h.default.type.array]),e.selectedObjId,"rbro_table_element_data_source","dataSource",w.default.type.parameterSet)}).blur(function(){e.rb.getPopupWindow().hide()}).mouseup(function(e){e.preventDefault(),e.stopPropagation()});autosize(n),a.append(n),a.append('<div id="rbro_table_element_data_source_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_table_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_position">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var o=$('<input id="rbro_table_element_position_x">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_position_x","x",o.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});x.setInputDecimal(o),a.append(o);var i=$('<input id="rbro_table_element_position_y">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_position_y","y",i.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});x.setInputDecimal(i),a.append(i),a.append('<div id="rbro_table_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_columns">'+this.rb.getLabel("tableElementColumns")+":</label>"),a=$('<div class="rbroFormField"></div>');var l=$('<input id="rbro_table_element_columns">').change(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=x.checkInputDecimal(l.val(),1,20);r!==l.val()&&l.val(r);var a=new b.default("Set value"),n=x.convertInputToNumber(r),o=t.addCommandsForChangedColumns(n,a);o!==n&&l.val(o),a.isEmpty()||e.rb.executeCommand(a)}});x.setInputPositiveInteger(l),a.append(l),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_header">'+this.rb.getLabel("header")+":</label>"),a=$('<div class="rbroFormField"></div>');var d=$('<label class="switch-light switch-material"></label>'),s=$('<input id="rbro_table_element_header" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_header","header",s.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});d.append(s);var u=$("<span></span>");u.append($("<span></span>")),u.append($("<span></span>")),u.append($("<a></a>")),d.append(u),a.append(d),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_content_rows">'+this.rb.getLabel("tableElementContentRows")+":</label>"),a=$('<div class="rbroFormField"></div>');var p=$('<input id="rbro_table_element_content_rows" maxlength="1">').change(function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t){var r=x.checkInputDecimal(p.val(),1,9);r!==p.val()&&p.val(r);var a=new b.default("Set value"),n=x.convertInputToNumber(r);t.addCommandsForChangedContentRows(n,a),a.isEmpty()||e.rb.executeCommand(a)}});x.setInputPositiveInteger(p),a.append(p),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_footer">'+this.rb.getLabel("footer")+":</label>"),a=$('<div class="rbroFormField"></div>');var c=$('<label class="switch-light switch-material"></label>'),m=$('<input id="rbro_table_element_footer" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_footer","footer",m.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});c.append(m);var f=$("<span></span>");f.append($("<span></span>")),f.append($("<span></span>")),f.append($("<a></a>")),c.append(f),a.append(c),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append("<label>"+this.rb.getLabel("styleBorder")+":</label>"),a=$('<div class="rbroFormField"></div>');var v=$('<div id="rbro_table_element_border"></div>'),y=$('<button id="rbro_table_element_border_grid" class="rbroButton rbroActionButton rbroIcon-border-table-grid"\n                type="button" value="grid"\n                title="'+this.rb.getLabel("tableElementBorderGrid")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.grid,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});v.append(y);var I=$('<button id="rbro_table_element_border_frame_row" class="rbroButton rbroActionButton rbroIcon-border-table-frame-row"\n                type="button" value="frame_row"\n                title="'+this.rb.getLabel("tableElementBorderFrameRow")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.frameRow,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});v.append(I);var C=$('<button id="rbro_table_element_border_frame" class="rbroButton rbroActionButton rbroIcon-border-table-frame"\n                type="button" value="frame"\n                title="'+this.rb.getLabel("tableElementBorderFrame")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.frame,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});v.append(C);var k=$('<button id="rbro_table_element_border_row" class="rbroButton rbroActionButton rbroIcon-border-table-row"\n                type="button" value="row"\n                title="'+this.rb.getLabel("tableElementBorderRow")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.row,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});v.append(k);var D=$('<button id="rbro_table_element_border_none" class="rbroButton rbroActionButton rbroIcon-border-table-none"\n                type="button" value="none"\n                title="'+this.rb.getLabel("tableElementBorderNone")+'"></button>').click(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border","border",g.default.border.none,_.default.type.buttonGroup,e.rb);e.rb.executeCommand(t)}});v.append(D),a.append(v),r.append(a),t.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_border_color">'+this.rb.getLabel("styleBorderColor")+":</label>"),a=$('<div class="rbroFormField"></div>');var O=$('<div class="rbroColorPickerContainer"></div>'),P=$('<input id="rbro_table_element_border_color">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_border_color","borderColor",P.val(),_.default.type.color,e.rb);e.rb.executeCommand(t)}});if(O.append(P),a.append(O),r.append(a),t.append(r),x.initColorPicker(P,this.rb),this.rb.getProperty("enableSpreadsheet")){var E=$('<div class="rbroPanelSectionHeader"></div>'),j=$('<span id="rbro_table_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_table_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_table_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_table_element_spreadsheet_section").toggleClass("rbroHidden"),j.toggleClass("rbroIcon-plus"),j.toggleClass("rbroIcon-minus"),j.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+E.position().top))}),E.append(j),E.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(E),t.append(r);var S=$('<div id="rbro_table_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_table_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var V=$('<input id="rbro_table_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_spreadsheet_hide","spreadsheet_hide",V.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(V),r.append(a),S.append(r),r=$('<div id="rbro_table_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var T=$('<input id="rbro_table_element_spreadsheet_column">').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_spreadsheet_column","spreadsheet_column",T.val(),_.default.type.text,e.rb);e.rb.executeCommand(t)}});x.setInputPositiveInteger(T),a.append(T),a.append('<div id="rbro_table_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),S.append(r),r=$('<div id="rbro_table_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_table_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var F=$('<input id="rbro_table_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new _.default(e.selectedObjId,"rbro_table_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",F.is(":checked"),_.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(F),r.append(a),S.append(r),t.append(S)}$("#rbro_detail_panel").append(t)}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_table_element_data_source"))}},{key:"show",value:function(e){$("#rbro_table_element_panel").removeClass("rbroHidden"),this.updateData(e),this.updateAutosizeInputs()}},{key:"hide",value:function(){$("#rbro_table_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){null!==e?($("#rbro_table_element_data_source").prop("disabled",!1),$("#rbro_table_element_position_x").prop("disabled",!1),$("#rbro_table_element_position_y").prop("disabled",!1),$("#rbro_table_element_columns").prop("disabled",!1),$("#rbro_table_element_header").prop("disabled",!1),$("#rbro_table_element_footer").prop("disabled",!1),$("#rbro_table_element_border_grid").prop("disabled",!1),$("#rbro_table_element_border_frame_row").prop("disabled",!1),$("#rbro_table_element_border_frame").prop("disabled",!1),$("#rbro_table_element_border_row").prop("disabled",!1),$("#rbro_table_element_border_none").prop("disabled",!1),$("#rbro_table_element_border_color").spectrum("enable"),$("#rbro_table_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_table_element_spreadsheet_column").prop("disabled",!1),$("#rbro_table_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_table_element_data_source").val(e.getValue("dataSource")),$("#rbro_table_element_position_x").val(e.getValue("x")),$("#rbro_table_element_position_y").val(e.getValue("y")),$("#rbro_table_element_columns").val(e.getValue("columns")),$("#rbro_table_element_header").prop("checked",e.getValue("header")),$("#rbro_table_element_content_rows").val(e.getValue("contentRows")),$("#rbro_table_element_footer").prop("checked",e.getValue("footer")),$("#rbro_table_element_border").find("button").removeClass("rbroButtonActive"),$("#rbro_table_element_border").find('button[value="'+e.getValue("border")+'"]').addClass("rbroButtonActive"),$("#rbro_table_element_border_color").spectrum("set",e.getValue("borderColor")),$("#rbro_table_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_table_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_table_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),this.selectedObjId=e.getId()):($("#rbro_table_element_data_source").prop("disabled",!0),$("#rbro_table_element_position_x").prop("disabled",!0),$("#rbro_table_element_position_y").prop("disabled",!0),$("#rbro_table_element_columns").prop("disabled",!0),$("#rbro_table_element_header").prop("disabled",!0),$("#rbro_table_element_content_rows").prop("disabled",!0),$("#rbro_table_element_footer").prop("disabled",!0),$("#rbro_table_element_border_grid").prop("disabled",!0),$("#rbro_table_element_border_frame_row").prop("disabled",!0),$("#rbro_table_element_border_frame").prop("disabled",!0),$("#rbro_table_element_border_row").prop("disabled",!0),$("#rbro_table_element_border_none").prop("disabled",!0),$("#rbro_table_element_border_color").spectrum("disable"),$("#rbro_table_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_table_element_spreadsheet_column").prop("disabled",!0),$("#rbro_table_element_spreadsheet_add_empty_row").prop("disabled",!0)),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(){}},{key:"updateErrors",value:function(){$("#rbro_table_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_table_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_table_element_"+l.field+"_row",s="rbro_table_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);
l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="spreadsheet_column"&&($("#rbro_table_element_spreadsheet_header").addClass("rbroError"),$("#rbro_table_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_table_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=C},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o),l=r(0),d=n(l),s=r(1),u=n(s),p=r(31),b=n(p),c=r(11),_=n(c),m=r(3),h=n(m),f=r(14),v=n(f),g=r(4),y=n(g),w=r(40),I=n(w),x=r(10),C=n(x),k=r(2),D=a(k),O=function(){function e(t,r){d.default(this,e),this.rootElement=t,this.rb=r,this.elStyle=null,this.cs_elStyle=null,this.selectedObjId=null}return u.default(e,[{key:"render",value:function(){var e=this,t=$('<div id="rbro_text_element_panel" class="rbroHidden"></div>'),r=$('<div id="rbro_text_element_content_row" class="rbroFormRow"></div>');r.append('<label for="rbro_text_element_content">'+this.rb.getLabel("textElementContent")+":</label>");var a=$('<div class="rbroFormField rbroSplit"></div>'),n=$('<textarea id="rbro_text_element_content" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("content")!==n.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_content","content",n.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}}).blur(function(){e.rb.getPopupWindow().hide()});autosize(n),a.append(n);var o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_content","parameter",C.default.type.parameterAppend)});a.append(o),a.append('<div id="rbro_text_element_content_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div class="rbroFormRow" id="rbro_text_element_eval_row"></div>'),r.append('<label for="rbro_text_element_eval">'+this.rb.getLabel("textElementEval")+":</label>"),a=$('<div class="rbroFormField"></div>');var i=$('<input id="rbro_text_element_eval" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_eval","eval",i.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(i),r.append(a),t.append(r),r=$('<div id="rbro_text_element_position_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_position_x">'+this.rb.getLabel("docElementPosition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var l=$('<input id="rbro_text_element_position_x">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("x")!==l.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_position_x","x",l.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputDecimal(l),a.append(l);var d=$('<input id="rbro_text_element_position_y">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("y")!==d.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_position_y","y",d.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputDecimal(d),a.append(d),a.append('<div id="rbro_text_element_position_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r),r=$('<div id="rbro_text_element_size_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_size">'+this.rb.getLabel("docElementSize")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var s=$('<input id="rbro_text_element_width">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("width")!==s.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_width","width",s.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputDecimal(s),a.append(s);var u=$('<input id="rbro_text_element_height">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("height")!==u.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_height","height",u.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputDecimal(u),a.append(u),a.append('<div id="rbro_text_element_size_error" class="rbroErrorMessage"></div>'),r.append(a),t.append(r);var p=$('<div class="rbroPanelSectionHeader"></div>'),c=$('<span id="rbro_text_element_style_header_icon" class="rbroPanelSectionHeaderOpen rbroIcon-minus"></span>');r=$('<div id="rbro_text_element_style_header" class="rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_style_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_style_section").toggleClass("rbroHidden"),c.toggleClass("rbroIcon-plus"),c.toggleClass("rbroIcon-minus"),c.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+p.position().top))}),p.append(c),p.append("<span>"+this.rb.getLabel("docElementStyle")+"</span>"),r.append(p),t.append(r);var _=$('<div id="rbro_text_element_style_section"></div>');r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_style_id">'+this.rb.getLabel("docElementStyle")+":</label>"),a=$('<div class="rbroFormField"></div>'),this.elStyle=$('<select id="rbro_text_element_style_id"></select>').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_style_id","styleId",e.elStyle.val(),h.default.type.select,e.rb);e.rb.executeCommand(t)}}),a.append(this.elStyle),r.append(a),_.append(r);var m=$('<div id="rbro_text_element_style_settings"></div>');b.default.renderStyle(m,"text_element_","",y.default.type.text,this,this.rb),_.append(m),t.append(_);var f=$('<div class="rbroPanelSectionHeader"></div>'),v=$('<span id="rbro_text_element_print_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_text_element_print_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_print_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_print_section").toggleClass("rbroHidden"),v.toggleClass("rbroIcon-plus"),v.toggleClass("rbroIcon-minus"),v.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+f.position().top),autosize.update($("#rbro_text_element_print_if")))}),f.append(v),f.append("<span>"+this.rb.getLabel("docElementPrintSettings")+"</span>"),r.append(f),t.append(r);var g=$('<div id="rbro_text_element_print_section" class="rbroHidden"></div>');r=$('<div id="rbro_text_element_print_if_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_print_if">'+this.rb.getLabel("docElementPrintIf")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var w=$('<textarea id="rbro_text_element_print_if" rows="1"></textarea>').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("printIf")!==w.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_print_if","printIf",w.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}}).blur(function(){e.rb.getPopupWindow().hide()});autosize(w),a.append(w),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_print_if","parameter",C.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_text_element_print_if_error" class="rbroErrorMessage"></div>'),r.append(a),g.append(r),r=$('<div id="rbro_text_element_remove_empty_element_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_remove_empty_element">'+this.rb.getLabel("docElementRemoveEmptyElement")+":</label>"),a=$('<div class="rbroFormField"></div>');var I=$('<input id="rbro_text_element_remove_empty_element" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_remove_empty_element","removeEmptyElement",I.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(I),r.append(a),g.append(r),t.append(g),r=$('<div id="rbro_text_element_always_print_on_same_page_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_always_print_on_same_page">'+this.rb.getLabel("docElementAlwaysPrintOnSamePage")+":</label>"),a=$('<div class="rbroFormField"></div>');var x=$('<input id="rbro_text_element_always_print_on_same_page" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_always_print_on_same_page","alwaysPrintOnSamePage",x.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(x),r.append(a),g.append(r),t.append(g),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_pattern">'+this.rb.getLabel("textElementPattern")+":</label>"),a=$('<div class="rbroFormField"></div>');var k=$('<input id="rbro_text_element_pattern">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("pattern")!==k.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_pattern","pattern",k.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}}).focus(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getPatterns(),e.selectedObjId,"rbro_text_element_pattern","pattern",C.default.type.pattern)}).blur(function(){e.rb.getPopupWindow().hide()}).mouseup(function(e){e.preventDefault(),e.stopPropagation()});a.append(k),a.append('<div id="rbro_text_element_pattern_error" class="rbroErrorMessage"></div>'),r.append(a),g.append(r),t.append(g);var O=$('<div class="rbroPanelSectionHeader"></div>'),P=$('<span id="rbro_text_element_cs_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_text_element_cs_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_cs_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_cs_section").toggleClass("rbroHidden"),P.toggleClass("rbroIcon-plus"),P.toggleClass("rbroIcon-minus"),P.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+O.position().top),autosize.update($("#rbro_text_element_cs_condition")))}),O.append(P),O.append("<span>"+this.rb.getLabel("docElementConditionalStyle")+"</span>"),r.append(O),t.append(r);var E=$('<div id="rbro_text_element_cs_section" class="rbroHidden"></div>');r=$('<div id="rbro_text_element_cs_condition_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_cs_condition">'+this.rb.getLabel("docElementConditionalStyleCondition")+":</label>"),a=$('<div class="rbroFormField rbroSplit"></div>');var j=$('<textarea id="rbro_text_element_cs_condition" rows="1"></textarea>').on("input",function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_cs_condition","cs_condition",j.val(),h.default.type.text,e.rb);e.rb.executeCommand(t)}});autosize(j),a.append(j),o=$('<div class="rbroButton rbroRoundButton rbroIcon-select"></div>').click(function(){var t=e.rb.getDataObject(e.selectedObjId);null!==t&&e.rb.getPopupWindow().show(e.rb.getParameterItems(t),e.selectedObjId,"rbro_text_element_cs_condition","cs_condition",C.default.type.parameterAppend)}),a.append(o),a.append('<div id="rbro_text_element_cs_condition_error" class="rbroErrorMessage"></div>'),r.append(a),E.append(r),r=$('<div class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_cs_style_id">'+this.rb.getLabel("docElementStyle")+":</label>"),a=$('<div class="rbroFormField"></div>'),this.cs_elStyle=$('<select id="rbro_text_element_cs_style_id"></select>').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_cs_style_id","cs_styleId",e.cs_elStyle.val(),h.default.type.select,e.rb);e.rb.executeCommand(t)}}),a.append(this.cs_elStyle),r.append(a),E.append(r);var S=$('<div id="rbro_text_element_cs_style_settings"></div>');if(b.default.renderStyle(S,"text_element_cs_","cs_",y.default.type.text,this,this.rb),E.append(S),t.append(E),this.rb.getProperty("enableSpreadsheet")){var V=$('<div class="rbroPanelSectionHeader"></div>'),T=$('<span id="rbro_text_element_spreadsheet_header_icon" class="rbroIcon-plus"></span>');r=$('<div id="rbro_text_element_spreadsheet_header" class="rbroFormRow rbroPanelSection"></div>').click(function(){e.rb.getDataObject(e.selectedObjId)!==null&&($("#rbro_text_element_spreadsheet_header").toggleClass("rbroPanelSectionHeaderOpen"),$("#rbro_text_element_spreadsheet_section").toggleClass("rbroHidden"),T.toggleClass("rbroIcon-plus"),T.toggleClass("rbroIcon-minus"),T.hasClass("rbroIcon-minus")&&$("#rbro_detail_panel").scrollTop($("#rbro_detail_panel").scrollTop()+V.position().top))}),V.append(T),V.append("<span>"+this.rb.getLabel("docElementSpreadsheet")+"</span>"),r.append(V),t.append(r);var F=$('<div id="rbro_text_element_spreadsheet_section" class="rbroHidden"></div>');r=$('<div id="rbro_text_element_spreadsheet_hide_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_hide">'+this.rb.getLabel("docElementSpreadsheetHide")+":</label>"),a=$('<div class="rbroFormField"></div>');var B=$('<input id="rbro_text_element_spreadsheet_hide" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_spreadsheet_hide","spreadsheet_hide",B.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(B),r.append(a),F.append(r),r=$('<div id="rbro_text_element_spreadsheet_column_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_column">'+this.rb.getLabel("docElementSpreadsheetColumn")+":</label>"),a=$('<div class="rbroFormField"></div>');var A=$('<input id="rbro_text_element_spreadsheet_column">').on("input",function(){var t=e.rb.getDataObject(e.selectedObjId);if(null!==t&&t.getValue("spreadsheet_column")!==A.val()){var r=new h.default(e.selectedObjId,"rbro_text_element_spreadsheet_column","spreadsheet_column",A.val(),h.default.type.text,e.rb);e.rb.executeCommand(r)}});D.setInputPositiveInteger(A),a.append(A),a.append('<div id="rbro_text_element_spreadsheet_column_error" class="rbroErrorMessage"></div>'),r.append(a),F.append(r),r=$('<div id="rbro_text_element_spreadsheet_add_empty_row_row" class="rbroFormRow"></div>'),r.append('<label for="rbro_text_element_spreadsheet_add_empty_row">'+this.rb.getLabel("docElementSpreadsheetAddEmptyRow")+":</label>"),a=$('<div class="rbroFormField"></div>');var L=$('<input id="rbro_text_element_spreadsheet_add_empty_row" type="checkbox">').change(function(){if(e.rb.getDataObject(e.selectedObjId)!==null){var t=new h.default(e.selectedObjId,"rbro_text_element_spreadsheet_add_empty_row","spreadsheet_addEmptyRow",L.is(":checked"),h.default.type.checkbox,e.rb);e.rb.executeCommand(t)}});a.append(L),r.append(a),F.append(r),t.append(F)}$("#rbro_detail_panel").append(t),this.renderStyleSelect()}},{key:"renderStyleSelect",value:function(){this.elStyle.empty(),this.cs_elStyle.empty(),this.elStyle.append('<option value="">'+this.rb.getLabel("styleNone")+"</option>"),this.cs_elStyle.append('<option value="">'+this.rb.getLabel("styleNone")+"</option>");var e=this.rb.getStyles(),t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e);!(t=(n=o.next()).done);t=!0){var l=n.value;this.elStyle.append('<option value="'+l.getId()+'">'+l.getName()+"</option>"),this.cs_elStyle.append('<option value="'+l.getId()+'">'+l.getName()+"</option>")}}catch(d){r=!0,a=d}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"updateAutosizeInputs",value:function(){autosize.update($("#rbro_text_element_content")),autosize.update($("#rbro_text_element_print_if")),autosize.update($("#rbro_text_element_cs_condition"))}},{key:"show",value:function(e){$("#rbro_text_element_panel").removeClass("rbroHidden"),this.updateData(e)}},{key:"hide",value:function(){$("#rbro_text_element_panel").addClass("rbroHidden")}},{key:"updateData",value:function(e){if(null!==e){if($("#rbro_text_element_content").prop("disabled",!1),$("#rbro_text_element_eval").prop("disabled",!1),$("#rbro_text_element_position_x").prop("disabled",!1),$("#rbro_text_element_position_y").prop("disabled",!1),$("#rbro_text_element_width").prop("disabled",!1),$("#rbro_text_element_height").prop("disabled",!1),$("#rbro_text_element_print_if").prop("disabled",!1),$("#rbro_text_element_remove_empty_element").prop("disabled",!1),$("#rbro_text_element_always_print_on_same_page").prop("disabled",!1),$("#rbro_text_element_pattern").prop("disabled",!1),$("#rbro_text_element_cs_condition").prop("disabled",!1),$("#rbro_text_element_style_id").prop("disabled",!1),$("#rbro_text_element_spreadsheet_hide").prop("disabled",!1),$("#rbro_text_element_spreadsheet_column").prop("disabled",!1),$("#rbro_text_element_spreadsheet_add_empty_row").prop("disabled",!1),$("#rbro_text_element_content").val(e.getValue("content")),$("#rbro_text_element_eval").prop("checked",e.getValue("eval")),$("#rbro_text_element_width").val(e.getValue("width")),$("#rbro_text_element_height").val(e.getValue("height")),$("#rbro_text_element_print_if").val(e.getValue("printIf")),$("#rbro_text_element_pattern").val(e.getValue("pattern")),e instanceof I.default){$("#rbro_text_element_position_x").val(e.getOffsetX()),$("#rbro_text_element_remove_empty_element_row").hide(),$("#rbro_text_element_always_print_on_same_page_row").hide();var t=this.rb.getDataObject(e.parentId);null!==t&&t.getValue("tableBand")==="header"?$("#rbro_text_element_print_if_row").show():$("#rbro_text_element_print_if_row").hide(),$("#rbro_text_element_spreadsheet_hide").hide(),$("#rbro_text_element_spreadsheet_column").hide(),$("#rbro_text_element_spreadsheet_header").hide(),$("#rbro_text_element_spreadsheet_section").hide()}else $("#rbro_text_element_position_x").val(e.getValue("x")),$("#rbro_text_element_position_y").val(e.getValue("y")),$("#rbro_text_element_remove_empty_element").prop("checked",e.getValue("removeEmptyElement")),$("#rbro_text_element_always_print_on_same_page").prop("checked",e.getValue("alwaysPrintOnSamePage")),$("#rbro_text_element_spreadsheet_hide").prop("checked",e.getValue("spreadsheet_hide")),$("#rbro_text_element_spreadsheet_column").val(e.getValue("spreadsheet_column")),$("#rbro_text_element_spreadsheet_add_empty_row").prop("checked",e.getValue("spreadsheet_addEmptyRow")),$("#rbro_text_element_print_if_row").show(),$("#rbro_text_element_remove_empty_element_row").show(),$("#rbro_text_element_always_print_on_same_page_row").show(),$("#rbro_text_element_spreadsheet_hide").show(),$("#rbro_text_element_spreadsheet_column").show(),$("#rbro_text_element_spreadsheet_header").show(),$("#rbro_text_element_spreadsheet_section").show();$("#rbro_text_element_cs_condition").val(e.getValue("cs_condition")),$("#rbro_text_element_style_id").val(e.getValue("styleId")),e.getValue("styleId")!==""?$("#rbro_text_element_style_settings").hide():$("#rbro_text_element_style_settings").show(),$("#rbro_text_element_cs_style_id").val(e.getValue("cs_styleId")),e.getValue("cs_styleId")!=""?$("#rbro_text_element_cs_style_settings").hide():$("#rbro_text_element_cs_style_settings").show(),e.getXTagId()!==""?($("#rbro_text_element_position_row label").text(this.rb.getLabel("docElementPosition")+":"),$("#rbro_text_element_position_row label").removeClass("rbroDisabled"),$("#rbro_text_element_position_x").prop("disabled",!1)):($("#rbro_text_element_position_row label").text(this.rb.getLabel("docElementPositionX")+":"),$("#rbro_text_element_position_row label").addClass("rbroDisabled"),$("#rbro_text_element_position_x").prop("disabled",!0)),e.getYTagId()!==""?$("#rbro_text_element_position_y").show():$("#rbro_text_element_position_y").hide(),e.getHeightTagId()!==""?($("#rbro_text_element_size_row label").text(this.rb.getLabel("docElementSize")+":"),$("#rbro_text_element_height").show()):($("#rbro_text_element_size_row label").text(this.rb.getLabel("docElementWidth")+":"),$("#rbro_text_element_height").hide()),e.hasBorderSettings()?($("#rbro_text_element_border_div").show(),$("#rbro_text_element_cs_border_div").show()):($("#rbro_text_element_border_div").hide(),$("#rbro_text_element_cs_border_div").hide()),this.selectedObjId=e.getId()}else $("#rbro_text_element_content").prop("disabled",!0),$("#rbro_text_element_eval").prop("disabled",!0),$("#rbro_text_element_position_x").prop("disabled",!0),$("#rbro_text_element_position_y").prop("disabled",!0),$("#rbro_text_element_width").prop("disabled",!0),$("#rbro_text_element_height").prop("disabled",!0),$("#rbro_text_element_print_if").prop("disabled",!0),$("#rbro_text_element_remove_empty_element").prop("disabled",!0),$("#rbro_text_element_always_print_on_same_page").prop("disabled",!0),$("#rbro_text_element_pattern").prop("disabled",!1),$("#rbro_text_element_cs_condition").prop("disabled",!0),$("#rbro_text_element_style_id").prop("disabled",!0),$("#rbro_text_element_spreadsheet_hide").prop("disabled",!0),$("#rbro_text_element_spreadsheet_column").prop("disabled",!0),$("#rbro_text_element_spreadsheet_add_empty_row").prop("disabled",!0),this.selectedObjId=null;b.default.updateStyleData(e,"text_element_","",y.default.type.text),b.default.updateStyleData(e,"text_element_cs_","cs_",y.default.type.text),this.updateAutosizeInputs(),this.updateErrors()}},{key:"notifyEvent",value:function(e,t){if(e instanceof v.default){if(t===_.default.operation.add||t===_.default.operation.move){this.renderStyleSelect();var r=this.rb.getDataObject(this.selectedObjId);null!==r&&($("#rbro_text_element_style_id").val(r.getValue("styleId")),$("#rbro_text_element_cs_style_id").val(r.getValue("cs_styleId")))}else t===_.default.operation.remove?(this.elStyle.find("option[value='"+e.getId()+"']").remove(),this.cs_elStyle.find("option[value='"+e.getId()+"']").remove()):t===_.default.operation.rename&&(this.elStyle.find("option[value='"+e.getId()+"']").text(e.getName()),this.cs_elStyle.find("option[value='"+e.getId()+"']").text(e.getName()));$("#rbro_text_element_style_id").val()===""?$("#rbro_text_element_style_settings").show():$("#rbro_text_element_style_settings").hide(),$("#rbro_text_element_cs_style_id").val()===""?$("#rbro_text_element_cs_style_settings").show():$("#rbro_text_element_cs_style_settings").hide()}}},{key:"updateErrors",value:function(){$("#rbro_text_element_panel .rbroFormRow").removeClass("rbroError"),$("#rbro_text_element_panel .rbroPanelSection").removeClass("rbroError"),$("#rbro_text_element_panel .rbroErrorMessage").text("");var e=this.rb.getDataObject(this.selectedObjId);if(null!==e){var t=!0,r=!1,a=void 0;try{for(var n,o=i.default(e.getErrors());!(t=(n=o.next()).done);t=!0){var l=n.value,d="rbro_text_element_"+l.field+"_row",s="rbro_text_element_"+l.field+"_error",u=this.rb.getLabel(l.msg_key);l.info&&(u=u.replace("${info}",'<span class="rbroErrorMessageInfo">'+l.info+"</span>")),$("#"+d).addClass("rbroError"),$("#"+s).html(u),l.field==="print_if"||l.field==="pattern"?($("#rbro_text_element_print_header").addClass("rbroError"),$("#rbro_text_element_print_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_text_element_print_header").trigger("click")):l.field==="cs_condition"?($("#rbro_text_element_cs_header").addClass("rbroError"),$("#rbro_text_element_cs_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_text_element_cs_header").trigger("click")):l.field==="spreadsheet_column"&&($("#rbro_text_element_spreadsheet_header").addClass("rbroError"),$("#rbro_text_element_spreadsheet_header").hasClass("rbroPanelSectionHeaderOpen")||$("#rbro_text_element_spreadsheet_header").trigger("click"))}}catch(p){r=!0,a=p}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}}}},{key:"getSelectedObjId",value:function(){return this.selectedObjId}}]),e}();t.default=O},function(e,t,r){e.exports={"default":r(108),__esModule:!0}},function(e,t,r){e.exports={"default":r(109),__esModule:!0}},function(e,t,r){e.exports={"default":r(110),__esModule:!0}},function(e,t,r){e.exports={"default":r(112),__esModule:!0}},function(e,t,r){e.exports={"default":r(113),__esModule:!0}},function(e,t,r){e.exports={"default":r(114),__esModule:!0}},function(e,t,r){r(77),r(76),e.exports=r(134)},function(e,t,r){var a=r(9),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(){return n.stringify.apply(n,arguments)}},function(e,t,r){r(136);var a=r(9).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,r){r(137);var a=r(9).Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},function(e,t,r){r(138);var a=r(9).Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}},function(e,t,r){r(139),e.exports=r(9).Object.getPrototypeOf},function(e,t,r){r(140),e.exports=r(9).Object.setPrototypeOf},function(e,t,r){r(142),r(141),r(143),r(144),e.exports=r(9).Symbol},function(e,t,r){r(76),r(77),e.exports=r(55).f("iterator")},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(){}},function(e,t,r){var a=r(18),n=r(132),o=r(131);e.exports=function(e){return function(t,r,i){var l,d=a(t),s=n(d.length),u=o(i,s);if(e&&r!=r){for(;s>u;)if(l=d[u++],l!=l)return!0}else for(;s>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var a=r(42),n=r(19)("toStringTag"),o=a(function(){return arguments}())=="Arguments",i=function(e,t){try{return e[t]}catch(r){}};e.exports=function(e){var t,r,l;return void 0===e?"Undefined":null===e?"Null":typeof(r=i(t=Object(e),n))=="string"?r:o?a(t):(l=a(t))=="Object"&&typeof t.callee=="function"?"Arguments":l}},function(e,t,r){var a=r(34),n=r(70),o=r(48);e.exports=function(e){var t=a(e),r=n.f;if(r)for(var i,l=r(e),d=o.f,s=0;l.length>s;)d.call(e,i=l[s++])&&t.push(i);return t}},function(e,t,r){e.exports=r(17).document&&document.documentElement},function(e,t,r){var a=r(42);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return a(e)=="String"?e.split(""):Object(e)}},function(e,t,r){var a=r(42);e.exports=Array.isArray||function(e){return a(e)=="Array"}},function(e,t,r){"use strict";var a=r(46),n=r(35),o=r(49),i={};r(27)(i,r(19)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=a(i,{next:n(1,r)}),o(e,t+" Iterator")}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var a=r(34),n=r(18);e.exports=function(e,t){for(var r,o=n(e),i=a(o),l=i.length,d=0;l>d;)if(o[r=i[d++]]===t)return r}},function(e,t,r){var a=r(36)("meta"),n=r(30),o=r(22),i=r(23).f,l=0,d=Object.isExtensible||function(){return!0},s=!r(29)(function(){return d(Object.preventExtensions({}))}),u=function(e){i(e,a,{value:{i:"O"+ ++l,w:{}}})},p=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!d(e))return"F";if(!t)return"E";u(e)}return e[a].i},b=function(e,t){if(!o(e,a)){if(!d(e))return!0;if(!t)return!1;u(e)}return e[a].w},c=function(e){return s&&_.NEED&&d(e)&&!o(e,a)&&u(e),e},_=e.exports={KEY:a,NEED:!1,fastKey:p,getWeak:b,onFreeze:c}},function(e,t,r){var a=r(23),n=r(25),o=r(34);e.exports=r(21)?Object.defineProperties:function(e,t){n(e);for(var r,i=o(t),l=i.length,d=0;l>d;)a.f(e,r=i[d++],t[r]);return e}},function(e,t,r){var a=r(18),n=r(69).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return n(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&o.call(e)=="[object Window]"?l(e):n(a(e))}},function(e,t,r){var a=r(30),n=r(25),o=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=r(65)(Function.call,r(47).f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){var a=r(52),n=r(43);e.exports=function(e){return function(t,r){var o,i,l=String(n(t)),d=a(r),s=l.length;return 0>d||d>=s?e?"":void 0:(o=l.charCodeAt(d),55296>o||o>56319||d+1===s||(i=l.charCodeAt(d+1))<56320||i>57343?e?l.charAt(d):o:e?l.slice(d,d+2):(o-55296<<10)+(i-56320)+65536)}}},function(e,t,r){var a=r(52),n=Math.max,o=Math.min;e.exports=function(e,t){return e=a(e),0>e?n(e+t,0):o(e,t)}},function(e,t,r){var a=r(52),n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},function(e,t,r){var a=r(118),n=r(19)("iterator"),o=r(33);e.exports=r(9).getIteratorMethod=function(e){return void 0!=e?e[n]||e["@@iterator"]||o[a(e)]:void 0}},function(e,t,r){var a=r(25),n=r(133);e.exports=r(9).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},function(e,t,r){"use strict";var a=r(116),n=r(124),o=r(33),i=r(18);e.exports=r(68)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(e,t,r){var a=r(26);a(a.S,"Object",{create:r(46)})},function(e,t,r){var a=r(26);a(a.S+a.F*!r(21),"Object",{defineProperty:r(23).f})},function(e,t,r){var a=r(18),n=r(47).f;r(73)("getOwnPropertyDescriptor",function(){return function(e,t){return n(a(e),t)}})},function(e,t,r){var a=r(75),n=r(71);r(73)("getPrototypeOf",function(){return function(e){return n(a(e))}})},function(e,t,r){var a=r(26);a(a.S,"Object",{setPrototypeOf:r(129).set})},function(){},function(e,t,r){"use strict";var a=r(17),n=r(22),o=r(21),i=r(26),l=r(74),d=r(126).KEY,s=r(29),u=r(51),p=r(49),b=r(36),c=r(19),_=r(55),m=r(54),h=r(125),f=r(119),v=r(122),g=r(25),y=r(18),w=r(53),I=r(35),$=r(46),x=r(128),C=r(47),k=r(23),D=r(34),O=C.f,P=k.f,E=x.f,j=a.Symbol,S=a.JSON,V=S&&S.stringify,T="prototype",F=c("_hidden"),B=c("toPrimitive"),A={}.propertyIsEnumerable,L=u("symbol-registry"),M=u("symbols"),R=u("op-symbols"),H=Object[T],z="function"==typeof j,N=a.QObject,W=!N||!N[T]||!N[T].findChild,J=o&&s(function(){return $(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var a=O(H,t);a&&delete H[t],P(e,t,r),a&&e!==H&&P(H,t,a)}:P,U=function(e){var t=M[e]=$(j[T]);return t._k=e,t},Y=z&&typeof j.iterator=="symbol"?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},G=function(e,t,r){return e===H&&G(R,t,r),g(e),t=w(t,!0),g(r),n(M,t)?(r.enumerable?(n(e,F)&&e[F][t]&&(e[F][t]=!1),r=$(r,{enumerable:I(0,!1)})):(n(e,F)||P(e,F,I(1,{})),e[F][t]=!0),J(e,t,r)):P(e,t,r)},X=function(e,t){g(e);for(var r,a=f(t=y(t)),n=0,o=a.length;o>n;)G(e,r=a[n++],t[r]);return e},K=function(e,t){return void 0===t?$(e):X($(e),t)},q=function(e){var t=A.call(this,e=w(e,!0));return this===H&&n(M,e)&&!n(R,e)?!1:t||!n(this,e)||!n(M,e)||n(this,F)&&this[F][e]?t:!0},Q=function(e,t){if(e=y(e),t=w(t,!0),e!==H||!n(M,t)||n(R,t)){var r=O(e,t);return!r||!n(M,t)||n(e,F)&&e[F][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=E(y(e)),a=[],o=0;r.length>o;)n(M,t=r[o++])||t==F||t==d||a.push(t);return a},et=function(e){for(var t,r=e===H,a=E(r?R:y(e)),o=[],i=0;a.length>i;)n(M,t=a[i++])&&(r?n(H,t):!0)&&o.push(M[t]);return o};z||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");
var e=b(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(R,r),n(this,F)&&n(this[F],e)&&(this[F][e]=!1),J(this,e,I(1,r))};return o&&W&&J(H,e,{configurable:!0,set:t}),U(e)},l(j[T],"toString",function(){return this._k}),C.f=Q,k.f=G,r(69).f=x.f=Z,r(48).f=q,r(70).f=et,o&&!r(45)&&l(H,"propertyIsEnumerable",q,!0),_.f=function(e){return U(c(e))}),i(i.G+i.W+i.F*!z,{Symbol:j});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;tt.length>rt;)c(tt[rt++]);for(var tt=D(c.store),rt=0;tt.length>rt;)m(tt[rt++]);i(i.S+i.F*!z,"Symbol",{"for":function(e){return n(L,e+="")?L[e]:L[e]=j(e)},keyFor:function(e){if(Y(e))return h(L,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),i(i.S+i.F*!z,"Object",{create:K,defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:et}),S&&i(i.S+i.F*(!z||s(function(){var e=j();return V([e])!="[null]"||V({a:e})!="{}"||V(Object(e))!="{}"})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var t,r,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);return t=a[1],"function"==typeof t&&(r=t),(r||!v(t))&&(t=function(e,t){return r&&(t=r.call(this,e,t)),Y(t)?void 0:t}),a[1]=t,V.apply(S,a)}}}),j[T][B]||r(27)(j[T],B,j[T].valueOf),p(j,"Symbol"),p(Math,"Math",!0),p(a.JSON,"JSON",!0)},function(e,t,r){r(54)("asyncIterator")},function(e,t,r){r(54)("observable")},function(e,t,r){r(78),r(80),r(79),e.exports=r(81)}]);
/*
//@ sourceMappingURL=./dist/reportbro.min.js.map
*/